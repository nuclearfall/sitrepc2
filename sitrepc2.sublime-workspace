{
	"auto_complete":
	{
		"selected_items":
		[
			[
				"region",
				"region_names"
			],
			[
				"defa",
				"default_aliases_field"
			],
			[
				"TRA",
				"TRAINING_HASHTAGS"
			],
			[
				"norn",
				"normalize_location_key"
			],
			[
				"Pr",
				"ProximityAnchor"
			],
			[
				"candidat",
				"locale_candidates"
			],
			[
				"Resol",
				"ResolvedLocation"
			],
			[
				"Ev",
				"EventMention"
			],
			[
				"serai",
				"serialize_resolved"
			],
			[
				"rnd",
				"rndr_ctx_changed"
			],
			[
				"phy",
				"phys_ctx_changed"
			],
			[
				"edpi_",
				"edpi_ctx_changed"
			],
			[
				"prope",
				"property\tNew Property"
			],
			[
				"Cano",
				"CANONICAL"
			],
			[
				"__",
				"__setattr__"
			],
			[
				"imp",
				"imprecise_str"
			],
			[
				"g",
				"geometryChanged"
			],
			[
				"geom",
				"geometryAboutToChange"
			],
			[
				"para",
				"params_kwargs"
			],
			[
				"_fiel",
				"_fields_by_key"
			],
			[
				"proe",
				"property_line_edit"
			],
			[
				"pre",
				"property_line_edit"
			],
			[
				"Proper",
				"property\tNew Property"
			],
			[
				"Ty",
				"TYPE_CHECKING"
			],
			[
				"prop",
				"propertyCommitted"
			],
			[
				"pro",
				"property\tNew Property"
			],
			[
				"U",
				"UnitStrGeometryField"
			],
			[
				"propert",
				"property\tNew Property"
			],
			[
				"Unit",
				"UnitStrGeometry"
			],
			[
				"TYP",
				"TYPE_CHECKING"
			],
			[
				"new_rec",
				"new_rect_y"
			],
			[
				"ele",
				"elem_modview"
			],
			[
				"geome",
				"geometryChanged"
			],
			[
				"proepr",
				"property\tNew Property"
			],
			[
				"opu",
				"populate_pages_with_csv"
			],
			[
				"appl",
				"_apply_base_hints"
			],
			[
				"proper",
				"property\tNew Property"
			],
			[
				"bor",
				"border_width"
			],
			[
				"_ds",
				"_display_dpi"
			],
			[
				"proep",
				"property\tNew Property"
			],
			[
				"setMax",
				"setMaximumWidth"
			],
			[
				"DEF",
				"DEFAULT_INCREMENTS"
			],
			[
				"geomet",
				"geometry_with_px_pos"
			],
			[
				"uni",
				"unit_str_geometry_field"
			],
			[
				"Uni",
				"UnitStrGeometryField"
			],
			[
				"_geom",
				"unit_str_geometry_field"
			],
			[
				"QGraph",
				"QGraphicsObject"
			],
			[
				"bll",
				"bleed_field"
			],
			[
				"corn",
				"corners_field"
			],
			[
				"_bor",
				"_border_color"
			],
			[
				"_obr",
				"_border_color"
			],
			[
				"bord",
				"border_color"
			],
			[
				"QPAIN",
				"QPainterPathStroker"
			],
			[
				"_has_",
				"_has_csv_content"
			],
			[
				"c",
				"component_template"
			],
			[
				"compon",
				"component_template"
			],
			[
				"ov",
				"_overset_hit_rect"
			],
			[
				"ove",
				"overset_hit_rect"
			],
			[
				"lai",
				"laid_out_h"
			],
			[
				"lad",
				"laid_out_w"
			],
			[
				"is_",
				"is_overset_expanded"
			],
			[
				"_is",
				"_is_overset_expanded"
			],
			[
				"_over",
				"_overset_hit_rect"
			],
			[
				"with",
				"geometry_with_px_pos"
			],
			[
				"Al",
				"AlignLeft"
			],
			[
				"Align",
				"AlignHCenter"
			],
			[
				"font",
				"last_font_new_default"
			],
			[
				"remove_t",
				"remove_template_by_pid"
			],
			[
				"bleed",
				"bleed_label"
			],
			[
				"UnitS",
				"UnitStrGeometry"
			],
			[
				"Compon",
				"ComponentTemplate"
			],
			[
				"req",
				"required_next"
			],
			[
				"ComponentTem",
				"ComponentTemplateView"
			],
			[
				"remove_temp",
				"remove_template_from_all_tabs"
			],
			[
				"upd",
				"updateGrid"
			],
			[
				"_pa",
				"_pagination_policy"
			],
			[
				"paginat",
				"pagination_policy"
			],
			[
				"pag",
				"pagination_policy"
			],
			[
				"Clon",
				"CloneComponentToSlotsCommand"
			],
			[
				"pagina",
				"pagination_policy"
			],
			[
				"white",
				"whitespace_in_units"
			],
			[
				"set",
				"setParentItem"
			],
			[
				"Com",
				"ComponentElement"
			],
			[
				"parse",
				"parse_dimension"
			],
			[
				"unre",
				"unreg_target"
			],
			[
				"prot",
				"proto_registry"
			],
			[
				"temp",
				"template_updated"
			],
			[
				"resize_s",
				"resize_start_item_pos"
			],
			[
				"UnitSt",
				"UnitStrGeometry"
			],
			[
				"_dragging_star",
				"_dragging_start_geom"
			],
			[
				"resize_st",
				"resize_start_item_geometry"
			],
			[
				"_dra",
				"_dragging_start_geom"
			],
			[
				"starting",
				"starting_drag_item"
			],
			[
				"elem",
				"elment_changed"
			],
			[
				"unit_st",
				"unit_str_geometry"
			],
			[
				"obje",
				"object_registered"
			],
			[
				"globa",
				"global_get_by_prefix"
			],
			[
				"ori",
				"orientation_changed"
			],
			[
				"_a",
				"_applyOrientation"
			],
			[
				"PAGE",
				"PAGE_SIZES"
			],
			[
				"_regis",
				"_ensure_registered"
			],
			[
				"sele",
				"selected_element"
			],
			[
				"get_all_",
				"get_global_by_type"
			],
			[
				"_handl",
				"_handle_property_change"
			],
			[
				"selec",
				"selected_element"
			],
			[
				"conf",
				"conform_geometry_pos"
			],
			[
				"conform",
				"conform_geometry_rect"
			],
			[
				"conform_geom",
				"conform_geometry_rect"
			],
			[
				"_mar",
				"_margin_top"
			],
			[
				"pagination",
				"pagination_policy"
			],
			[
				"compone",
				"component_template"
			],
			[
				"cand",
				"candidate_item"
			],
			[
				"flag",
				"display_flag_changed"
			],
			[
				"curre",
				"currentItem"
			],
			[
				"get_page",
				"get_page_rect_px"
			],
			[
				"_marg",
				"_margin_right"
			],
			[
				"Resiz",
				"ResizeAndMoveElementCommand"
			],
			[
				"Resize",
				"ResizeTemplateCommand"
			],
			[
				"Change",
				"ChangeGeometryCommand"
			],
			[
				"QGraphcisS",
				"QGraphicsSceneDragDropEvent"
			],
			[
				"_current",
				"_current_template"
			],
			[
				"on",
				"object_name_changed"
			],
			[
				"setM",
				"setMinimumWidth"
			],
			[
				"setMini",
				"setMinimumWidth"
			],
			[
				"C",
				"ComponentTemplate"
			],
			[
				"_al",
				"_alt_drag_first_pass"
			],
			[
				"resize_star",
				"resize_start_scene_pos"
			],
			[
				"eleme",
				"element_changed"
			]
		]
	},
	"buffers":
	[
		{
			"file": "/Users/bladerunner/Projects/sitrepc2.bak/src/sitrepc2/frontline/loc_amk.py",
			"settings":
			{
				"buffer_size": 6583,
				"line_ending": "Unix"
			}
		},
		{
			"file": "src/sitrepc2/gazetteer/osm_ingest.py",
			"settings":
			{
				"buffer_size": 9832,
				"encoding": "UTF-8",
				"line_ending": "Unix",
				"name": "from __future__ import annotations"
			},
			"undo_stack":
			[
				[
					1,
					1,
					"paste",
					null,
					"AQAAAAAAAAAAAAAAACEAAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					8,
					1,
					"revert",
					null,
					"AwAAAAAAAAAAAAAAAAAAAAAAAAAAIQAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSBkYXRhY2xhc3NlcyBpbXBvcnQgZGF0YWNsYXNzCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aApmcm9tIHR5cGluZyBpbXBvcnQgSXRlcmFibGUsIFNldAppbXBvcnQgc3FsaXRlMwppbXBvcnQgdW5pY29kZWRhdGEKaW1wb3J0IHJlCgppbXBvcnQgb3NtaXVtCmZyb20gc2hhcGVseS5nZW9tZXRyeSBpbXBvcnQgUG9pbnQsIHNoYXBlCmZyb20gc2hhcGVseS5wcmVwYXJlZCBpbXBvcnQgcHJlcApmcm9tIHNoYXBlbHkgaW1wb3J0IHdrYgoKCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgVXRpbGl0aWVzCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgpkZWYgbm9ybWFsaXplX2FsaWFzKHRleHQ6IHN0cikgLT4gc3RyOgogICAgdGV4dCA9IHVuaWNvZGVkYXRhLm5vcm1hbGl6ZSgiTkZLRCIsIHRleHQpCiAgICB0ZXh0ID0gdGV4dC5sb3dlcigpCiAgICB0ZXh0ID0gcmUuc3ViKHIiW15cd1xzXSIsICIgIiwgdGV4dCkKICAgIHRleHQgPSByZS5zdWIociJccysiLCAiICIsIHRleHQpLnN0cmlwKCkKICAgIHJldHVybiB0ZXh0CgoKZGVmIGVuY29kZV9jb29yZF91NjQobGF0OiBmbG9hdCwgbG9uOiBmbG9hdCkgLT4gaW50OgogICAgbGF0ID0gcm91bmQobGF0LCA2KQogICAgbG9uID0gcm91bmQobG9uLCA2KQogICAgbGF0X3UzMiA9IGludCgobGF0ICsgOTAuMCkgKiAxXzAwMF8wMDApCiAgICBsb25fdTMyID0gaW50KChsb24gKyAxODAuMCkgKiAxXzAwMF8wMDApCiAgICByZXR1cm4gKGxhdF91MzIgPDwgMzIpIHwgbG9uX3UzMgoKCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgUmVzdWx0IG9iamVjdAojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKQGRhdGFjbGFzcyhmcm96ZW49VHJ1ZSwgc2xvdHM9VHJ1ZSkKY2xhc3MgT1NNSW5nZXN0UmVzdWx0OgogICAgb3NtX3BiZl9wYXRoOiBQYXRoCiAgICBnYXpldHRlZXJfZGJfcGF0aDogUGF0aAogICAgdXNlcl9sYW5nOiBzdHIKICAgIGFkbWluX2xldmVsczogdHVwbGVbaW50LCAuLi5dCgogICAgbG9jYXRpb25fY291bnQ6IGludAogICAgbG9jYXRpb25fYWxpYXNfY291bnQ6IGludAoKICAgIGFkbWluX2FyZWFfY291bnQ6IGludAogICAgYWRtaW5fYXJlYV9hbGlhc19jb3VudDogaW50CgogICAgbG9jYXRpb25fYWRtaW5fYXJlYV9jb3VudDogaW50CgogICAgc3RhcnRlZF9hdDogZGF0ZXRpbWUKICAgIGNvbXBsZXRlZF9hdDogZGF0ZXRpbWUKCgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIE9TTSBIYW5kbGVycwojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKY2xhc3MgTG9jYXRpb25IYW5kbGVyKG9zbWl1bS5TaW1wbGVIYW5kbGVyKToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCB1c2VyX2xhbmc6IHN0cik6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCiAgICAgICAgc2VsZi51c2VyX2xhbmcgPSB1c2VyX2xhbmcKICAgICAgICBzZWxmLmxvY2F0aW9ucyA9IFtdICAjIChjaWQsIGxhdCwgbG9uLCBuYW1lLCB3aWtpZGF0YSkKICAgICAgICBzZWxmLmFsaWFzZXMgPSBbXSAgICAjIChjaWQsIGFsaWFzLCBub3JtYWxpemVkKQoKICAgIGRlZiBub2RlKHNlbGYsIG4pOgogICAgICAgIGlmIG5vdCBuLmxvY2F0aW9uLnZhbGlkKCk6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICBsYXQgPSBuLmxvY2F0aW9uLmxhdAogICAgICAgIGxvbiA9IG4ubG9jYXRpb24ubG9uCiAgICAgICAgY2lkID0gZW5jb2RlX2Nvb3JkX3U2NChsYXQsIGxvbikKCiAgICAgICAgbmFtZSA9IG4udGFncy5nZXQoZiJuYW1lOntzZWxmLnVzZXJfbGFuZ30iKQogICAgICAgIHdpa2lkYXRhID0gbi50YWdzLmdldCgid2lraWRhdGEiKQoKICAgICAgICBzZWxmLmxvY2F0aW9ucy5hcHBlbmQoKGNpZCwgbGF0LCBsb24sIG5hbWUsIHdpa2lkYXRhKSkKCiAgICAgICAgZm9yIGssIHYgaW4gbi50YWdzLml0ZW1zKCk6CiAgICAgICAgICAgIGlmIGsuZW5kc3dpdGgoZiI6e3NlbGYudXNlcl9sYW5nfSIpOgogICAgICAgICAgICAgICAgc2VsZi5hbGlhc2VzLmFwcGVuZCgKICAgICAgICAgICAgICAgICAgICAoY2lkLCB2LCBub3JtYWxpemVfYWxpYXModikpCiAgICAgICAgICAgICAgICApCgoKY2xhc3MgQWRtaW5BcmVhSGFuZGxlcihvc21pdW0uU2ltcGxlSGFuZGxlcik6CiAgICBkZWYgX19pbml0X18oc2VsZiwgdXNlcl9sYW5nOiBzdHIsIGFkbWluX2xldmVsczogU2V0W2ludF0pOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oKQogICAgICAgIHNlbGYudXNlcl9sYW5nID0gdXNlcl9sYW5nCiAgICAgICAgc2VsZi5hZG1pbl9sZXZlbHMgPSBhZG1pbl9sZXZlbHMKCiAgICAgICAgc2VsZi5hcmVhcyA9IFtdICAgICAgIyAoYWRtaW5faWQsIGFkbWluX2xldmVsLCBuYW1lLCB3aWtpZGF0YSwgZ2VvbWV0cnlfd2tiKQogICAgICAgIHNlbGYuYWxpYXNlcyA9IFtdICAgICMgKGFkbWluX2lkLCBhbGlhcywgbm9ybWFsaXplZCkKICAgICAgICBzZWxmLmdlb21zID0ge30gICAgICAjIGFkbWluX2lkIC0+IHByZXBhcmVkIGdlb21ldHJ5CgogICAgZGVmIHJlbGF0aW9uKHNlbGYsIHIpOgogICAgICAgIGlmIHIudGFncy5nZXQoImJvdW5kYXJ5IikgIT0gImFkbWluaXN0cmF0aXZlIjoKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIHRyeToKICAgICAgICAgICAgbGV2ZWwgPSBpbnQoci50YWdzLmdldCgiYWRtaW5fbGV2ZWwiKSkKICAgICAgICBleGNlcHQgKFR5cGVFcnJvciwgVmFsdWVFcnJvcik6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICBpZiBsZXZlbCBub3QgaW4gc2VsZi5hZG1pbl9sZXZlbHM6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICB0cnk6CiAgICAgICAgICAgIGdlb20gPSBvc21pdW0uZ2VvbS5XS0JGYWN0b3J5KCkuY3JlYXRlX211bHRpcG9seWdvbihyKQogICAgICAgIGV4Y2VwdCBSdW50aW1lRXJyb3I6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICBnZW9tX29iaiA9IHdrYi5sb2FkcyhnZW9tKQogICAgICAgIHNlbGYuZ2VvbXNbci5pZF0gPSBwcmVwKGdlb21fb2JqKQoKICAgICAgICBuYW1lID0gci50YWdzLmdldChmIm5hbWU6e3NlbGYudXNlcl9sYW5nfSIpCiAgICAgICAgd2lraWRhdGEgPSByLnRhZ3MuZ2V0KCJ3aWtpZGF0YSIpCgogICAgICAgIHNlbGYuYXJlYXMuYXBwZW5kKAogICAgICAgICAgICAoci5pZCwgbGV2ZWwsIG5hbWUsIHdpa2lkYXRhLCBnZW9tKQogICAgICAgICkKCiAgICAgICAgZm9yIGssIHYgaW4gci50YWdzLml0ZW1zKCk6CiAgICAgICAgICAgIGlmIGsuZW5kc3dpdGgoZiI6e3NlbGYudXNlcl9sYW5nfSIpOgogICAgICAgICAgICAgICAgc2VsZi5hbGlhc2VzLmFwcGVuZCgKICAgICAgICAgICAgICAgICAgICAoci5pZCwgdiwgbm9ybWFsaXplX2FsaWFzKHYpKQogICAgICAgICAgICAgICAgKQoKCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgTWFpbiBlbnRyeSBwb2ludAojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKZGVmIGluZ2VzdF9vc20oCiAgICAqLAogICAgb3NtX3BiZl9wYXRoOiBQYXRoLAogICAgZ2F6ZXR0ZWVyX2RiX3BhdGg6IFBhdGgsCiAgICB1c2VyX2xhbmc6IHN0ciwKICAgIGFkbWluX2xldmVsczogc2V0W2ludF0sCiAgICBvdmVyd3JpdGU6IGJvb2wgPSBGYWxzZSwKKSAtPiBPU01Jbmdlc3RSZXN1bHQ6CgogICAgc3RhcnRlZF9hdCA9IGRhdGV0aW1lLnV0Y25vdygpCgogICAgaWYgbm90IG9zbV9wYmZfcGF0aC5leGlzdHMoKToKICAgICAgICByYWlzZSBGaWxlTm90Rm91bmRFcnJvcihvc21fcGJmX3BhdGgpCgogICAgaWYgZ2F6ZXR0ZWVyX2RiX3BhdGguZXhpc3RzKCk6CiAgICAgICAgaWYgbm90IG92ZXJ3cml0ZToKICAgICAgICAgICAgcmFpc2UgRmlsZUV4aXN0c0Vycm9yKGdhemV0dGVlcl9kYl9wYXRoKQogICAgICAgIGdhemV0dGVlcl9kYl9wYXRoLnVubGluaygpCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIFBhcnNlIE9TTQogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgbG9jX2hhbmRsZXIgPSBMb2NhdGlvbkhhbmRsZXIodXNlcl9sYW5nKQogICAgYWRtaW5faGFuZGxlciA9IEFkbWluQXJlYUhhbmRsZXIodXNlcl9sYW5nLCBhZG1pbl9sZXZlbHMpCgogICAgb3NtaXVtLmFwcGx5X2ZpbGUob3NtX3BiZl9wYXRoLCBsb2NfaGFuZGxlciwgbG9jYXRpb25zPVRydWUpCiAgICBvc21pdW0uYXBwbHlfZmlsZShvc21fcGJmX3BhdGgsIGFkbWluX2hhbmRsZXIsIGxvY2F0aW9ucz1UcnVlKQoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBCdWlsZCBkYXRhYmFzZQogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgY29uID0gc3FsaXRlMy5jb25uZWN0KGdhemV0dGVlcl9kYl9wYXRoKQogICAgY29uLmV4ZWN1dGUoIlBSQUdNQSBmb3JlaWduX2tleXMgPSBPTjsiKQoKICAgIHRyeToKICAgICAgICBjdXIgPSBjb24uY3Vyc29yKCkKICAgICAgICBjdXIuZXhlY3V0ZSgiQkVHSU4gRVhDTFVTSVZFOyIpCgogICAgICAgICMgU2NoZW1hIChtaW5pbWFsLCBhc3N1bWVkIGZyZXNoIERCKQogICAgICAgIGN1ci5leGVjdXRlc2NyaXB0KAogICAgICAgICAgICAiIiIKICAgICAgICAgICAgQ1JFQVRFIFRBQkxFIGxvY2F0aW9ucyAoCiAgICAgICAgICAgICAgICBsb2NhdGlvbl9pZCBJTlRFR0VSIFBSSU1BUlkgS0VZLAogICAgICAgICAgICAgICAgbGF0IFJFQUwgTk9UIE5VTEwsCiAgICAgICAgICAgICAgICBsb24gUkVBTCBOT1QgTlVMTCwKICAgICAgICAgICAgICAgIG5hbWUgVEVYVCwKICAgICAgICAgICAgICAgIHdpa2lkYXRhIFRFWFQKICAgICAgICAgICAgKTsKCiAgICAgICAgICAgIENSRUFURSBUQUJMRSBsb2NhdGlvbl9hbGlhc2VzICgKICAgICAgICAgICAgICAgIGxvY2F0aW9uX2lkIElOVEVHRVIgTk9UIE5VTEwsCiAgICAgICAgICAgICAgICBhbGlhcyBURVhUIE5PVCBOVUxMLAogICAgICAgICAgICAgICAgbm9ybWFsaXplZCBURVhUIE5PVCBOVUxMLAogICAgICAgICAgICAgICAgUFJJTUFSWSBLRVkgKGxvY2F0aW9uX2lkLCBub3JtYWxpemVkKQogICAgICAgICAgICApOwoKICAgICAgICAgICAgQ1JFQVRFIFRBQkxFIGFkbWluX2FyZWFzICgKICAgICAgICAgICAgICAgIGFkbWluX2lkIElOVEVHRVIgUFJJTUFSWSBLRVksCiAgICAgICAgICAgICAgICBhZG1pbl9sZXZlbCBJTlRFR0VSIE5PVCBOVUxMLAogICAgICAgICAgICAgICAgbmFtZSBURVhULAogICAgICAgICAgICAgICAgd2lraWRhdGEgVEVYVCwKICAgICAgICAgICAgICAgIGdlb21ldHJ5IEJMT0IgTk9UIE5VTEwKICAgICAgICAgICAgKTsKCiAgICAgICAgICAgIENSRUFURSBUQUJMRSBhZG1pbl9hcmVhX2FsaWFzZXMgKAogICAgICAgICAgICAgICAgYWRtaW5faWQgSU5URUdFUiBOT1QgTlVMTCwKICAgICAgICAgICAgICAgIGFsaWFzIFRFWFQgTk9UIE5VTEwsCiAgICAgICAgICAgICAgICBub3JtYWxpemVkIFRFWFQgTk9UIE5VTEwsCiAgICAgICAgICAgICAgICBzb3VyY2UgVEVYVCBOT1QgTlVMTCwKICAgICAgICAgICAgICAgIFBSSU1BUlkgS0VZIChhZG1pbl9pZCwgbm9ybWFsaXplZCkKICAgICAgICAgICAgKTsKCiAgICAgICAgICAgIENSRUFURSBUQUJMRSBsb2NhdGlvbl9hZG1pbl9hcmVhcyAoCiAgICAgICAgICAgICAgICBsb2NhdGlvbl9pZCBJTlRFR0VSIE5PVCBOVUxMLAogICAgICAgICAgICAgICAgYWRtaW5faWQgSU5URUdFUiBOT1QgTlVMTCwKICAgICAgICAgICAgICAgIFBSSU1BUlkgS0VZIChsb2NhdGlvbl9pZCwgYWRtaW5faWQpCiAgICAgICAgICAgICk7CiAgICAgICAgICAgICIiIgogICAgICAgICkKCiAgICAgICAgIyBJbnNlcnQgYWRtaW4gYXJlYXMKICAgICAgICBjdXIuZXhlY3V0ZW1hbnkoCiAgICAgICAgICAgICIiIgogICAgICAgICAgICBJTlNFUlQgSU5UTyBhZG1pbl9hcmVhcwogICAgICAgICAgICAgICAgKGFkbWluX2lkLCBhZG1pbl9sZXZlbCwgbmFtZSwgd2lraWRhdGEsIGdlb21ldHJ5KQogICAgICAgICAgICBWQUxVRVMgKD8sID8sID8sID8sID8pCiAgICAgICAgICAgICIiIiwKICAgICAgICAgICAgYWRtaW5faGFuZGxlci5hcmVhcywKICAgICAgICApCgogICAgICAgIGN1ci5leGVjdXRlbWFueSgKICAgICAgICAgICAgIiIiCiAgICAgICAgICAgIElOU0VSVCBPUiBJR05PUkUgSU5UTyBhZG1pbl9hcmVhX2FsaWFzZXMKICAgICAgICAgICAgICAgIChhZG1pbl9pZCwgYWxpYXMsIG5vcm1hbGl6ZWQsIHNvdXJjZSkKICAgICAgICAgICAgVkFMVUVTICg/LCA/LCA/LCAnT1NNJykKICAgICAgICAgICAgIiIiLAogICAgICAgICAgICBhZG1pbl9oYW5kbGVyLmFsaWFzZXMsCiAgICAgICAgKQoKICAgICAgICAjIEluc2VydCBsb2NhdGlvbnMKICAgICAgICBjdXIuZXhlY3V0ZW1hbnkoCiAgICAgICAgICAgICIiIgogICAgICAgICAgICBJTlNFUlQgT1IgSUdOT1JFIElOVE8gbG9jYXRpb25zCiAgICAgICAgICAgICAgICAobG9jYXRpb25faWQsIGxhdCwgbG9uLCBuYW1lLCB3aWtpZGF0YSkKICAgICAgICAgICAgVkFMVUVTICg/LCA/LCA/LCA/LCA/KQogICAgICAgICAgICAiIiIsCiAgICAgICAgICAgIGxvY19oYW5kbGVyLmxvY2F0aW9ucywKICAgICAgICApCgogICAgICAgIGN1ci5leGVjdXRlbWFueSgKICAgICAgICAgICAgIiIiCiAgICAgICAgICAgIElOU0VSVCBPUiBJR05PUkUgSU5UTyBsb2NhdGlvbl9hbGlhc2VzCiAgICAgICAgICAgICAgICAobG9jYXRpb25faWQsIGFsaWFzLCBub3JtYWxpemVkKQogICAgICAgICAgICBWQUxVRVMgKD8sID8sID8pCiAgICAgICAgICAgICIiIiwKICAgICAgICAgICAgbG9jX2hhbmRsZXIuYWxpYXNlcywKICAgICAgICApCgogICAgICAgICMgRGVyaXZlZCBjb250YWlubWVudAogICAgICAgIGxvY2F0aW9uX2FkbWluX3Jvd3MgPSBbXQogICAgICAgIGZvciBjaWQsIGxhdCwgbG9uLCAqXyBpbiBsb2NfaGFuZGxlci5sb2NhdGlvbnM6CiAgICAgICAgICAgIHB0ID0gUG9pbnQobG9uLCBsYXQpCiAgICAgICAgICAgIGZvciBhZG1pbl9pZCwgZ2VvbSBpbiBhZG1pbl9oYW5kbGVyLmdlb21zLml0ZW1zKCk6CiAgICAgICAgICAgICAgICBpZiBnZW9tLmNvbnRhaW5zKHB0KToKICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbl9hZG1pbl9yb3dzLmFwcGVuZCgoY2lkLCBhZG1pbl9pZCkpCgogICAgICAgIGN1ci5leGVjdXRlbWFueSgKICAgICAgICAgICAgIiIiCiAgICAgICAgICAgIElOU0VSVCBPUiBJR05PUkUgSU5UTyBsb2NhdGlvbl9hZG1pbl9hcmVhcwogICAgICAgICAgICAgICAgKGxvY2F0aW9uX2lkLCBhZG1pbl9pZCkKICAgICAgICAgICAgVkFMVUVTICg/LCA/KQogICAgICAgICAgICAiIiIsCiAgICAgICAgICAgIGxvY2F0aW9uX2FkbWluX3Jvd3MsCiAgICAgICAgKQoKICAgICAgICBjdXIuZXhlY3V0ZSgiQ09NTUlUOyIpCgogICAgZXhjZXB0IEV4Y2VwdGlvbjoKICAgICAgICBjb24ucm9sbGJhY2soKQogICAgICAgIHJhaXNlCiAgICBmaW5hbGx5OgogICAgICAgIGNvbi5jbG9zZSgpCgogICAgY29tcGxldGVkX2F0ID0gZGF0ZXRpbWUudXRjbm93KCkKCiAgICByZXR1cm4gT1NNSW5nZXN0UmVzdWx0KAogICAgICAgIG9zbV9wYmZfcGF0aD1vc21fcGJmX3BhdGgsCiAgICAgICAgZ2F6ZXR0ZWVyX2RiX3BhdGg9Z2F6ZXR0ZWVyX2RiX3BhdGgsCiAgICAgICAgdXNlcl9sYW5nPXVzZXJfbGFuZywKICAgICAgICBhZG1pbl9sZXZlbHM9dHVwbGUoc29ydGVkKGFkbWluX2xldmVscykpLAoKICAgICAgICBsb2NhdGlvbl9jb3VudD1sZW4obG9jX2hhbmRsZXIubG9jYXRpb25zKSwKICAgICAgICBsb2NhdGlvbl9hbGlhc19jb3VudD1sZW4obG9jX2hhbmRsZXIuYWxpYXNlcyksCgogICAgICAgIGFkbWluX2FyZWFfY291bnQ9bGVuKGFkbWluX2hhbmRsZXIuYXJlYXMpLAogICAgICAgIGFkbWluX2FyZWFfYWxpYXNfY291bnQ9bGVuKGFkbWluX2hhbmRsZXIuYWxpYXNlcyksCgogICAgICAgIGxvY2F0aW9uX2FkbWluX2FyZWFfY291bnQ9bGVuKGxvY2F0aW9uX2FkbWluX3Jvd3MpLAoKICAgICAgICBzdGFydGVkX2F0PXN0YXJ0ZWRfYXQsCiAgICAgICAgY29tcGxldGVkX2F0PWNvbXBsZXRlZF9hdCwKICAgICkKAAAAAAAAAAAAIQAAAAAAAAAAAAAAAAAAAAAAAAAhAAAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAA/x4AAAAAAAD/HgAAAAAAAAAAAAAAAPC/"
				],
				[
					19,
					1,
					"paste",
					null,
					"AQAAAJARAAAAAAAABhIAAAAAAACDAAAAICAgIG9zbWl1bS5hcHBseV9maWxlKG9zbV9wYmZfcGF0aCwgbG9jX2hhbmRsZXIsIGxvY2F0aW9ucz1UcnVlKQogICAgb3NtaXVtLmFwcGx5X2ZpbGUob3NtX3BiZl9wYXRoLCBhZG1pbl9oYW5kbGVyLCBsb2NhdGlvbnM9VHJ1ZSk",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAABMSAAAAAAAAkBEAAAAAAAAAAAAAAADwvw"
				],
				[
					22,
					1,
					"indent",
					null,
					"AgAAAJARAAAAAAAAlBEAAAAAAAAAAAAAzhEAAAAAAADSEQAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAYSAAAAAAAAkBEAAAAAAAAAAAAAAADwvw"
				],
				[
					46,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAD7IAAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSBkYXRhY2xhc3NlcyBpbXBvcnQgZGF0YWNsYXNzCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aApmcm9tIHR5cGluZyBpbXBvcnQgSXRlcmFibGUsIFNldAppbXBvcnQgc3FsaXRlMwppbXBvcnQgdW5pY29kZWRhdGEKaW1wb3J0IHJlCgppbXBvcnQgb3NtaXVtCmZyb20gc2hhcGVseS5nZW9tZXRyeSBpbXBvcnQgUG9pbnQsIHNoYXBlCmZyb20gc2hhcGVseS5wcmVwYXJlZCBpbXBvcnQgcHJlcApmcm9tIHNoYXBlbHkgaW1wb3J0IHdrYgoKCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgVXRpbGl0aWVzCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgpkZWYgbm9ybWFsaXplX2FsaWFzKHRleHQ6IHN0cikgLT4gc3RyOgogICAgdGV4dCA9IHVuaWNvZGVkYXRhLm5vcm1hbGl6ZSgiTkZLRCIsIHRleHQpCiAgICB0ZXh0ID0gdGV4dC5sb3dlcigpCiAgICB0ZXh0ID0gcmUuc3ViKHIiW15cd1xzXSIsICIgIiwgdGV4dCkKICAgIHRleHQgPSByZS5zdWIociJccysiLCAiICIsIHRleHQpLnN0cmlwKCkKICAgIHJldHVybiB0ZXh0CgoKZGVmIGVuY29kZV9jb29yZF91NjQobGF0OiBmbG9hdCwgbG9uOiBmbG9hdCkgLT4gaW50OgogICAgbGF0ID0gcm91bmQobGF0LCA2KQogICAgbG9uID0gcm91bmQobG9uLCA2KQogICAgbGF0X3UzMiA9IGludCgobGF0ICsgOTAuMCkgKiAxXzAwMF8wMDApCiAgICBsb25fdTMyID0gaW50KChsb24gKyAxODAuMCkgKiAxXzAwMF8wMDApCiAgICByZXR1cm4gKGxhdF91MzIgPDwgMzIpIHwgbG9uX3UzMgoKCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgUmVzdWx0IG9iamVjdAojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKQGRhdGFjbGFzcyhmcm96ZW49VHJ1ZSwgc2xvdHM9VHJ1ZSkKY2xhc3MgT1NNSW5nZXN0UmVzdWx0OgogICAgb3NtX3BiZl9wYXRoOiBQYXRoCiAgICBnYXpldHRlZXJfZGJfcGF0aDogUGF0aAogICAgdXNlcl9sYW5nOiBzdHIKICAgIGFkbWluX2xldmVsczogdHVwbGVbaW50LCAuLi5dCgogICAgbG9jYXRpb25fY291bnQ6IGludAogICAgbG9jYXRpb25fYWxpYXNfY291bnQ6IGludAoKICAgIGFkbWluX2FyZWFfY291bnQ6IGludAogICAgYWRtaW5fYXJlYV9hbGlhc19jb3VudDogaW50CgogICAgbG9jYXRpb25fYWRtaW5fYXJlYV9jb3VudDogaW50CgogICAgc3RhcnRlZF9hdDogZGF0ZXRpbWUKICAgIGNvbXBsZXRlZF9hdDogZGF0ZXRpbWUKCgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIE9TTSBIYW5kbGVycwojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKY2xhc3MgTG9jYXRpb25IYW5kbGVyKG9zbWl1bS5TaW1wbGVIYW5kbGVyKToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCB1c2VyX2xhbmc6IHN0cik6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCiAgICAgICAgc2VsZi51c2VyX2xhbmcgPSB1c2VyX2xhbmcKICAgICAgICBzZWxmLmxvY2F0aW9ucyA9IFtdICAjIChjaWQsIGxhdCwgbG9uLCBuYW1lLCB3aWtpZGF0YSkKICAgICAgICBzZWxmLmFsaWFzZXMgPSBbXSAgICAjIChjaWQsIGFsaWFzLCBub3JtYWxpemVkKQoKICAgIGRlZiBub2RlKHNlbGYsIG4pOgogICAgICAgIGlmIG5vdCBuLmxvY2F0aW9uLnZhbGlkKCk6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICBsYXQgPSBuLmxvY2F0aW9uLmxhdAogICAgICAgIGxvbiA9IG4ubG9jYXRpb24ubG9uCiAgICAgICAgY2lkID0gZW5jb2RlX2Nvb3JkX3U2NChsYXQsIGxvbikKCiAgICAgICAgbmFtZSA9IG4udGFncy5nZXQoZiJuYW1lOntzZWxmLnVzZXJfbGFuZ30iKQogICAgICAgIHdpa2lkYXRhID0gbi50YWdzLmdldCgid2lraWRhdGEiKQoKICAgICAgICBzZWxmLmxvY2F0aW9ucy5hcHBlbmQoKGNpZCwgbGF0LCBsb24sIG5hbWUsIHdpa2lkYXRhKSkKCiAgICAgICAgZm9yIGssIHYgaW4gbi50YWdzLml0ZW1zKCk6CiAgICAgICAgICAgIGlmIGsuZW5kc3dpdGgoZiI6e3NlbGYudXNlcl9sYW5nfSIpOgogICAgICAgICAgICAgICAgc2VsZi5hbGlhc2VzLmFwcGVuZCgKICAgICAgICAgICAgICAgICAgICAoY2lkLCB2LCBub3JtYWxpemVfYWxpYXModikpCiAgICAgICAgICAgICAgICApCgoKY2xhc3MgQWRtaW5BcmVhSGFuZGxlcihvc21pdW0uU2ltcGxlSGFuZGxlcik6CiAgICBkZWYgX19pbml0X18oc2VsZiwgdXNlcl9sYW5nOiBzdHIsIGFkbWluX2xldmVsczogU2V0W2ludF0pOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oKQogICAgICAgIHNlbGYudXNlcl9sYW5nID0gdXNlcl9sYW5nCiAgICAgICAgc2VsZi5hZG1pbl9sZXZlbHMgPSBhZG1pbl9sZXZlbHMKCiAgICAgICAgc2VsZi5hcmVhcyA9IFtdICAgICAgIyAoYWRtaW5faWQsIGFkbWluX2xldmVsLCBuYW1lLCB3aWtpZGF0YSwgZ2VvbWV0cnlfd2tiKQogICAgICAgIHNlbGYuYWxpYXNlcyA9IFtdICAgICMgKGFkbWluX2lkLCBhbGlhcywgbm9ybWFsaXplZCkKICAgICAgICBzZWxmLmdlb21zID0ge30gICAgICAjIGFkbWluX2lkIC0+IHByZXBhcmVkIGdlb21ldHJ5CgogICAgZGVmIHJlbGF0aW9uKHNlbGYsIHIpOgogICAgICAgIGlmIHIudGFncy5nZXQoImJvdW5kYXJ5IikgIT0gImFkbWluaXN0cmF0aXZlIjoKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIHRyeToKICAgICAgICAgICAgbGV2ZWwgPSBpbnQoci50YWdzLmdldCgiYWRtaW5fbGV2ZWwiKSkKICAgICAgICBleGNlcHQgKFR5cGVFcnJvciwgVmFsdWVFcnJvcik6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICBpZiBsZXZlbCBub3QgaW4gc2VsZi5hZG1pbl9sZXZlbHM6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICB0cnk6CiAgICAgICAgICAgIGdlb20gPSBvc21pdW0uZ2VvbS5XS0JGYWN0b3J5KCkuY3JlYXRlX211bHRpcG9seWdvbihyKQogICAgICAgIGV4Y2VwdCBSdW50aW1lRXJyb3I6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICBnZW9tX29iaiA9IHdrYi5sb2FkcyhnZW9tKQogICAgICAgIHNlbGYuZ2VvbXNbci5pZF0gPSBwcmVwKGdlb21fb2JqKQoKICAgICAgICBuYW1lID0gci50YWdzLmdldChmIm5hbWU6e3NlbGYudXNlcl9sYW5nfSIpCiAgICAgICAgd2lraWRhdGEgPSByLnRhZ3MuZ2V0KCJ3aWtpZGF0YSIpCgogICAgICAgIHNlbGYuYXJlYXMuYXBwZW5kKAogICAgICAgICAgICAoci5pZCwgbGV2ZWwsIG5hbWUsIHdpa2lkYXRhLCBnZW9tKQogICAgICAgICkKCiAgICAgICAgZm9yIGssIHYgaW4gci50YWdzLml0ZW1zKCk6CiAgICAgICAgICAgIGlmIGsuZW5kc3dpdGgoZiI6e3NlbGYudXNlcl9sYW5nfSIpOgogICAgICAgICAgICAgICAgc2VsZi5hbGlhc2VzLmFwcGVuZCgKICAgICAgICAgICAgICAgICAgICAoci5pZCwgdiwgbm9ybWFsaXplX2FsaWFzKHYpKQogICAgICAgICAgICAgICAgKQoKCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgTWFpbiBlbnRyeSBwb2ludAojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKZGVmIGluZ2VzdF9vc20oCiAgICAqLAogICAgb3NtX3BiZl9wYXRoOiBQYXRoLAogICAgZ2F6ZXR0ZWVyX2RiX3BhdGg6IFBhdGgsCiAgICB1c2VyX2xhbmc6IHN0ciwKICAgIGFkbWluX2xldmVsczogc2V0W2ludF0sCiAgICBvdmVyd3JpdGU6IGJvb2wgPSBGYWxzZSwKKSAtPiBPU01Jbmdlc3RSZXN1bHQ6CgogICAgc3RhcnRlZF9hdCA9IGRhdGV0aW1lLnV0Y25vdygpCgogICAgaWYgbm90IG9zbV9wYmZfcGF0aC5leGlzdHMoKToKICAgICAgICByYWlzZSBGaWxlTm90Rm91bmRFcnJvcihvc21fcGJmX3BhdGgpCgogICAgaWYgZ2F6ZXR0ZWVyX2RiX3BhdGguZXhpc3RzKCk6CiAgICAgICAgaWYgbm90IG92ZXJ3cml0ZToKICAgICAgICAgICAgcmFpc2UgRmlsZUV4aXN0c0Vycm9yKGdhemV0dGVlcl9kYl9wYXRoKQogICAgICAgIGdhemV0dGVlcl9kYl9wYXRoLnVubGluaygpCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIFBhcnNlIE9TTQogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgbG9jX2hhbmRsZXIgPSBMb2NhdGlvbkhhbmRsZXIodXNlcl9sYW5nKQogICAgYWRtaW5faGFuZGxlciA9IEFkbWluQXJlYUhhbmRsZXIodXNlcl9sYW5nLCBhZG1pbl9sZXZlbHMpCgogICAgbG9jX2hhbmRsZXIuYXBwbHlfZmlsZShzdHIob3NtX3BiZl9wYXRoKSwgbG9jYXRpb25zPVRydWUpCiAgICBhZG1pbl9oYW5kbGVyLmFwcGx5X2ZpbGUoc3RyKG9zbV9wYmZfcGF0aCksIGxvY2F0aW9ucz1UcnVlKQoKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICMgQnVpbGQgZGF0YWJhc2UKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGNvbiA9IHNxbGl0ZTMuY29ubmVjdChnYXpldHRlZXJfZGJfcGF0aCkKICAgIGNvbi5leGVjdXRlKCJQUkFHTUEgZm9yZWlnbl9rZXlzID0gT047IikKCiAgICB0cnk6CiAgICAgICAgY3VyID0gY29uLmN1cnNvcigpCiAgICAgICAgY3VyLmV4ZWN1dGUoIkJFR0lOIEVYQ0xVU0lWRTsiKQoKICAgICAgICAjIFNjaGVtYSAobWluaW1hbCwgYXNzdW1lZCBmcmVzaCBEQikKICAgICAgICBjdXIuZXhlY3V0ZXNjcmlwdCgKICAgICAgICAgICAgIiIiCiAgICAgICAgICAgIENSRUFURSBUQUJMRSBsb2NhdGlvbnMgKAogICAgICAgICAgICAgICAgbG9jYXRpb25faWQgSU5URUdFUiBQUklNQVJZIEtFWSwKICAgICAgICAgICAgICAgIGxhdCBSRUFMIE5PVCBOVUxMLAogICAgICAgICAgICAgICAgbG9uIFJFQUwgTk9UIE5VTEwsCiAgICAgICAgICAgICAgICBuYW1lIFRFWFQsCiAgICAgICAgICAgICAgICB3aWtpZGF0YSBURVhUCiAgICAgICAgICAgICk7CgogICAgICAgICAgICBDUkVBVEUgVEFCTEUgbG9jYXRpb25fYWxpYXNlcyAoCiAgICAgICAgICAgICAgICBsb2NhdGlvbl9pZCBJTlRFR0VSIE5PVCBOVUxMLAogICAgICAgICAgICAgICAgYWxpYXMgVEVYVCBOT1QgTlVMTCwKICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWQgVEVYVCBOT1QgTlVMTCwKICAgICAgICAgICAgICAgIFBSSU1BUlkgS0VZIChsb2NhdGlvbl9pZCwgbm9ybWFsaXplZCkKICAgICAgICAgICAgKTsKCiAgICAgICAgICAgIENSRUFURSBUQUJMRSBhZG1pbl9hcmVhcyAoCiAgICAgICAgICAgICAgICBhZG1pbl9pZCBJTlRFR0VSIFBSSU1BUlkgS0VZLAogICAgICAgICAgICAgICAgYWRtaW5fbGV2ZWwgSU5URUdFUiBOT1QgTlVMTCwKICAgICAgICAgICAgICAgIG5hbWUgVEVYVCwKICAgICAgICAgICAgICAgIHdpa2lkYXRhIFRFWFQsCiAgICAgICAgICAgICAgICBnZW9tZXRyeSBCTE9CIE5PVCBOVUxMCiAgICAgICAgICAgICk7CgogICAgICAgICAgICBDUkVBVEUgVEFCTEUgYWRtaW5fYXJlYV9hbGlhc2VzICgKICAgICAgICAgICAgICAgIGFkbWluX2lkIElOVEVHRVIgTk9UIE5VTEwsCiAgICAgICAgICAgICAgICBhbGlhcyBURVhUIE5PVCBOVUxMLAogICAgICAgICAgICAgICAgbm9ybWFsaXplZCBURVhUIE5PVCBOVUxMLAogICAgICAgICAgICAgICAgc291cmNlIFRFWFQgTk9UIE5VTEwsCiAgICAgICAgICAgICAgICBQUklNQVJZIEtFWSAoYWRtaW5faWQsIG5vcm1hbGl6ZWQpCiAgICAgICAgICAgICk7CgogICAgICAgICAgICBDUkVBVEUgVEFCTEUgbG9jYXRpb25fYWRtaW5fYXJlYXMgKAogICAgICAgICAgICAgICAgbG9jYXRpb25faWQgSU5URUdFUiBOT1QgTlVMTCwKICAgICAgICAgICAgICAgIGFkbWluX2lkIElOVEVHRVIgTk9UIE5VTEwsCiAgICAgICAgICAgICAgICBQUklNQVJZIEtFWSAobG9jYXRpb25faWQsIGFkbWluX2lkKQogICAgICAgICAgICApOwogICAgICAgICAgICAiIiIKICAgICAgICApCgogICAgICAgICMgSW5zZXJ0IGFkbWluIGFyZWFzCiAgICAgICAgY3VyLmV4ZWN1dGVtYW55KAogICAgICAgICAgICAiIiIKICAgICAgICAgICAgSU5TRVJUIElOVE8gYWRtaW5fYXJlYXMKICAgICAgICAgICAgICAgIChhZG1pbl9pZCwgYWRtaW5fbGV2ZWwsIG5hbWUsIHdpa2lkYXRhLCBnZW9tZXRyeSkKICAgICAgICAgICAgVkFMVUVTICg/LCA/LCA/LCA/LCA/KQogICAgICAgICAgICAiIiIsCiAgICAgICAgICAgIGFkbWluX2hhbmRsZXIuYXJlYXMsCiAgICAgICAgKQoKICAgICAgICBjdXIuZXhlY3V0ZW1hbnkoCiAgICAgICAgICAgICIiIgogICAgICAgICAgICBJTlNFUlQgT1IgSUdOT1JFIElOVE8gYWRtaW5fYXJlYV9hbGlhc2VzCiAgICAgICAgICAgICAgICAoYWRtaW5faWQsIGFsaWFzLCBub3JtYWxpemVkLCBzb3VyY2UpCiAgICAgICAgICAgIFZBTFVFUyAoPywgPywgPywgJ09TTScpCiAgICAgICAgICAgICIiIiwKICAgICAgICAgICAgYWRtaW5faGFuZGxlci5hbGlhc2VzLAogICAgICAgICkKCiAgICAgICAgIyBJbnNlcnQgbG9jYXRpb25zCiAgICAgICAgY3VyLmV4ZWN1dGVtYW55KAogICAgICAgICAgICAiIiIKICAgICAgICAgICAgSU5TRVJUIE9SIElHTk9SRSBJTlRPIGxvY2F0aW9ucwogICAgICAgICAgICAgICAgKGxvY2F0aW9uX2lkLCBsYXQsIGxvbiwgbmFtZSwgd2lraWRhdGEpCiAgICAgICAgICAgIFZBTFVFUyAoPywgPywgPywgPywgPykKICAgICAgICAgICAgIiIiLAogICAgICAgICAgICBsb2NfaGFuZGxlci5sb2NhdGlvbnMsCiAgICAgICAgKQoKICAgICAgICBjdXIuZXhlY3V0ZW1hbnkoCiAgICAgICAgICAgICIiIgogICAgICAgICAgICBJTlNFUlQgT1IgSUdOT1JFIElOVE8gbG9jYXRpb25fYWxpYXNlcwogICAgICAgICAgICAgICAgKGxvY2F0aW9uX2lkLCBhbGlhcywgbm9ybWFsaXplZCkKICAgICAgICAgICAgVkFMVUVTICg/LCA/LCA/KQogICAgICAgICAgICAiIiIsCiAgICAgICAgICAgIGxvY19oYW5kbGVyLmFsaWFzZXMsCiAgICAgICAgKQoKICAgICAgICAjIERlcml2ZWQgY29udGFpbm1lbnQKICAgICAgICBsb2NhdGlvbl9hZG1pbl9yb3dzID0gW10KICAgICAgICBmb3IgY2lkLCBsYXQsIGxvbiwgKl8gaW4gbG9jX2hhbmRsZXIubG9jYXRpb25zOgogICAgICAgICAgICBwdCA9IFBvaW50KGxvbiwgbGF0KQogICAgICAgICAgICBmb3IgYWRtaW5faWQsIGdlb20gaW4gYWRtaW5faGFuZGxlci5nZW9tcy5pdGVtcygpOgogICAgICAgICAgICAgICAgaWYgZ2VvbS5jb250YWlucyhwdCk6CiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb25fYWRtaW5fcm93cy5hcHBlbmQoKGNpZCwgYWRtaW5faWQpKQoKICAgICAgICBjdXIuZXhlY3V0ZW1hbnkoCiAgICAgICAgICAgICIiIgogICAgICAgICAgICBJTlNFUlQgT1IgSUdOT1JFIElOVE8gbG9jYXRpb25fYWRtaW5fYXJlYXMKICAgICAgICAgICAgICAgIChsb2NhdGlvbl9pZCwgYWRtaW5faWQpCiAgICAgICAgICAgIFZBTFVFUyAoPywgPykKICAgICAgICAgICAgIiIiLAogICAgICAgICAgICBsb2NhdGlvbl9hZG1pbl9yb3dzLAogICAgICAgICkKCiAgICAgICAgY3VyLmV4ZWN1dGUoIkNPTU1JVDsiKQoKICAgIGV4Y2VwdCBFeGNlcHRpb246CiAgICAgICAgY29uLnJvbGxiYWNrKCkKICAgICAgICByYWlzZQogICAgZmluYWxseToKICAgICAgICBjb24uY2xvc2UoKQoKICAgIGNvbXBsZXRlZF9hdCA9IGRhdGV0aW1lLnV0Y25vdygpCgogICAgcmV0dXJuIE9TTUluZ2VzdFJlc3VsdCgKICAgICAgICBvc21fcGJmX3BhdGg9b3NtX3BiZl9wYXRoLAogICAgICAgIGdhemV0dGVlcl9kYl9wYXRoPWdhemV0dGVlcl9kYl9wYXRoLAogICAgICAgIHVzZXJfbGFuZz11c2VyX2xhbmcsCiAgICAgICAgYWRtaW5fbGV2ZWxzPXR1cGxlKHNvcnRlZChhZG1pbl9sZXZlbHMpKSwKCiAgICAgICAgbG9jYXRpb25fY291bnQ9bGVuKGxvY19oYW5kbGVyLmxvY2F0aW9ucyksCiAgICAgICAgbG9jYXRpb25fYWxpYXNfY291bnQ9bGVuKGxvY19oYW5kbGVyLmFsaWFzZXMpLAoKICAgICAgICBhZG1pbl9hcmVhX2NvdW50PWxlbihhZG1pbl9oYW5kbGVyLmFyZWFzKSwKICAgICAgICBhZG1pbl9hcmVhX2FsaWFzX2NvdW50PWxlbihhZG1pbl9oYW5kbGVyLmFsaWFzZXMpLAoKICAgICAgICBsb2NhdGlvbl9hZG1pbl9hcmVhX2NvdW50PWxlbihsb2NhdGlvbl9hZG1pbl9yb3dzKSwKCiAgICAgICAgc3RhcnRlZF9hdD1zdGFydGVkX2F0LAogICAgICAgIGNvbXBsZXRlZF9hdD1jb21wbGV0ZWRfYXQsCiAgICApCgAAAAAAAAAA+yAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAABgRAAAAAAAAGBEAAAAAAAAAAAAAAADwvw"
				],
				[
					48,
					1,
					"paste",
					null,
					"AQAAAAAAAAAAAAAAzB4AAAAAAAD7IAAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSBkYXRhY2xhc3NlcyBpbXBvcnQgZGF0YWNsYXNzCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aApmcm9tIHR5cGluZyBpbXBvcnQgSXRlcmFibGUsIFNldAppbXBvcnQgc3FsaXRlMwppbXBvcnQgdW5pY29kZWRhdGEKaW1wb3J0IHJlCgppbXBvcnQgb3NtaXVtCmZyb20gc2hhcGVseS5nZW9tZXRyeSBpbXBvcnQgUG9pbnQsIHNoYXBlCmZyb20gc2hhcGVseS5wcmVwYXJlZCBpbXBvcnQgcHJlcApmcm9tIHNoYXBlbHkgaW1wb3J0IHdrYgoKCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgVXRpbGl0aWVzCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgpkZWYgbm9ybWFsaXplX2FsaWFzKHRleHQ6IHN0cikgLT4gc3RyOgogICAgdGV4dCA9IHVuaWNvZGVkYXRhLm5vcm1hbGl6ZSgiTkZLRCIsIHRleHQpCiAgICB0ZXh0ID0gdGV4dC5sb3dlcigpCiAgICB0ZXh0ID0gcmUuc3ViKHIiW15cd1xzXSIsICIgIiwgdGV4dCkKICAgIHRleHQgPSByZS5zdWIociJccysiLCAiICIsIHRleHQpLnN0cmlwKCkKICAgIHJldHVybiB0ZXh0CgoKZGVmIGVuY29kZV9jb29yZF91NjQobGF0OiBmbG9hdCwgbG9uOiBmbG9hdCkgLT4gaW50OgogICAgbGF0ID0gcm91bmQobGF0LCA2KQogICAgbG9uID0gcm91bmQobG9uLCA2KQogICAgbGF0X3UzMiA9IGludCgobGF0ICsgOTAuMCkgKiAxXzAwMF8wMDApCiAgICBsb25fdTMyID0gaW50KChsb24gKyAxODAuMCkgKiAxXzAwMF8wMDApCiAgICByZXR1cm4gKGxhdF91MzIgPDwgMzIpIHwgbG9uX3UzMgoKCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgUmVzdWx0IG9iamVjdAojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKQGRhdGFjbGFzcyhmcm96ZW49VHJ1ZSwgc2xvdHM9VHJ1ZSkKY2xhc3MgT1NNSW5nZXN0UmVzdWx0OgogICAgb3NtX3BiZl9wYXRoOiBQYXRoCiAgICBnYXpldHRlZXJfZGJfcGF0aDogUGF0aAogICAgdXNlcl9sYW5nOiBzdHIKICAgIGFkbWluX2xldmVsczogdHVwbGVbaW50LCAuLi5dCgogICAgbG9jYXRpb25fY291bnQ6IGludAogICAgbG9jYXRpb25fYWxpYXNfY291bnQ6IGludAoKICAgIGFkbWluX2FyZWFfY291bnQ6IGludAogICAgYWRtaW5fYXJlYV9hbGlhc19jb3VudDogaW50CgogICAgbG9jYXRpb25fYWRtaW5fYXJlYV9jb3VudDogaW50CgogICAgc3RhcnRlZF9hdDogZGF0ZXRpbWUKICAgIGNvbXBsZXRlZF9hdDogZGF0ZXRpbWUKCgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIE9TTSBIYW5kbGVycwojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKY2xhc3MgTG9jYXRpb25IYW5kbGVyKG9zbWl1bS5TaW1wbGVIYW5kbGVyKToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCB1c2VyX2xhbmc6IHN0cik6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCiAgICAgICAgc2VsZi51c2VyX2xhbmcgPSB1c2VyX2xhbmcKICAgICAgICBzZWxmLmxvY2F0aW9ucyA9IFtdICAjIChjaWQsIGxhdCwgbG9uLCBuYW1lLCB3aWtpZGF0YSkKICAgICAgICBzZWxmLmFsaWFzZXMgPSBbXSAgICAjIChjaWQsIGFsaWFzLCBub3JtYWxpemVkKQoKICAgIGRlZiBub2RlKHNlbGYsIG4pOgogICAgICAgIGlmIG5vdCBuLmxvY2F0aW9uLnZhbGlkKCk6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICBsYXQgPSBuLmxvY2F0aW9uLmxhdAogICAgICAgIGxvbiA9IG4ubG9jYXRpb24ubG9uCiAgICAgICAgY2lkID0gZW5jb2RlX2Nvb3JkX3U2NChsYXQsIGxvbikKCiAgICAgICAgbmFtZSA9IG4udGFncy5nZXQoZiJuYW1lOntzZWxmLnVzZXJfbGFuZ30iKQogICAgICAgIHdpa2lkYXRhID0gbi50YWdzLmdldCgid2lraWRhdGEiKQoKICAgICAgICBzZWxmLmxvY2F0aW9ucy5hcHBlbmQoKGNpZCwgbGF0LCBsb24sIG5hbWUsIHdpa2lkYXRhKSkKCiAgICAgICAgZm9yIGssIHYgaW4gbi50YWdzLml0ZW1zKCk6CiAgICAgICAgICAgIGlmIGsuZW5kc3dpdGgoZiI6e3NlbGYudXNlcl9sYW5nfSIpOgogICAgICAgICAgICAgICAgc2VsZi5hbGlhc2VzLmFwcGVuZCgKICAgICAgICAgICAgICAgICAgICAoY2lkLCB2LCBub3JtYWxpemVfYWxpYXModikpCiAgICAgICAgICAgICAgICApCgoKY2xhc3MgQWRtaW5BcmVhSGFuZGxlcihvc21pdW0uU2ltcGxlSGFuZGxlcik6CiAgICBkZWYgX19pbml0X18oc2VsZiwgdXNlcl9sYW5nOiBzdHIsIGFkbWluX2xldmVsczogU2V0W2ludF0pOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oKQogICAgICAgIHNlbGYudXNlcl9sYW5nID0gdXNlcl9sYW5nCiAgICAgICAgc2VsZi5hZG1pbl9sZXZlbHMgPSBhZG1pbl9sZXZlbHMKCiAgICAgICAgc2VsZi5hcmVhcyA9IFtdICAgICAgIyAoYWRtaW5faWQsIGFkbWluX2xldmVsLCBuYW1lLCB3aWtpZGF0YSwgZ2VvbWV0cnlfd2tiKQogICAgICAgIHNlbGYuYWxpYXNlcyA9IFtdICAgICMgKGFkbWluX2lkLCBhbGlhcywgbm9ybWFsaXplZCkKICAgICAgICBzZWxmLmdlb21zID0ge30gICAgICAjIGFkbWluX2lkIC0+IHByZXBhcmVkIGdlb21ldHJ5CgogICAgZGVmIHJlbGF0aW9uKHNlbGYsIHIpOgogICAgICAgIGlmIHIudGFncy5nZXQoImJvdW5kYXJ5IikgIT0gImFkbWluaXN0cmF0aXZlIjoKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIHRyeToKICAgICAgICAgICAgbGV2ZWwgPSBpbnQoci50YWdzLmdldCgiYWRtaW5fbGV2ZWwiKSkKICAgICAgICBleGNlcHQgKFR5cGVFcnJvciwgVmFsdWVFcnJvcik6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICBpZiBsZXZlbCBub3QgaW4gc2VsZi5hZG1pbl9sZXZlbHM6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICB0cnk6CiAgICAgICAgICAgIGdlb20gPSBvc21pdW0uZ2VvbS5XS0JGYWN0b3J5KCkuY3JlYXRlX211bHRpcG9seWdvbihyKQogICAgICAgIGV4Y2VwdCBSdW50aW1lRXJyb3I6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICBnZW9tX29iaiA9IHdrYi5sb2FkcyhnZW9tKQogICAgICAgIHNlbGYuZ2VvbXNbci5pZF0gPSBwcmVwKGdlb21fb2JqKQoKICAgICAgICBuYW1lID0gci50YWdzLmdldChmIm5hbWU6e3NlbGYudXNlcl9sYW5nfSIpCiAgICAgICAgd2lraWRhdGEgPSByLnRhZ3MuZ2V0KCJ3aWtpZGF0YSIpCgogICAgICAgIHNlbGYuYXJlYXMuYXBwZW5kKAogICAgICAgICAgICAoci5pZCwgbGV2ZWwsIG5hbWUsIHdpa2lkYXRhLCBnZW9tKQogICAgICAgICkKCiAgICAgICAgZm9yIGssIHYgaW4gci50YWdzLml0ZW1zKCk6CiAgICAgICAgICAgIGlmIGsuZW5kc3dpdGgoZiI6e3NlbGYudXNlcl9sYW5nfSIpOgogICAgICAgICAgICAgICAgc2VsZi5hbGlhc2VzLmFwcGVuZCgKICAgICAgICAgICAgICAgICAgICAoci5pZCwgdiwgbm9ybWFsaXplX2FsaWFzKHYpKQogICAgICAgICAgICAgICAgKQoKCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgTWFpbiBlbnRyeSBwb2ludAojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKZGVmIGluZ2VzdF9vc20oCiAgICAqLAogICAgb3NtX3BiZl9wYXRoOiBQYXRoLAogICAgZ2F6ZXR0ZWVyX2RiX3BhdGg6IFBhdGgsCiAgICB1c2VyX2xhbmc6IHN0ciwKICAgIGFkbWluX2xldmVsczogc2V0W2ludF0sCiAgICBvdmVyd3JpdGU6IGJvb2wgPSBGYWxzZSwKKSAtPiBPU01Jbmdlc3RSZXN1bHQ6CgogICAgc3RhcnRlZF9hdCA9IGRhdGV0aW1lLnV0Y25vdygpCgogICAgaWYgbm90IG9zbV9wYmZfcGF0aC5leGlzdHMoKToKICAgICAgICByYWlzZSBGaWxlTm90Rm91bmRFcnJvcihvc21fcGJmX3BhdGgpCgogICAgaWYgZ2F6ZXR0ZWVyX2RiX3BhdGguZXhpc3RzKCk6CiAgICAgICAgaWYgbm90IG92ZXJ3cml0ZToKICAgICAgICAgICAgcmFpc2UgRmlsZUV4aXN0c0Vycm9yKGdhemV0dGVlcl9kYl9wYXRoKQogICAgICAgIGdhemV0dGVlcl9kYl9wYXRoLnVubGluaygpCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIFBhcnNlIE9TTQogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgbG9jX2hhbmRsZXIgPSBMb2NhdGlvbkhhbmRsZXIodXNlcl9sYW5nKQogICAgYWRtaW5faGFuZGxlciA9IEFkbWluQXJlYUhhbmRsZXIodXNlcl9sYW5nLCBhZG1pbl9sZXZlbHMpCgogICAgbG9jX2hhbmRsZXIuYXBwbHlfZmlsZShzdHIob3NtX3BiZl9wYXRoKSwgbG9jYXRpb25zPVRydWUpCiAgICBhZG1pbl9oYW5kbGVyLmFwcGx5X2ZpbGUoc3RyKG9zbV9wYmZfcGF0aCksIGxvY2F0aW9ucz1UcnVlKQoKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICMgQnVpbGQgZGF0YWJhc2UKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGNvbiA9IHNxbGl0ZTMuY29ubmVjdChnYXpldHRlZXJfZGJfcGF0aCkKICAgIGNvbi5leGVjdXRlKCJQUkFHTUEgZm9yZWlnbl9rZXlzID0gT047IikKCiAgICB0cnk6CiAgICAgICAgY3VyID0gY29uLmN1cnNvcigpCiAgICAgICAgY3VyLmV4ZWN1dGUoIkJFR0lOIEVYQ0xVU0lWRTsiKQoKICAgICAgICAjIFNjaGVtYSAobWluaW1hbCwgYXNzdW1lZCBmcmVzaCBEQikKICAgICAgICBjdXIuZXhlY3V0ZXNjcmlwdCgKICAgICAgICAgICAgIiIiCiAgICAgICAgICAgIENSRUFURSBUQUJMRSBsb2NhdGlvbnMgKAogICAgICAgICAgICAgICAgbG9jYXRpb25faWQgSU5URUdFUiBQUklNQVJZIEtFWSwKICAgICAgICAgICAgICAgIGxhdCBSRUFMIE5PVCBOVUxMLAogICAgICAgICAgICAgICAgbG9uIFJFQUwgTk9UIE5VTEwsCiAgICAgICAgICAgICAgICBuYW1lIFRFWFQsCiAgICAgICAgICAgICAgICB3aWtpZGF0YSBURVhUCiAgICAgICAgICAgICk7CgogICAgICAgICAgICBDUkVBVEUgVEFCTEUgbG9jYXRpb25fYWxpYXNlcyAoCiAgICAgICAgICAgICAgICBsb2NhdGlvbl9pZCBJTlRFR0VSIE5PVCBOVUxMLAogICAgICAgICAgICAgICAgYWxpYXMgVEVYVCBOT1QgTlVMTCwKICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWQgVEVYVCBOT1QgTlVMTCwKICAgICAgICAgICAgICAgIFBSSU1BUlkgS0VZIChsb2NhdGlvbl9pZCwgbm9ybWFsaXplZCkKICAgICAgICAgICAgKTsKCiAgICAgICAgICAgIENSRUFURSBUQUJMRSBhZG1pbl9hcmVhcyAoCiAgICAgICAgICAgICAgICBhZG1pbl9pZCBJTlRFR0VSIFBSSU1BUlkgS0VZLAogICAgICAgICAgICAgICAgYWRtaW5fbGV2ZWwgSU5URUdFUiBOT1QgTlVMTCwKICAgICAgICAgICAgICAgIG5hbWUgVEVYVCwKICAgICAgICAgICAgICAgIHdpa2lkYXRhIFRFWFQsCiAgICAgICAgICAgICAgICBnZW9tZXRyeSBCTE9CIE5PVCBOVUxMCiAgICAgICAgICAgICk7CgogICAgICAgICAgICBDUkVBVEUgVEFCTEUgYWRtaW5fYXJlYV9hbGlhc2VzICgKICAgICAgICAgICAgICAgIGFkbWluX2lkIElOVEVHRVIgTk9UIE5VTEwsCiAgICAgICAgICAgICAgICBhbGlhcyBURVhUIE5PVCBOVUxMLAogICAgICAgICAgICAgICAgbm9ybWFsaXplZCBURVhUIE5PVCBOVUxMLAogICAgICAgICAgICAgICAgc291cmNlIFRFWFQgTk9UIE5VTEwsCiAgICAgICAgICAgICAgICBQUklNQVJZIEtFWSAoYWRtaW5faWQsIG5vcm1hbGl6ZWQpCiAgICAgICAgICAgICk7CgogICAgICAgICAgICBDUkVBVEUgVEFCTEUgbG9jYXRpb25fYWRtaW5fYXJlYXMgKAogICAgICAgICAgICAgICAgbG9jYXRpb25faWQgSU5URUdFUiBOT1QgTlVMTCwKICAgICAgICAgICAgICAgIGFkbWluX2lkIElOVEVHRVIgTk9UIE5VTEwsCiAgICAgICAgICAgICAgICBQUklNQVJZIEtFWSAobG9jYXRpb25faWQsIGFkbWluX2lkKQogICAgICAgICAgICApOwogICAgICAgICAgICAiIiIKICAgICAgICApCgogICAgICAgICMgSW5zZXJ0IGFkbWluIGFyZWFzCiAgICAgICAgY3VyLmV4ZWN1dGVtYW55KAogICAgICAgICAgICAiIiIKICAgICAgICAgICAgSU5TRVJUIElOVE8gYWRtaW5fYXJlYXMKICAgICAgICAgICAgICAgIChhZG1pbl9pZCwgYWRtaW5fbGV2ZWwsIG5hbWUsIHdpa2lkYXRhLCBnZW9tZXRyeSkKICAgICAgICAgICAgVkFMVUVTICg/LCA/LCA/LCA/LCA/KQogICAgICAgICAgICAiIiIsCiAgICAgICAgICAgIGFkbWluX2hhbmRsZXIuYXJlYXMsCiAgICAgICAgKQoKICAgICAgICBjdXIuZXhlY3V0ZW1hbnkoCiAgICAgICAgICAgICIiIgogICAgICAgICAgICBJTlNFUlQgT1IgSUdOT1JFIElOVE8gYWRtaW5fYXJlYV9hbGlhc2VzCiAgICAgICAgICAgICAgICAoYWRtaW5faWQsIGFsaWFzLCBub3JtYWxpemVkLCBzb3VyY2UpCiAgICAgICAgICAgIFZBTFVFUyAoPywgPywgPywgJ09TTScpCiAgICAgICAgICAgICIiIiwKICAgICAgICAgICAgYWRtaW5faGFuZGxlci5hbGlhc2VzLAogICAgICAgICkKCiAgICAgICAgIyBJbnNlcnQgbG9jYXRpb25zCiAgICAgICAgY3VyLmV4ZWN1dGVtYW55KAogICAgICAgICAgICAiIiIKICAgICAgICAgICAgSU5TRVJUIE9SIElHTk9SRSBJTlRPIGxvY2F0aW9ucwogICAgICAgICAgICAgICAgKGxvY2F0aW9uX2lkLCBsYXQsIGxvbiwgbmFtZSwgd2lraWRhdGEpCiAgICAgICAgICAgIFZBTFVFUyAoPywgPywgPywgPywgPykKICAgICAgICAgICAgIiIiLAogICAgICAgICAgICBsb2NfaGFuZGxlci5sb2NhdGlvbnMsCiAgICAgICAgKQoKICAgICAgICBjdXIuZXhlY3V0ZW1hbnkoCiAgICAgICAgICAgICIiIgogICAgICAgICAgICBJTlNFUlQgT1IgSUdOT1JFIElOVE8gbG9jYXRpb25fYWxpYXNlcwogICAgICAgICAgICAgICAgKGxvY2F0aW9uX2lkLCBhbGlhcywgbm9ybWFsaXplZCkKICAgICAgICAgICAgVkFMVUVTICg/LCA/LCA/KQogICAgICAgICAgICAiIiIsCiAgICAgICAgICAgIGxvY19oYW5kbGVyLmFsaWFzZXMsCiAgICAgICAgKQoKICAgICAgICAjIERlcml2ZWQgY29udGFpbm1lbnQKICAgICAgICBsb2NhdGlvbl9hZG1pbl9yb3dzID0gW10KICAgICAgICBmb3IgY2lkLCBsYXQsIGxvbiwgKl8gaW4gbG9jX2hhbmRsZXIubG9jYXRpb25zOgogICAgICAgICAgICBwdCA9IFBvaW50KGxvbiwgbGF0KQogICAgICAgICAgICBmb3IgYWRtaW5faWQsIGdlb20gaW4gYWRtaW5faGFuZGxlci5nZW9tcy5pdGVtcygpOgogICAgICAgICAgICAgICAgaWYgZ2VvbS5jb250YWlucyhwdCk6CiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb25fYWRtaW5fcm93cy5hcHBlbmQoKGNpZCwgYWRtaW5faWQpKQoKICAgICAgICBjdXIuZXhlY3V0ZW1hbnkoCiAgICAgICAgICAgICIiIgogICAgICAgICAgICBJTlNFUlQgT1IgSUdOT1JFIElOVE8gbG9jYXRpb25fYWRtaW5fYXJlYXMKICAgICAgICAgICAgICAgIChsb2NhdGlvbl9pZCwgYWRtaW5faWQpCiAgICAgICAgICAgIFZBTFVFUyAoPywgPykKICAgICAgICAgICAgIiIiLAogICAgICAgICAgICBsb2NhdGlvbl9hZG1pbl9yb3dzLAogICAgICAgICkKCiAgICAgICAgY3VyLmV4ZWN1dGUoIkNPTU1JVDsiKQoKICAgIGV4Y2VwdCBFeGNlcHRpb246CiAgICAgICAgY29uLnJvbGxiYWNrKCkKICAgICAgICByYWlzZQogICAgZmluYWxseToKICAgICAgICBjb24uY2xvc2UoKQoKICAgIGNvbXBsZXRlZF9hdCA9IGRhdGV0aW1lLnV0Y25vdygpCgogICAgcmV0dXJuIE9TTUluZ2VzdFJlc3VsdCgKICAgICAgICBvc21fcGJmX3BhdGg9b3NtX3BiZl9wYXRoLAogICAgICAgIGdhemV0dGVlcl9kYl9wYXRoPWdhemV0dGVlcl9kYl9wYXRoLAogICAgICAgIHVzZXJfbGFuZz11c2VyX2xhbmcsCiAgICAgICAgYWRtaW5fbGV2ZWxzPXR1cGxlKHNvcnRlZChhZG1pbl9sZXZlbHMpKSwKCiAgICAgICAgbG9jYXRpb25fY291bnQ9bGVuKGxvY19oYW5kbGVyLmxvY2F0aW9ucyksCiAgICAgICAgbG9jYXRpb25fYWxpYXNfY291bnQ9bGVuKGxvY19oYW5kbGVyLmFsaWFzZXMpLAoKICAgICAgICBhZG1pbl9hcmVhX2NvdW50PWxlbihhZG1pbl9oYW5kbGVyLmFyZWFzKSwKICAgICAgICBhZG1pbl9hcmVhX2FsaWFzX2NvdW50PWxlbihhZG1pbl9oYW5kbGVyLmFsaWFzZXMpLAoKICAgICAgICBsb2NhdGlvbl9hZG1pbl9hcmVhX2NvdW50PWxlbihsb2NhdGlvbl9hZG1pbl9yb3dzKSwKCiAgICAgICAgc3RhcnRlZF9hdD1zdGFydGVkX2F0LAogICAgICAgIGNvbXBsZXRlZF9hdD1jb21wbGV0ZWRfYXQsCiAgICApCg",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAA+yAAAAAAAAAAAAAAAADwvw"
				],
				[
					49,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAADMHgAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSBkYXRhY2xhc3NlcyBpbXBvcnQgZGF0YWNsYXNzCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aApmcm9tIHR5cGluZyBpbXBvcnQgU2V0CmltcG9ydCBzcWxpdGUzCmltcG9ydCB1bmljb2RlZGF0YQppbXBvcnQgcmUKCmltcG9ydCBvc21pdW0KZnJvbSBzaGFwZWx5Lmdlb21ldHJ5IGltcG9ydCBQb2ludApmcm9tIHNoYXBlbHkgaW1wb3J0IHdrYgpmcm9tIHNoYXBlbHkucHJlcGFyZWQgaW1wb3J0IHByZXAKCgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIFV0aWxpdGllcwojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKZGVmIG5vcm1hbGl6ZV9hbGlhcyh0ZXh0OiBzdHIpIC0+IHN0cjoKICAgIHRleHQgPSB1bmljb2RlZGF0YS5ub3JtYWxpemUoIk5GS0QiLCB0ZXh0KQogICAgdGV4dCA9IHRleHQubG93ZXIoKQogICAgdGV4dCA9IHJlLnN1YihyIlteXHdcc10iLCAiICIsIHRleHQpCiAgICB0ZXh0ID0gcmUuc3ViKHIiXHMrIiwgIiAiLCB0ZXh0KS5zdHJpcCgpCiAgICByZXR1cm4gdGV4dAoKCmRlZiBlbmNvZGVfY29vcmRfdTY0KGxhdDogZmxvYXQsIGxvbjogZmxvYXQpIC0+IGludDoKICAgIGxhdCA9IHJvdW5kKGxhdCwgNikKICAgIGxvbiA9IHJvdW5kKGxvbiwgNikKICAgIGxhdF91MzIgPSBpbnQoKGxhdCArIDkwLjApICogMV8wMDBfMDAwKQogICAgbG9uX3UzMiA9IGludCgobG9uICsgMTgwLjApICogMV8wMDBfMDAwKQogICAgcmV0dXJuIChsYXRfdTMyIDw8IDMyKSB8IGxvbl91MzIKCgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIFJlc3VsdCBvYmplY3QKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCkBkYXRhY2xhc3MoZnJvemVuPVRydWUsIHNsb3RzPVRydWUpCmNsYXNzIE9TTUluZ2VzdFJlc3VsdDoKICAgIG9zbV9wYmZfcGF0aDogUGF0aAogICAgZ2F6ZXR0ZWVyX2RiX3BhdGg6IFBhdGgKICAgIHVzZXJfbGFuZzogc3RyCiAgICBhZG1pbl9sZXZlbHM6IHR1cGxlW2ludCwgLi4uXQoKICAgIGxvY2F0aW9uX2NvdW50OiBpbnQKICAgIGxvY2F0aW9uX2FsaWFzX2NvdW50OiBpbnQKCiAgICBhZG1pbl9hcmVhX2NvdW50OiBpbnQKICAgIGFkbWluX2FyZWFfYWxpYXNfY291bnQ6IGludAoKICAgIGxvY2F0aW9uX2FkbWluX2FyZWFfY291bnQ6IGludAoKICAgIHN0YXJ0ZWRfYXQ6IGRhdGV0aW1lCiAgICBjb21wbGV0ZWRfYXQ6IGRhdGV0aW1lCgoKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyBPU00gSGFuZGxlcnMKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCmNsYXNzIExvY2F0aW9uSGFuZGxlcihvc21pdW0uU2ltcGxlSGFuZGxlcik6CiAgICBkZWYgX19pbml0X18oc2VsZiwgdXNlcl9sYW5nOiBzdHIpOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oKQogICAgICAgIHNlbGYudXNlcl9sYW5nID0gdXNlcl9sYW5nCiAgICAgICAgc2VsZi5sb2NhdGlvbnM6IGxpc3RbdHVwbGVbaW50LCBmbG9hdCwgZmxvYXQsIHN0ciB8IE5vbmUsIHN0ciB8IE5vbmVdXSA9IFtdCiAgICAgICAgc2VsZi5hbGlhc2VzOiBsaXN0W3R1cGxlW2ludCwgc3RyLCBzdHJdXSA9IFtdCgogICAgZGVmIG5vZGUoc2VsZiwgbjogb3NtaXVtLm9zbS5Ob2RlKSAtPiBOb25lOgogICAgICAgIGlmIG5vdCBuLmxvY2F0aW9uLnZhbGlkKCk6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICBsYXQgPSBuLmxvY2F0aW9uLmxhdAogICAgICAgIGxvbiA9IG4ubG9jYXRpb24ubG9uCiAgICAgICAgY2lkID0gZW5jb2RlX2Nvb3JkX3U2NChsYXQsIGxvbikKCiAgICAgICAgbmFtZSA9IG4udGFncy5nZXQoZiJuYW1lOntzZWxmLnVzZXJfbGFuZ30iKQogICAgICAgIHdpa2lkYXRhID0gbi50YWdzLmdldCgid2lraWRhdGEiKQoKICAgICAgICBzZWxmLmxvY2F0aW9ucy5hcHBlbmQoKGNpZCwgbGF0LCBsb24sIG5hbWUsIHdpa2lkYXRhKSkKCiAgICAgICAgZm9yIGssIHYgaW4gbi50YWdzOgogICAgICAgICAgICBpZiBrLmVuZHN3aXRoKGYiOntzZWxmLnVzZXJfbGFuZ30iKToKICAgICAgICAgICAgICAgIHNlbGYuYWxpYXNlcy5hcHBlbmQoKGNpZCwgdiwgbm9ybWFsaXplX2FsaWFzKHYpKSkKCgpjbGFzcyBBZG1pbkFyZWFIYW5kbGVyKG9zbWl1bS5TaW1wbGVIYW5kbGVyKToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCB1c2VyX2xhbmc6IHN0ciwgYWRtaW5fbGV2ZWxzOiBTZXRbaW50XSk6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCiAgICAgICAgc2VsZi51c2VyX2xhbmcgPSB1c2VyX2xhbmcKICAgICAgICBzZWxmLmFkbWluX2xldmVscyA9IGFkbWluX2xldmVscwoKICAgICAgICBzZWxmLmFyZWFzOiBsaXN0W3R1cGxlW2ludCwgaW50LCBzdHIgfCBOb25lLCBzdHIgfCBOb25lLCBieXRlc11dID0gW10KICAgICAgICBzZWxmLmFsaWFzZXM6IGxpc3RbdHVwbGVbaW50LCBzdHIsIHN0cl1dID0gW10KICAgICAgICBzZWxmLnByZXBhcmVkX2dlb21zOiBkaWN0W2ludCwgb2JqZWN0XSA9IHt9CgogICAgICAgIHNlbGYuX3drYl9mYWN0b3J5ID0gb3NtaXVtLmdlb20uV0tCRmFjdG9yeSgpCgogICAgZGVmIHJlbGF0aW9uKHNlbGYsIHI6IG9zbWl1bS5vc20uUmVsYXRpb24pIC0+IE5vbmU6CiAgICAgICAgaWYgci50YWdzLmdldCgiYm91bmRhcnkiKSAhPSAiYWRtaW5pc3RyYXRpdmUiOgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgdHJ5OgogICAgICAgICAgICBsZXZlbCA9IGludChyLnRhZ3MuZ2V0KCJhZG1pbl9sZXZlbCIpKQogICAgICAgIGV4Y2VwdCAoVHlwZUVycm9yLCBWYWx1ZUVycm9yKToKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIGlmIGxldmVsIG5vdCBpbiBzZWxmLmFkbWluX2xldmVsczoKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIHRyeToKICAgICAgICAgICAgd2tiX2dlb20gPSBzZWxmLl93a2JfZmFjdG9yeS5jcmVhdGVfbXVsdGlwb2x5Z29uKHIpCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIHRyeToKICAgICAgICAgICAgZ2VvbSA9IHdrYi5sb2Fkcyh3a2JfZ2VvbSkKICAgICAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgc2VsZi5wcmVwYXJlZF9nZW9tc1tyLmlkXSA9IHByZXAoZ2VvbSkKCiAgICAgICAgbmFtZSA9IHIudGFncy5nZXQoZiJuYW1lOntzZWxmLnVzZXJfbGFuZ30iKQogICAgICAgIHdpa2lkYXRhID0gci50YWdzLmdldCgid2lraWRhdGEiKQoKICAgICAgICBzZWxmLmFyZWFzLmFwcGVuZCgoci5pZCwgbGV2ZWwsIG5hbWUsIHdpa2lkYXRhLCB3a2JfZ2VvbSkpCgogICAgICAgIGZvciBrLCB2IGluIHIudGFnczoKICAgICAgICAgICAgaWYgay5lbmRzd2l0aChmIjp7c2VsZi51c2VyX2xhbmd9Iik6CiAgICAgICAgICAgICAgICBzZWxmLmFsaWFzZXMuYXBwZW5kKChyLmlkLCB2LCBub3JtYWxpemVfYWxpYXModikpKQoKCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgTWFpbiBlbnRyeSBwb2ludAojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKZGVmIGluZ2VzdF9vc20oCiAgICAqLAogICAgb3NtX3BiZl9wYXRoOiBQYXRoLAogICAgZ2F6ZXR0ZWVyX2RiX3BhdGg6IFBhdGgsCiAgICB1c2VyX2xhbmc6IHN0ciwKICAgIGFkbWluX2xldmVsczogc2V0W2ludF0sCiAgICBvdmVyd3JpdGU6IGJvb2wgPSBGYWxzZSwKKSAtPiBPU01Jbmdlc3RSZXN1bHQ6CgogICAgc3RhcnRlZF9hdCA9IGRhdGV0aW1lLnV0Y25vdygpCgogICAgaWYgbm90IG9zbV9wYmZfcGF0aC5leGlzdHMoKToKICAgICAgICByYWlzZSBGaWxlTm90Rm91bmRFcnJvcihvc21fcGJmX3BhdGgpCgogICAgaWYgZ2F6ZXR0ZWVyX2RiX3BhdGguZXhpc3RzKCk6CiAgICAgICAgaWYgbm90IG92ZXJ3cml0ZToKICAgICAgICAgICAgcmFpc2UgRmlsZUV4aXN0c0Vycm9yKGdhemV0dGVlcl9kYl9wYXRoKQogICAgICAgIGdhemV0dGVlcl9kYl9wYXRoLnVubGluaygpCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIFBhcnNlIE9TTQogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgbG9jX2hhbmRsZXIgPSBMb2NhdGlvbkhhbmRsZXIodXNlcl9sYW5nKQogICAgYWRtaW5faGFuZGxlciA9IEFkbWluQXJlYUhhbmRsZXIodXNlcl9sYW5nLCBhZG1pbl9sZXZlbHMpCgogICAgbG9jX2hhbmRsZXIuYXBwbHlfZmlsZShzdHIob3NtX3BiZl9wYXRoKSwgbG9jYXRpb25zPVRydWUpCiAgICBhZG1pbl9oYW5kbGVyLmFwcGx5X2ZpbGUoc3RyKG9zbV9wYmZfcGF0aCksIGxvY2F0aW9ucz1UcnVlKQoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBCdWlsZCBkYXRhYmFzZQogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgY29uID0gc3FsaXRlMy5jb25uZWN0KGdhemV0dGVlcl9kYl9wYXRoKQogICAgY29uLmV4ZWN1dGUoIlBSQUdNQSBmb3JlaWduX2tleXMgPSBPTjsiKQoKICAgIHRyeToKICAgICAgICBjdXIgPSBjb24uY3Vyc29yKCkKICAgICAgICBjdXIuZXhlY3V0ZSgiQkVHSU4gRVhDTFVTSVZFOyIpCgogICAgICAgIGN1ci5leGVjdXRlc2NyaXB0KAogICAgICAgICAgICAiIiIKICAgICAgICAgICAgQ1JFQVRFIFRBQkxFIGxvY2F0aW9ucyAoCiAgICAgICAgICAgICAgICBsb2NhdGlvbl9pZCBJTlRFR0VSIFBSSU1BUlkgS0VZLAogICAgICAgICAgICAgICAgbGF0IFJFQUwgTk9UIE5VTEwsCiAgICAgICAgICAgICAgICBsb24gUkVBTCBOT1QgTlVMTCwKICAgICAgICAgICAgICAgIG5hbWUgVEVYVCwKICAgICAgICAgICAgICAgIHdpa2lkYXRhIFRFWFQKICAgICAgICAgICAgKTsKCiAgICAgICAgICAgIENSRUFURSBUQUJMRSBsb2NhdGlvbl9hbGlhc2VzICgKICAgICAgICAgICAgICAgIGxvY2F0aW9uX2lkIElOVEVHRVIgTk9UIE5VTEwsCiAgICAgICAgICAgICAgICBhbGlhcyBURVhUIE5PVCBOVUxMLAogICAgICAgICAgICAgICAgbm9ybWFsaXplZCBURVhUIE5PVCBOVUxMLAogICAgICAgICAgICAgICAgUFJJTUFSWSBLRVkgKGxvY2F0aW9uX2lkLCBub3JtYWxpemVkKQogICAgICAgICAgICApOwoKICAgICAgICAgICAgQ1JFQVRFIFRBQkxFIGFkbWluX2FyZWFzICgKICAgICAgICAgICAgICAgIGFkbWluX2lkIElOVEVHRVIgUFJJTUFSWSBLRVksCiAgICAgICAgICAgICAgICBhZG1pbl9sZXZlbCBJTlRFR0VSIE5PVCBOVUxMLAogICAgICAgICAgICAgICAgbmFtZSBURVhULAogICAgICAgICAgICAgICAgd2lraWRhdGEgVEVYVCwKICAgICAgICAgICAgICAgIGdlb21ldHJ5IEJMT0IgTk9UIE5VTEwKICAgICAgICAgICAgKTsKCiAgICAgICAgICAgIENSRUFURSBUQUJMRSBhZG1pbl9hcmVhX2FsaWFzZXMgKAogICAgICAgICAgICAgICAgYWRtaW5faWQgSU5URUdFUiBOT1QgTlVMTCwKICAgICAgICAgICAgICAgIGFsaWFzIFRFWFQgTk9UIE5VTEwsCiAgICAgICAgICAgICAgICBub3JtYWxpemVkIFRFWFQgTk9UIE5VTEwsCiAgICAgICAgICAgICAgICBzb3VyY2UgVEVYVCBOT1QgTlVMTCwKICAgICAgICAgICAgICAgIFBSSU1BUlkgS0VZIChhZG1pbl9pZCwgbm9ybWFsaXplZCkKICAgICAgICAgICAgKTsKCiAgICAgICAgICAgIENSRUFURSBUQUJMRSBsb2NhdGlvbl9hZG1pbl9hcmVhcyAoCiAgICAgICAgICAgICAgICBsb2NhdGlvbl9pZCBJTlRFR0VSIE5PVCBOVUxMLAogICAgICAgICAgICAgICAgYWRtaW5faWQgSU5URUdFUiBOT1QgTlVMTCwKICAgICAgICAgICAgICAgIFBSSU1BUlkgS0VZIChsb2NhdGlvbl9pZCwgYWRtaW5faWQpCiAgICAgICAgICAgICk7CiAgICAgICAgICAgICIiIgogICAgICAgICkKCiAgICAgICAgY3VyLmV4ZWN1dGVtYW55KAogICAgICAgICAgICAiSU5TRVJUIElOVE8gYWRtaW5fYXJlYXMgVkFMVUVTICg/LCA/LCA/LCA/LCA/KSIsCiAgICAgICAgICAgIGFkbWluX2hhbmRsZXIuYXJlYXMsCiAgICAgICAgKQoKICAgICAgICBjdXIuZXhlY3V0ZW1hbnkoCiAgICAgICAgICAgICJJTlNFUlQgT1IgSUdOT1JFIElOVE8gYWRtaW5fYXJlYV9hbGlhc2VzIFZBTFVFUyAoPywgPywgPywgJ09TTScpIiwKICAgICAgICAgICAgYWRtaW5faGFuZGxlci5hbGlhc2VzLAogICAgICAgICkKCiAgICAgICAgY3VyLmV4ZWN1dGVtYW55KAogICAgICAgICAgICAiSU5TRVJUIE9SIElHTk9SRSBJTlRPIGxvY2F0aW9ucyBWQUxVRVMgKD8sID8sID8sID8sID8pIiwKICAgICAgICAgICAgbG9jX2hhbmRsZXIubG9jYXRpb25zLAogICAgICAgICkKCiAgICAgICAgY3VyLmV4ZWN1dGVtYW55KAogICAgICAgICAgICAiSU5TRVJUIE9SIElHTk9SRSBJTlRPIGxvY2F0aW9uX2FsaWFzZXMgVkFMVUVTICg/LCA/LCA/KSIsCiAgICAgICAgICAgIGxvY19oYW5kbGVyLmFsaWFzZXMsCiAgICAgICAgKQoKICAgICAgICBsb2NhdGlvbl9hZG1pbl9yb3dzID0gW10KICAgICAgICBmb3IgY2lkLCBsYXQsIGxvbiwgKl8gaW4gbG9jX2hhbmRsZXIubG9jYXRpb25zOgogICAgICAgICAgICBwdCA9IFBvaW50KGxvbiwgbGF0KQogICAgICAgICAgICBmb3IgYWRtaW5faWQsIGdlb20gaW4gYWRtaW5faGFuZGxlci5wcmVwYXJlZF9nZW9tcy5pdGVtcygpOgogICAgICAgICAgICAgICAgaWYgZ2VvbS5jb250YWlucyhwdCk6CiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb25fYWRtaW5fcm93cy5hcHBlbmQoKGNpZCwgYWRtaW5faWQpKQoKICAgICAgICBjdXIuZXhlY3V0ZW1hbnkoCiAgICAgICAgICAgICJJTlNFUlQgT1IgSUdOT1JFIElOVE8gbG9jYXRpb25fYWRtaW5fYXJlYXMgVkFMVUVTICg/LCA/KSIsCiAgICAgICAgICAgIGxvY2F0aW9uX2FkbWluX3Jvd3MsCiAgICAgICAgKQoKICAgICAgICBjdXIuZXhlY3V0ZSgiQ09NTUlUOyIpCgogICAgZXhjZXB0IEV4Y2VwdGlvbjoKICAgICAgICBjb24ucm9sbGJhY2soKQogICAgICAgIHJhaXNlCiAgICBmaW5hbGx5OgogICAgICAgIGNvbi5jbG9zZSgpCgogICAgY29tcGxldGVkX2F0ID0gZGF0ZXRpbWUudXRjbm93KCkKCiAgICByZXR1cm4gT1NNSW5nZXN0UmVzdWx0KAogICAgICAgIG9zbV9wYmZfcGF0aD1vc21fcGJmX3BhdGgsCiAgICAgICAgZ2F6ZXR0ZWVyX2RiX3BhdGg9Z2F6ZXR0ZWVyX2RiX3BhdGgsCiAgICAgICAgdXNlcl9sYW5nPXVzZXJfbGFuZywKICAgICAgICBhZG1pbl9sZXZlbHM9dHVwbGUoc29ydGVkKGFkbWluX2xldmVscykpLAoKICAgICAgICBsb2NhdGlvbl9jb3VudD1sZW4obG9jX2hhbmRsZXIubG9jYXRpb25zKSwKICAgICAgICBsb2NhdGlvbl9hbGlhc19jb3VudD1sZW4obG9jX2hhbmRsZXIuYWxpYXNlcyksCgogICAgICAgIGFkbWluX2FyZWFfY291bnQ9bGVuKGFkbWluX2hhbmRsZXIuYXJlYXMpLAogICAgICAgIGFkbWluX2FyZWFfYWxpYXNfY291bnQ9bGVuKGFkbWluX2hhbmRsZXIuYWxpYXNlcyksCgogICAgICAgIGxvY2F0aW9uX2FkbWluX2FyZWFfY291bnQ9bGVuKGxvY2F0aW9uX2FkbWluX3Jvd3MpLAoKICAgICAgICBzdGFydGVkX2F0PXN0YXJ0ZWRfYXQsCiAgICAgICAgY29tcGxldGVkX2F0PWNvbXBsZXRlZF9hdCwKICAgICkKAAAAAAAAAADMHgAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAMweAAAAAAAAzB4AAAAAAAAAAAAAAADwvw"
				],
				[
					51,
					1,
					"paste",
					null,
					"AQAAAAAAAAAAAAAAkx8AAAAAAADMHgAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSBkYXRhY2xhc3NlcyBpbXBvcnQgZGF0YWNsYXNzCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aApmcm9tIHR5cGluZyBpbXBvcnQgU2V0CmltcG9ydCBzcWxpdGUzCmltcG9ydCB1bmljb2RlZGF0YQppbXBvcnQgcmUKCmltcG9ydCBvc21pdW0KZnJvbSBzaGFwZWx5Lmdlb21ldHJ5IGltcG9ydCBQb2ludApmcm9tIHNoYXBlbHkgaW1wb3J0IHdrYgpmcm9tIHNoYXBlbHkucHJlcGFyZWQgaW1wb3J0IHByZXAKCgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIFV0aWxpdGllcwojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKZGVmIG5vcm1hbGl6ZV9hbGlhcyh0ZXh0OiBzdHIpIC0+IHN0cjoKICAgIHRleHQgPSB1bmljb2RlZGF0YS5ub3JtYWxpemUoIk5GS0QiLCB0ZXh0KQogICAgdGV4dCA9IHRleHQubG93ZXIoKQogICAgdGV4dCA9IHJlLnN1YihyIlteXHdcc10iLCAiICIsIHRleHQpCiAgICB0ZXh0ID0gcmUuc3ViKHIiXHMrIiwgIiAiLCB0ZXh0KS5zdHJpcCgpCiAgICByZXR1cm4gdGV4dAoKCmRlZiBlbmNvZGVfY29vcmRfdTY0KGxhdDogZmxvYXQsIGxvbjogZmxvYXQpIC0+IGludDoKICAgIGxhdCA9IHJvdW5kKGxhdCwgNikKICAgIGxvbiA9IHJvdW5kKGxvbiwgNikKICAgIGxhdF91MzIgPSBpbnQoKGxhdCArIDkwLjApICogMV8wMDBfMDAwKQogICAgbG9uX3UzMiA9IGludCgobG9uICsgMTgwLjApICogMV8wMDBfMDAwKQogICAgcmV0dXJuIChsYXRfdTMyIDw8IDMyKSB8IGxvbl91MzIKCgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIFJlc3VsdCBvYmplY3QKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCkBkYXRhY2xhc3MoZnJvemVuPVRydWUsIHNsb3RzPVRydWUpCmNsYXNzIE9TTUluZ2VzdFJlc3VsdDoKICAgIG9zbV9wYmZfcGF0aDogUGF0aAogICAgZ2F6ZXR0ZWVyX2RiX3BhdGg6IFBhdGgKICAgIHVzZXJfbGFuZzogc3RyCiAgICBhZG1pbl9sZXZlbHM6IHR1cGxlW2ludCwgLi4uXQoKICAgIGxvY2F0aW9uX2NvdW50OiBpbnQKICAgIGxvY2F0aW9uX2FsaWFzX2NvdW50OiBpbnQKCiAgICBhZG1pbl9hcmVhX2NvdW50OiBpbnQKICAgIGFkbWluX2FyZWFfYWxpYXNfY291bnQ6IGludAoKICAgIGxvY2F0aW9uX2FkbWluX2FyZWFfY291bnQ6IGludAoKICAgIHN0YXJ0ZWRfYXQ6IGRhdGV0aW1lCiAgICBjb21wbGV0ZWRfYXQ6IGRhdGV0aW1lCgoKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyBPU00gSGFuZGxlcnMKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCmNsYXNzIExvY2F0aW9uSGFuZGxlcihvc21pdW0uU2ltcGxlSGFuZGxlcik6CiAgICBkZWYgX19pbml0X18oc2VsZiwgdXNlcl9sYW5nOiBzdHIpOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oKQogICAgICAgIHNlbGYudXNlcl9sYW5nID0gdXNlcl9sYW5nCiAgICAgICAgc2VsZi5sb2NhdGlvbnM6IGxpc3RbdHVwbGVbaW50LCBmbG9hdCwgZmxvYXQsIHN0ciB8IE5vbmUsIHN0ciB8IE5vbmVdXSA9IFtdCiAgICAgICAgc2VsZi5hbGlhc2VzOiBsaXN0W3R1cGxlW2ludCwgc3RyLCBzdHJdXSA9IFtdCgogICAgZGVmIG5vZGUoc2VsZiwgbjogb3NtaXVtLm9zbS5Ob2RlKSAtPiBOb25lOgogICAgICAgIGlmIG5vdCBuLmxvY2F0aW9uLnZhbGlkKCk6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICBsYXQgPSBuLmxvY2F0aW9uLmxhdAogICAgICAgIGxvbiA9IG4ubG9jYXRpb24ubG9uCiAgICAgICAgY2lkID0gZW5jb2RlX2Nvb3JkX3U2NChsYXQsIGxvbikKCiAgICAgICAgbmFtZSA9IG4udGFncy5nZXQoZiJuYW1lOntzZWxmLnVzZXJfbGFuZ30iKQogICAgICAgIHdpa2lkYXRhID0gbi50YWdzLmdldCgid2lraWRhdGEiKQoKICAgICAgICBzZWxmLmxvY2F0aW9ucy5hcHBlbmQoKGNpZCwgbGF0LCBsb24sIG5hbWUsIHdpa2lkYXRhKSkKCiAgICAgICAgZm9yIGssIHYgaW4gbi50YWdzOgogICAgICAgICAgICBpZiBrLmVuZHN3aXRoKGYiOntzZWxmLnVzZXJfbGFuZ30iKToKICAgICAgICAgICAgICAgIHNlbGYuYWxpYXNlcy5hcHBlbmQoKGNpZCwgdiwgbm9ybWFsaXplX2FsaWFzKHYpKSkKCgpjbGFzcyBBZG1pbkFyZWFIYW5kbGVyKG9zbWl1bS5TaW1wbGVIYW5kbGVyKToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCB1c2VyX2xhbmc6IHN0ciwgYWRtaW5fbGV2ZWxzOiBTZXRbaW50XSk6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCiAgICAgICAgc2VsZi51c2VyX2xhbmcgPSB1c2VyX2xhbmcKICAgICAgICBzZWxmLmFkbWluX2xldmVscyA9IGFkbWluX2xldmVscwoKICAgICAgICBzZWxmLmFyZWFzOiBsaXN0W3R1cGxlW2ludCwgaW50LCBzdHIgfCBOb25lLCBzdHIgfCBOb25lLCBieXRlc11dID0gW10KICAgICAgICBzZWxmLmFsaWFzZXM6IGxpc3RbdHVwbGVbaW50LCBzdHIsIHN0cl1dID0gW10KICAgICAgICBzZWxmLnByZXBhcmVkX2dlb21zOiBkaWN0W2ludCwgb2JqZWN0XSA9IHt9CgogICAgICAgIHNlbGYuX3drYl9mYWN0b3J5ID0gb3NtaXVtLmdlb20uV0tCRmFjdG9yeSgpCgogICAgZGVmIHJlbGF0aW9uKHNlbGYsIHI6IG9zbWl1bS5vc20uUmVsYXRpb24pIC0+IE5vbmU6CiAgICAgICAgaWYgci50YWdzLmdldCgiYm91bmRhcnkiKSAhPSAiYWRtaW5pc3RyYXRpdmUiOgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgdHJ5OgogICAgICAgICAgICBsZXZlbCA9IGludChyLnRhZ3MuZ2V0KCJhZG1pbl9sZXZlbCIpKQogICAgICAgIGV4Y2VwdCAoVHlwZUVycm9yLCBWYWx1ZUVycm9yKToKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIGlmIGxldmVsIG5vdCBpbiBzZWxmLmFkbWluX2xldmVsczoKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIHRyeToKICAgICAgICAgICAgd2tiX2dlb20gPSBzZWxmLl93a2JfZmFjdG9yeS5jcmVhdGVfbXVsdGlwb2x5Z29uKHIpCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIHRyeToKICAgICAgICAgICAgZ2VvbSA9IHdrYi5sb2Fkcyh3a2JfZ2VvbSkKICAgICAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgc2VsZi5wcmVwYXJlZF9nZW9tc1tyLmlkXSA9IHByZXAoZ2VvbSkKCiAgICAgICAgbmFtZSA9IHIudGFncy5nZXQoZiJuYW1lOntzZWxmLnVzZXJfbGFuZ30iKQogICAgICAgIHdpa2lkYXRhID0gci50YWdzLmdldCgid2lraWRhdGEiKQoKICAgICAgICBzZWxmLmFyZWFzLmFwcGVuZCgoci5pZCwgbGV2ZWwsIG5hbWUsIHdpa2lkYXRhLCB3a2JfZ2VvbSkpCgogICAgICAgIGZvciBrLCB2IGluIHIudGFnczoKICAgICAgICAgICAgaWYgay5lbmRzd2l0aChmIjp7c2VsZi51c2VyX2xhbmd9Iik6CiAgICAgICAgICAgICAgICBzZWxmLmFsaWFzZXMuYXBwZW5kKChyLmlkLCB2LCBub3JtYWxpemVfYWxpYXModikpKQoKCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgTWFpbiBlbnRyeSBwb2ludAojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKZGVmIGluZ2VzdF9vc20oCiAgICAqLAogICAgb3NtX3BiZl9wYXRoOiBQYXRoLAogICAgZ2F6ZXR0ZWVyX2RiX3BhdGg6IFBhdGgsCiAgICB1c2VyX2xhbmc6IHN0ciwKICAgIGFkbWluX2xldmVsczogc2V0W2ludF0sCiAgICBvdmVyd3JpdGU6IGJvb2wgPSBGYWxzZSwKKSAtPiBPU01Jbmdlc3RSZXN1bHQ6CgogICAgc3RhcnRlZF9hdCA9IGRhdGV0aW1lLnV0Y25vdygpCgogICAgaWYgbm90IG9zbV9wYmZfcGF0aC5leGlzdHMoKToKICAgICAgICByYWlzZSBGaWxlTm90Rm91bmRFcnJvcihvc21fcGJmX3BhdGgpCgogICAgaWYgZ2F6ZXR0ZWVyX2RiX3BhdGguZXhpc3RzKCk6CiAgICAgICAgaWYgbm90IG92ZXJ3cml0ZToKICAgICAgICAgICAgcmFpc2UgRmlsZUV4aXN0c0Vycm9yKGdhemV0dGVlcl9kYl9wYXRoKQogICAgICAgIGdhemV0dGVlcl9kYl9wYXRoLnVubGluaygpCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIFBhcnNlIE9TTQogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgbG9jX2hhbmRsZXIgPSBMb2NhdGlvbkhhbmRsZXIodXNlcl9sYW5nKQogICAgYWRtaW5faGFuZGxlciA9IEFkbWluQXJlYUhhbmRsZXIodXNlcl9sYW5nLCBhZG1pbl9sZXZlbHMpCgogICAgbG9jX2hhbmRsZXIuYXBwbHlfZmlsZShzdHIob3NtX3BiZl9wYXRoKSwgbG9jYXRpb25zPVRydWUpCiAgICBhZG1pbl9oYW5kbGVyLmFwcGx5X2ZpbGUoc3RyKG9zbV9wYmZfcGF0aCksIGxvY2F0aW9ucz1UcnVlKQoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBCdWlsZCBkYXRhYmFzZQogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgY29uID0gc3FsaXRlMy5jb25uZWN0KGdhemV0dGVlcl9kYl9wYXRoKQogICAgY29uLmV4ZWN1dGUoIlBSQUdNQSBmb3JlaWduX2tleXMgPSBPTjsiKQoKICAgIHRyeToKICAgICAgICBjdXIgPSBjb24uY3Vyc29yKCkKICAgICAgICBjdXIuZXhlY3V0ZSgiQkVHSU4gRVhDTFVTSVZFOyIpCgogICAgICAgIGN1ci5leGVjdXRlc2NyaXB0KAogICAgICAgICAgICAiIiIKICAgICAgICAgICAgQ1JFQVRFIFRBQkxFIGxvY2F0aW9ucyAoCiAgICAgICAgICAgICAgICBsb2NhdGlvbl9pZCBJTlRFR0VSIFBSSU1BUlkgS0VZLAogICAgICAgICAgICAgICAgbGF0IFJFQUwgTk9UIE5VTEwsCiAgICAgICAgICAgICAgICBsb24gUkVBTCBOT1QgTlVMTCwKICAgICAgICAgICAgICAgIG5hbWUgVEVYVCwKICAgICAgICAgICAgICAgIHdpa2lkYXRhIFRFWFQKICAgICAgICAgICAgKTsKCiAgICAgICAgICAgIENSRUFURSBUQUJMRSBsb2NhdGlvbl9hbGlhc2VzICgKICAgICAgICAgICAgICAgIGxvY2F0aW9uX2lkIElOVEVHRVIgTk9UIE5VTEwsCiAgICAgICAgICAgICAgICBhbGlhcyBURVhUIE5PVCBOVUxMLAogICAgICAgICAgICAgICAgbm9ybWFsaXplZCBURVhUIE5PVCBOVUxMLAogICAgICAgICAgICAgICAgUFJJTUFSWSBLRVkgKGxvY2F0aW9uX2lkLCBub3JtYWxpemVkKQogICAgICAgICAgICApOwoKICAgICAgICAgICAgQ1JFQVRFIFRBQkxFIGFkbWluX2FyZWFzICgKICAgICAgICAgICAgICAgIGFkbWluX2lkIElOVEVHRVIgUFJJTUFSWSBLRVksCiAgICAgICAgICAgICAgICBhZG1pbl9sZXZlbCBJTlRFR0VSIE5PVCBOVUxMLAogICAgICAgICAgICAgICAgbmFtZSBURVhULAogICAgICAgICAgICAgICAgd2lraWRhdGEgVEVYVCwKICAgICAgICAgICAgICAgIGdlb21ldHJ5IEJMT0IgTk9UIE5VTEwKICAgICAgICAgICAgKTsKCiAgICAgICAgICAgIENSRUFURSBUQUJMRSBhZG1pbl9hcmVhX2FsaWFzZXMgKAogICAgICAgICAgICAgICAgYWRtaW5faWQgSU5URUdFUiBOT1QgTlVMTCwKICAgICAgICAgICAgICAgIGFsaWFzIFRFWFQgTk9UIE5VTEwsCiAgICAgICAgICAgICAgICBub3JtYWxpemVkIFRFWFQgTk9UIE5VTEwsCiAgICAgICAgICAgICAgICBzb3VyY2UgVEVYVCBOT1QgTlVMTCwKICAgICAgICAgICAgICAgIFBSSU1BUlkgS0VZIChhZG1pbl9pZCwgbm9ybWFsaXplZCkKICAgICAgICAgICAgKTsKCiAgICAgICAgICAgIENSRUFURSBUQUJMRSBsb2NhdGlvbl9hZG1pbl9hcmVhcyAoCiAgICAgICAgICAgICAgICBsb2NhdGlvbl9pZCBJTlRFR0VSIE5PVCBOVUxMLAogICAgICAgICAgICAgICAgYWRtaW5faWQgSU5URUdFUiBOT1QgTlVMTCwKICAgICAgICAgICAgICAgIFBSSU1BUlkgS0VZIChsb2NhdGlvbl9pZCwgYWRtaW5faWQpCiAgICAgICAgICAgICk7CiAgICAgICAgICAgICIiIgogICAgICAgICkKCiAgICAgICAgY3VyLmV4ZWN1dGVtYW55KAogICAgICAgICAgICAiSU5TRVJUIElOVE8gYWRtaW5fYXJlYXMgVkFMVUVTICg/LCA/LCA/LCA/LCA/KSIsCiAgICAgICAgICAgIGFkbWluX2hhbmRsZXIuYXJlYXMsCiAgICAgICAgKQoKICAgICAgICBjdXIuZXhlY3V0ZW1hbnkoCiAgICAgICAgICAgICJJTlNFUlQgT1IgSUdOT1JFIElOVE8gYWRtaW5fYXJlYV9hbGlhc2VzIFZBTFVFUyAoPywgPywgPywgJ09TTScpIiwKICAgICAgICAgICAgYWRtaW5faGFuZGxlci5hbGlhc2VzLAogICAgICAgICkKCiAgICAgICAgY3VyLmV4ZWN1dGVtYW55KAogICAgICAgICAgICAiSU5TRVJUIE9SIElHTk9SRSBJTlRPIGxvY2F0aW9ucyBWQUxVRVMgKD8sID8sID8sID8sID8pIiwKICAgICAgICAgICAgbG9jX2hhbmRsZXIubG9jYXRpb25zLAogICAgICAgICkKCiAgICAgICAgY3VyLmV4ZWN1dGVtYW55KAogICAgICAgICAgICAiSU5TRVJUIE9SIElHTk9SRSBJTlRPIGxvY2F0aW9uX2FsaWFzZXMgVkFMVUVTICg/LCA/LCA/KSIsCiAgICAgICAgICAgIGxvY19oYW5kbGVyLmFsaWFzZXMsCiAgICAgICAgKQoKICAgICAgICBsb2NhdGlvbl9hZG1pbl9yb3dzID0gW10KICAgICAgICBmb3IgY2lkLCBsYXQsIGxvbiwgKl8gaW4gbG9jX2hhbmRsZXIubG9jYXRpb25zOgogICAgICAgICAgICBwdCA9IFBvaW50KGxvbiwgbGF0KQogICAgICAgICAgICBmb3IgYWRtaW5faWQsIGdlb20gaW4gYWRtaW5faGFuZGxlci5wcmVwYXJlZF9nZW9tcy5pdGVtcygpOgogICAgICAgICAgICAgICAgaWYgZ2VvbS5jb250YWlucyhwdCk6CiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb25fYWRtaW5fcm93cy5hcHBlbmQoKGNpZCwgYWRtaW5faWQpKQoKICAgICAgICBjdXIuZXhlY3V0ZW1hbnkoCiAgICAgICAgICAgICJJTlNFUlQgT1IgSUdOT1JFIElOVE8gbG9jYXRpb25fYWRtaW5fYXJlYXMgVkFMVUVTICg/LCA/KSIsCiAgICAgICAgICAgIGxvY2F0aW9uX2FkbWluX3Jvd3MsCiAgICAgICAgKQoKICAgICAgICBjdXIuZXhlY3V0ZSgiQ09NTUlUOyIpCgogICAgZXhjZXB0IEV4Y2VwdGlvbjoKICAgICAgICBjb24ucm9sbGJhY2soKQogICAgICAgIHJhaXNlCiAgICBmaW5hbGx5OgogICAgICAgIGNvbi5jbG9zZSgpCgogICAgY29tcGxldGVkX2F0ID0gZGF0ZXRpbWUudXRjbm93KCkKCiAgICByZXR1cm4gT1NNSW5nZXN0UmVzdWx0KAogICAgICAgIG9zbV9wYmZfcGF0aD1vc21fcGJmX3BhdGgsCiAgICAgICAgZ2F6ZXR0ZWVyX2RiX3BhdGg9Z2F6ZXR0ZWVyX2RiX3BhdGgsCiAgICAgICAgdXNlcl9sYW5nPXVzZXJfbGFuZywKICAgICAgICBhZG1pbl9sZXZlbHM9dHVwbGUoc29ydGVkKGFkbWluX2xldmVscykpLAoKICAgICAgICBsb2NhdGlvbl9jb3VudD1sZW4obG9jX2hhbmRsZXIubG9jYXRpb25zKSwKICAgICAgICBsb2NhdGlvbl9hbGlhc19jb3VudD1sZW4obG9jX2hhbmRsZXIuYWxpYXNlcyksCgogICAgICAgIGFkbWluX2FyZWFfY291bnQ9bGVuKGFkbWluX2hhbmRsZXIuYXJlYXMpLAogICAgICAgIGFkbWluX2FyZWFfYWxpYXNfY291bnQ9bGVuKGFkbWluX2hhbmRsZXIuYWxpYXNlcyksCgogICAgICAgIGxvY2F0aW9uX2FkbWluX2FyZWFfY291bnQ9bGVuKGxvY2F0aW9uX2FkbWluX3Jvd3MpLAoKICAgICAgICBzdGFydGVkX2F0PXN0YXJ0ZWRfYXQsCiAgICAgICAgY29tcGxldGVkX2F0PWNvbXBsZXRlZF9hdCwKICAgICkK",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAzB4AAAAAAAAAAAAAAADwvw"
				],
				[
					52,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACTHwAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSBkYXRhY2xhc3NlcyBpbXBvcnQgZGF0YWNsYXNzCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aApmcm9tIHR5cGluZyBpbXBvcnQgU2V0CmltcG9ydCBzcWxpdGUzCmltcG9ydCB1bmljb2RlZGF0YQppbXBvcnQgcmUKCmltcG9ydCBvc21pdW0KZnJvbSBzaGFwZWx5Lmdlb21ldHJ5IGltcG9ydCBQb2ludApmcm9tIHNoYXBlbHkgaW1wb3J0IHdrYgpmcm9tIHNoYXBlbHkucHJlcGFyZWQgaW1wb3J0IHByZXAKZnJvbSBydHJlZS5pbmRleCBpbXBvcnQgSW5kZXggYXMgUlRyZWVJbmRleAoKCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgVXRpbGl0aWVzCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgpkZWYgbm9ybWFsaXplX2FsaWFzKHRleHQ6IHN0cikgLT4gc3RyOgogICAgdGV4dCA9IHVuaWNvZGVkYXRhLm5vcm1hbGl6ZSgiTkZLRCIsIHRleHQpCiAgICB0ZXh0ID0gdGV4dC5sb3dlcigpCiAgICB0ZXh0ID0gcmUuc3ViKHIiW15cd1xzXSIsICIgIiwgdGV4dCkKICAgIHRleHQgPSByZS5zdWIociJccysiLCAiICIsIHRleHQpLnN0cmlwKCkKICAgIHJldHVybiB0ZXh0CgoKZGVmIGVuY29kZV9jb29yZF91NjQobGF0OiBmbG9hdCwgbG9uOiBmbG9hdCkgLT4gaW50OgogICAgbGF0ID0gcm91bmQobGF0LCA2KQogICAgbG9uID0gcm91bmQobG9uLCA2KQogICAgbGF0X3UzMiA9IGludCgobGF0ICsgOTAuMCkgKiAxXzAwMF8wMDApCiAgICBsb25fdTMyID0gaW50KChsb24gKyAxODAuMCkgKiAxXzAwMF8wMDApCiAgICByZXR1cm4gKGxhdF91MzIgPDwgMzIpIHwgbG9uX3UzMgoKCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgUmVzdWx0IG9iamVjdAojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKQGRhdGFjbGFzcyhmcm96ZW49VHJ1ZSwgc2xvdHM9VHJ1ZSkKY2xhc3MgT1NNSW5nZXN0UmVzdWx0OgogICAgb3NtX3BiZl9wYXRoOiBQYXRoCiAgICBnYXpldHRlZXJfZGJfcGF0aDogUGF0aAogICAgdXNlcl9sYW5nOiBzdHIKICAgIGFkbWluX2xldmVsczogdHVwbGVbaW50LCAuLi5dCgogICAgbG9jYXRpb25fY291bnQ6IGludAogICAgbG9jYXRpb25fYWxpYXNfY291bnQ6IGludAoKICAgIGFkbWluX2FyZWFfY291bnQ6IGludAogICAgYWRtaW5fYXJlYV9hbGlhc19jb3VudDogaW50CgogICAgbG9jYXRpb25fYWRtaW5fYXJlYV9jb3VudDogaW50CgogICAgc3RhcnRlZF9hdDogZGF0ZXRpbWUKICAgIGNvbXBsZXRlZF9hdDogZGF0ZXRpbWUKCgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIE9TTSBIYW5kbGVycwojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKY2xhc3MgTG9jYXRpb25IYW5kbGVyKG9zbWl1bS5TaW1wbGVIYW5kbGVyKToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCB1c2VyX2xhbmc6IHN0cik6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCiAgICAgICAgc2VsZi51c2VyX2xhbmcgPSB1c2VyX2xhbmcKICAgICAgICBzZWxmLmxvY2F0aW9uczogbGlzdFt0dXBsZVtpbnQsIGZsb2F0LCBmbG9hdCwgc3RyIHwgTm9uZSwgc3RyIHwgTm9uZV1dID0gW10KICAgICAgICBzZWxmLmFsaWFzZXM6IGxpc3RbdHVwbGVbaW50LCBzdHIsIHN0cl1dID0gW10KCiAgICBkZWYgbm9kZShzZWxmLCBuOiBvc21pdW0ub3NtLk5vZGUpIC0+IE5vbmU6CiAgICAgICAgaWYgbm90IG4ubG9jYXRpb24udmFsaWQoKToKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIGxhdCA9IG4ubG9jYXRpb24ubGF0CiAgICAgICAgbG9uID0gbi5sb2NhdGlvbi5sb24KICAgICAgICBjaWQgPSBlbmNvZGVfY29vcmRfdTY0KGxhdCwgbG9uKQoKICAgICAgICBuYW1lID0gbi50YWdzLmdldChmIm5hbWU6e3NlbGYudXNlcl9sYW5nfSIpCiAgICAgICAgd2lraWRhdGEgPSBuLnRhZ3MuZ2V0KCJ3aWtpZGF0YSIpCgogICAgICAgIHNlbGYubG9jYXRpb25zLmFwcGVuZCgoY2lkLCBsYXQsIGxvbiwgbmFtZSwgd2lraWRhdGEpKQoKICAgICAgICBmb3IgaywgdiBpbiBuLnRhZ3M6CiAgICAgICAgICAgIGlmIGsuZW5kc3dpdGgoZiI6e3NlbGYudXNlcl9sYW5nfSIpOgogICAgICAgICAgICAgICAgc2VsZi5hbGlhc2VzLmFwcGVuZCgoY2lkLCB2LCBub3JtYWxpemVfYWxpYXModikpKQoKCmNsYXNzIEFkbWluQXJlYUhhbmRsZXIob3NtaXVtLlNpbXBsZUhhbmRsZXIpOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHVzZXJfbGFuZzogc3RyLCBhZG1pbl9sZXZlbHM6IFNldFtpbnRdKToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKCkKICAgICAgICBzZWxmLnVzZXJfbGFuZyA9IHVzZXJfbGFuZwogICAgICAgIHNlbGYuYWRtaW5fbGV2ZWxzID0gYWRtaW5fbGV2ZWxzCgogICAgICAgIHNlbGYuYXJlYXM6IGxpc3RbdHVwbGVbaW50LCBpbnQsIHN0ciB8IE5vbmUsIHN0ciB8IE5vbmUsIGJ5dGVzXV0gPSBbXQogICAgICAgIHNlbGYuYWxpYXNlczogbGlzdFt0dXBsZVtpbnQsIHN0ciwgc3RyXV0gPSBbXQoKICAgICAgICBzZWxmLnByZXBhcmVkX2dlb21zOiBkaWN0W2ludCwgb2JqZWN0XSA9IHt9CiAgICAgICAgc2VsZi5ydHJlZSA9IFJUcmVlSW5kZXgoKQogICAgICAgIHNlbGYuX3drYl9mYWN0b3J5ID0gb3NtaXVtLmdlb20uV0tCRmFjdG9yeSgpCgogICAgZGVmIHJlbGF0aW9uKHNlbGYsIHI6IG9zbWl1bS5vc20uUmVsYXRpb24pIC0+IE5vbmU6CiAgICAgICAgaWYgci50YWdzLmdldCgiYm91bmRhcnkiKSAhPSAiYWRtaW5pc3RyYXRpdmUiOgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgdHJ5OgogICAgICAgICAgICBsZXZlbCA9IGludChyLnRhZ3MuZ2V0KCJhZG1pbl9sZXZlbCIpKQogICAgICAgIGV4Y2VwdCAoVHlwZUVycm9yLCBWYWx1ZUVycm9yKToKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIGlmIGxldmVsIG5vdCBpbiBzZWxmLmFkbWluX2xldmVsczoKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIHRyeToKICAgICAgICAgICAgd2tiX2dlb20gPSBzZWxmLl93a2JfZmFjdG9yeS5jcmVhdGVfbXVsdGlwb2x5Z29uKHIpCiAgICAgICAgICAgIGdlb20gPSB3a2IubG9hZHMod2tiX2dlb20pCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIHByZXBhcmVkID0gcHJlcChnZW9tKQogICAgICAgIHNlbGYucHJlcGFyZWRfZ2VvbXNbci5pZF0gPSBwcmVwYXJlZAoKICAgICAgICBtaW54LCBtaW55LCBtYXh4LCBtYXh5ID0gZ2VvbS5ib3VuZHMKICAgICAgICBzZWxmLnJ0cmVlLmluc2VydChyLmlkLCAobWlueCwgbWlueSwgbWF4eCwgbWF4eSkpCgogICAgICAgIG5hbWUgPSByLnRhZ3MuZ2V0KGYibmFtZTp7c2VsZi51c2VyX2xhbmd9IikKICAgICAgICB3aWtpZGF0YSA9IHIudGFncy5nZXQoIndpa2lkYXRhIikKCiAgICAgICAgc2VsZi5hcmVhcy5hcHBlbmQoKHIuaWQsIGxldmVsLCBuYW1lLCB3aWtpZGF0YSwgd2tiX2dlb20pKQoKICAgICAgICBmb3IgaywgdiBpbiByLnRhZ3M6CiAgICAgICAgICAgIGlmIGsuZW5kc3dpdGgoZiI6e3NlbGYudXNlcl9sYW5nfSIpOgogICAgICAgICAgICAgICAgc2VsZi5hbGlhc2VzLmFwcGVuZCgoci5pZCwgdiwgbm9ybWFsaXplX2FsaWFzKHYpKSkKCgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIE1haW4gZW50cnkgcG9pbnQKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCmRlZiBpbmdlc3Rfb3NtKAogICAgKiwKICAgIG9zbV9wYmZfcGF0aDogUGF0aCwKICAgIGdhemV0dGVlcl9kYl9wYXRoOiBQYXRoLAogICAgdXNlcl9sYW5nOiBzdHIsCiAgICBhZG1pbl9sZXZlbHM6IHNldFtpbnRdLAogICAgb3ZlcndyaXRlOiBib29sID0gRmFsc2UsCikgLT4gT1NNSW5nZXN0UmVzdWx0OgoKICAgIHN0YXJ0ZWRfYXQgPSBkYXRldGltZS51dGNub3coKQoKICAgIGlmIG5vdCBvc21fcGJmX3BhdGguZXhpc3RzKCk6CiAgICAgICAgcmFpc2UgRmlsZU5vdEZvdW5kRXJyb3Iob3NtX3BiZl9wYXRoKQoKICAgIGlmIGdhemV0dGVlcl9kYl9wYXRoLmV4aXN0cygpOgogICAgICAgIGlmIG5vdCBvdmVyd3JpdGU6CiAgICAgICAgICAgIHJhaXNlIEZpbGVFeGlzdHNFcnJvcihnYXpldHRlZXJfZGJfcGF0aCkKICAgICAgICBnYXpldHRlZXJfZGJfcGF0aC51bmxpbmsoKQoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBQYXJzZSBPU00KICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGxvY19oYW5kbGVyID0gTG9jYXRpb25IYW5kbGVyKHVzZXJfbGFuZykKICAgIGFkbWluX2hhbmRsZXIgPSBBZG1pbkFyZWFIYW5kbGVyKHVzZXJfbGFuZywgYWRtaW5fbGV2ZWxzKQoKICAgIGxvY19oYW5kbGVyLmFwcGx5X2ZpbGUoc3RyKG9zbV9wYmZfcGF0aCksIGxvY2F0aW9ucz1UcnVlKQogICAgYWRtaW5faGFuZGxlci5hcHBseV9maWxlKHN0cihvc21fcGJmX3BhdGgpLCBsb2NhdGlvbnM9VHJ1ZSkKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICMgQnVpbGQgZGF0YWJhc2UKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGNvbiA9IHNxbGl0ZTMuY29ubmVjdChnYXpldHRlZXJfZGJfcGF0aCkKICAgIGNvbi5leGVjdXRlKCJQUkFHTUEgZm9yZWlnbl9rZXlzID0gT047IikKCiAgICB0cnk6CiAgICAgICAgY3VyID0gY29uLmN1cnNvcigpCiAgICAgICAgY3VyLmV4ZWN1dGUoIkJFR0lOIEVYQ0xVU0lWRTsiKQoKICAgICAgICBjdXIuZXhlY3V0ZXNjcmlwdCgKICAgICAgICAgICAgIiIiCiAgICAgICAgICAgIENSRUFURSBUQUJMRSBsb2NhdGlvbnMgKAogICAgICAgICAgICAgICAgbG9jYXRpb25faWQgSU5URUdFUiBQUklNQVJZIEtFWSwKICAgICAgICAgICAgICAgIGxhdCBSRUFMIE5PVCBOVUxMLAogICAgICAgICAgICAgICAgbG9uIFJFQUwgTk9UIE5VTEwsCiAgICAgICAgICAgICAgICBuYW1lIFRFWFQsCiAgICAgICAgICAgICAgICB3aWtpZGF0YSBURVhUCiAgICAgICAgICAgICk7CgogICAgICAgICAgICBDUkVBVEUgVEFCTEUgbG9jYXRpb25fYWxpYXNlcyAoCiAgICAgICAgICAgICAgICBsb2NhdGlvbl9pZCBJTlRFR0VSIE5PVCBOVUxMLAogICAgICAgICAgICAgICAgYWxpYXMgVEVYVCBOT1QgTlVMTCwKICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWQgVEVYVCBOT1QgTlVMTCwKICAgICAgICAgICAgICAgIFBSSU1BUlkgS0VZIChsb2NhdGlvbl9pZCwgbm9ybWFsaXplZCkKICAgICAgICAgICAgKTsKCiAgICAgICAgICAgIENSRUFURSBUQUJMRSBhZG1pbl9hcmVhcyAoCiAgICAgICAgICAgICAgICBhZG1pbl9pZCBJTlRFR0VSIFBSSU1BUlkgS0VZLAogICAgICAgICAgICAgICAgYWRtaW5fbGV2ZWwgSU5URUdFUiBOT1QgTlVMTCwKICAgICAgICAgICAgICAgIG5hbWUgVEVYVCwKICAgICAgICAgICAgICAgIHdpa2lkYXRhIFRFWFQsCiAgICAgICAgICAgICAgICBnZW9tZXRyeSBCTE9CIE5PVCBOVUxMCiAgICAgICAgICAgICk7CgogICAgICAgICAgICBDUkVBVEUgVEFCTEUgYWRtaW5fYXJlYV9hbGlhc2VzICgKICAgICAgICAgICAgICAgIGFkbWluX2lkIElOVEVHRVIgTk9UIE5VTEwsCiAgICAgICAgICAgICAgICBhbGlhcyBURVhUIE5PVCBOVUxMLAogICAgICAgICAgICAgICAgbm9ybWFsaXplZCBURVhUIE5PVCBOVUxMLAogICAgICAgICAgICAgICAgc291cmNlIFRFWFQgTk9UIE5VTEwsCiAgICAgICAgICAgICAgICBQUklNQVJZIEtFWSAoYWRtaW5faWQsIG5vcm1hbGl6ZWQpCiAgICAgICAgICAgICk7CgogICAgICAgICAgICBDUkVBVEUgVEFCTEUgbG9jYXRpb25fYWRtaW5fYXJlYXMgKAogICAgICAgICAgICAgICAgbG9jYXRpb25faWQgSU5URUdFUiBOT1QgTlVMTCwKICAgICAgICAgICAgICAgIGFkbWluX2lkIElOVEVHRVIgTk9UIE5VTEwsCiAgICAgICAgICAgICAgICBQUklNQVJZIEtFWSAobG9jYXRpb25faWQsIGFkbWluX2lkKQogICAgICAgICAgICApOwogICAgICAgICAgICAiIiIKICAgICAgICApCgogICAgICAgIGN1ci5leGVjdXRlbWFueSgKICAgICAgICAgICAgIklOU0VSVCBJTlRPIGFkbWluX2FyZWFzIFZBTFVFUyAoPywgPywgPywgPywgPykiLAogICAgICAgICAgICBhZG1pbl9oYW5kbGVyLmFyZWFzLAogICAgICAgICkKCiAgICAgICAgY3VyLmV4ZWN1dGVtYW55KAogICAgICAgICAgICAiSU5TRVJUIE9SIElHTk9SRSBJTlRPIGFkbWluX2FyZWFfYWxpYXNlcyBWQUxVRVMgKD8sID8sID8sICdPU00nKSIsCiAgICAgICAgICAgIGFkbWluX2hhbmRsZXIuYWxpYXNlcywKICAgICAgICApCgogICAgICAgIGN1ci5leGVjdXRlbWFueSgKICAgICAgICAgICAgIklOU0VSVCBPUiBJR05PUkUgSU5UTyBsb2NhdGlvbnMgVkFMVUVTICg/LCA/LCA/LCA/LCA/KSIsCiAgICAgICAgICAgIGxvY19oYW5kbGVyLmxvY2F0aW9ucywKICAgICAgICApCgogICAgICAgIGN1ci5leGVjdXRlbWFueSgKICAgICAgICAgICAgIklOU0VSVCBPUiBJR05PUkUgSU5UTyBsb2NhdGlvbl9hbGlhc2VzIFZBTFVFUyAoPywgPywgPykiLAogICAgICAgICAgICBsb2NfaGFuZGxlci5hbGlhc2VzLAogICAgICAgICkKCiAgICAgICAgbG9jYXRpb25fYWRtaW5fcm93cyA9IFtdCgogICAgICAgIGZvciBjaWQsIGxhdCwgbG9uLCAqXyBpbiBsb2NfaGFuZGxlci5sb2NhdGlvbnM6CiAgICAgICAgICAgIHB0ID0gUG9pbnQobG9uLCBsYXQpCgogICAgICAgICAgICBmb3IgYWRtaW5faWQgaW4gYWRtaW5faGFuZGxlci5ydHJlZS5pbnRlcnNlY3Rpb24oKGxvbiwgbGF0LCBsb24sIGxhdCkpOgogICAgICAgICAgICAgICAgaWYgYWRtaW5faGFuZGxlci5wcmVwYXJlZF9nZW9tc1thZG1pbl9pZF0uY29udGFpbnMocHQpOgogICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uX2FkbWluX3Jvd3MuYXBwZW5kKChjaWQsIGFkbWluX2lkKSkKCiAgICAgICAgY3VyLmV4ZWN1dGVtYW55KAogICAgICAgICAgICAiSU5TRVJUIE9SIElHTk9SRSBJTlRPIGxvY2F0aW9uX2FkbWluX2FyZWFzIFZBTFVFUyAoPywgPykiLAogICAgICAgICAgICBsb2NhdGlvbl9hZG1pbl9yb3dzLAogICAgICAgICkKCiAgICAgICAgY3VyLmV4ZWN1dGUoIkNPTU1JVDsiKQoKICAgIGV4Y2VwdCBFeGNlcHRpb246CiAgICAgICAgY29uLnJvbGxiYWNrKCkKICAgICAgICByYWlzZQogICAgZmluYWxseToKICAgICAgICBjb24uY2xvc2UoKQoKICAgIGNvbXBsZXRlZF9hdCA9IGRhdGV0aW1lLnV0Y25vdygpCgogICAgcmV0dXJuIE9TTUluZ2VzdFJlc3VsdCgKICAgICAgICBvc21fcGJmX3BhdGg9b3NtX3BiZl9wYXRoLAogICAgICAgIGdhemV0dGVlcl9kYl9wYXRoPWdhemV0dGVlcl9kYl9wYXRoLAogICAgICAgIHVzZXJfbGFuZz11c2VyX2xhbmcsCiAgICAgICAgYWRtaW5fbGV2ZWxzPXR1cGxlKHNvcnRlZChhZG1pbl9sZXZlbHMpKSwKCiAgICAgICAgbG9jYXRpb25fY291bnQ9bGVuKGxvY19oYW5kbGVyLmxvY2F0aW9ucyksCiAgICAgICAgbG9jYXRpb25fYWxpYXNfY291bnQ9bGVuKGxvY19oYW5kbGVyLmFsaWFzZXMpLAoKICAgICAgICBhZG1pbl9hcmVhX2NvdW50PWxlbihhZG1pbl9oYW5kbGVyLmFyZWFzKSwKICAgICAgICBhZG1pbl9hcmVhX2FsaWFzX2NvdW50PWxlbihhZG1pbl9oYW5kbGVyLmFsaWFzZXMpLAoKICAgICAgICBsb2NhdGlvbl9hZG1pbl9hcmVhX2NvdW50PWxlbihsb2NhdGlvbl9hZG1pbl9yb3dzKSwKCiAgICAgICAgc3RhcnRlZF9hdD1zdGFydGVkX2F0LAogICAgICAgIGNvbXBsZXRlZF9hdD1jb21wbGV0ZWRfYXQsCiAgICApCgAAAAAAAAAAkx8AAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAJMfAAAAAAAAkx8AAAAAAAAAAAAAAADwvw"
				],
				[
					56,
					1,
					"revert",
					null,
					"AwAAAAAAAAAAAAAAAAAAAAAAAACTHwAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSBkYXRhY2xhc3NlcyBpbXBvcnQgZGF0YWNsYXNzCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aApmcm9tIHR5cGluZyBpbXBvcnQgU2V0CmltcG9ydCBzcWxpdGUzCmltcG9ydCB1bmljb2RlZGF0YQppbXBvcnQgcmUKCmltcG9ydCBvc21pdW0KZnJvbSBzaGFwZWx5Lmdlb21ldHJ5IGltcG9ydCBQb2ludApmcm9tIHNoYXBlbHkgaW1wb3J0IHdrYgpmcm9tIHNoYXBlbHkucHJlcGFyZWQgaW1wb3J0IHByZXAKZnJvbSBydHJlZS5pbmRleCBpbXBvcnQgSW5kZXggYXMgUlRyZWVJbmRleAoKCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgVXRpbGl0aWVzCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgpkZWYgbm9ybWFsaXplX2FsaWFzKHRleHQ6IHN0cikgLT4gc3RyOgogICAgdGV4dCA9IHVuaWNvZGVkYXRhLm5vcm1hbGl6ZSgiTkZLRCIsIHRleHQpCiAgICB0ZXh0ID0gdGV4dC5sb3dlcigpCiAgICB0ZXh0ID0gcmUuc3ViKHIiW15cd1xzXSIsICIgIiwgdGV4dCkKICAgIHRleHQgPSByZS5zdWIociJccysiLCAiICIsIHRleHQpLnN0cmlwKCkKICAgIHJldHVybiB0ZXh0CgoKZGVmIGVuY29kZV9jb29yZF91NjQobGF0OiBmbG9hdCwgbG9uOiBmbG9hdCkgLT4gaW50OgogICAgbGF0ID0gcm91bmQobGF0LCA2KQogICAgbG9uID0gcm91bmQobG9uLCA2KQogICAgbGF0X3UzMiA9IGludCgobGF0ICsgOTAuMCkgKiAxXzAwMF8wMDApCiAgICBsb25fdTMyID0gaW50KChsb24gKyAxODAuMCkgKiAxXzAwMF8wMDApCiAgICByZXR1cm4gKGxhdF91MzIgPDwgMzIpIHwgbG9uX3UzMgoKCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgUmVzdWx0IG9iamVjdAojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKQGRhdGFjbGFzcyhmcm96ZW49VHJ1ZSwgc2xvdHM9VHJ1ZSkKY2xhc3MgT1NNSW5nZXN0UmVzdWx0OgogICAgb3NtX3BiZl9wYXRoOiBQYXRoCiAgICBnYXpldHRlZXJfZGJfcGF0aDogUGF0aAogICAgdXNlcl9sYW5nOiBzdHIKICAgIGFkbWluX2xldmVsczogdHVwbGVbaW50LCAuLi5dCgogICAgbG9jYXRpb25fY291bnQ6IGludAogICAgbG9jYXRpb25fYWxpYXNfY291bnQ6IGludAoKICAgIGFkbWluX2FyZWFfY291bnQ6IGludAogICAgYWRtaW5fYXJlYV9hbGlhc19jb3VudDogaW50CgogICAgbG9jYXRpb25fYWRtaW5fYXJlYV9jb3VudDogaW50CgogICAgc3RhcnRlZF9hdDogZGF0ZXRpbWUKICAgIGNvbXBsZXRlZF9hdDogZGF0ZXRpbWUKCgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIE9TTSBIYW5kbGVycwojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKY2xhc3MgTG9jYXRpb25IYW5kbGVyKG9zbWl1bS5TaW1wbGVIYW5kbGVyKToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCB1c2VyX2xhbmc6IHN0cik6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCiAgICAgICAgc2VsZi51c2VyX2xhbmcgPSB1c2VyX2xhbmcKICAgICAgICBzZWxmLmxvY2F0aW9uczogbGlzdFt0dXBsZVtpbnQsIGZsb2F0LCBmbG9hdCwgc3RyIHwgTm9uZSwgc3RyIHwgTm9uZV1dID0gW10KICAgICAgICBzZWxmLmFsaWFzZXM6IGxpc3RbdHVwbGVbaW50LCBzdHIsIHN0cl1dID0gW10KCiAgICBkZWYgbm9kZShzZWxmLCBuOiBvc21pdW0ub3NtLk5vZGUpIC0+IE5vbmU6CiAgICAgICAgaWYgbm90IG4ubG9jYXRpb24udmFsaWQoKToKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIGxhdCA9IG4ubG9jYXRpb24ubGF0CiAgICAgICAgbG9uID0gbi5sb2NhdGlvbi5sb24KICAgICAgICBjaWQgPSBlbmNvZGVfY29vcmRfdTY0KGxhdCwgbG9uKQoKICAgICAgICBuYW1lID0gbi50YWdzLmdldChmIm5hbWU6e3NlbGYudXNlcl9sYW5nfSIpCiAgICAgICAgd2lraWRhdGEgPSBuLnRhZ3MuZ2V0KCJ3aWtpZGF0YSIpCgogICAgICAgIHNlbGYubG9jYXRpb25zLmFwcGVuZCgoY2lkLCBsYXQsIGxvbiwgbmFtZSwgd2lraWRhdGEpKQoKICAgICAgICBmb3IgaywgdiBpbiBuLnRhZ3M6CiAgICAgICAgICAgIGlmIGsuZW5kc3dpdGgoZiI6e3NlbGYudXNlcl9sYW5nfSIpOgogICAgICAgICAgICAgICAgc2VsZi5hbGlhc2VzLmFwcGVuZCgoY2lkLCB2LCBub3JtYWxpemVfYWxpYXModikpKQoKCmNsYXNzIEFkbWluQXJlYUhhbmRsZXIob3NtaXVtLlNpbXBsZUhhbmRsZXIpOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHVzZXJfbGFuZzogc3RyLCBhZG1pbl9sZXZlbHM6IFNldFtpbnRdKToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKCkKICAgICAgICBzZWxmLnVzZXJfbGFuZyA9IHVzZXJfbGFuZwogICAgICAgIHNlbGYuYWRtaW5fbGV2ZWxzID0gYWRtaW5fbGV2ZWxzCgogICAgICAgIHNlbGYuYXJlYXM6IGxpc3RbdHVwbGVbaW50LCBpbnQsIHN0ciB8IE5vbmUsIHN0ciB8IE5vbmUsIGJ5dGVzXV0gPSBbXQogICAgICAgIHNlbGYuYWxpYXNlczogbGlzdFt0dXBsZVtpbnQsIHN0ciwgc3RyXV0gPSBbXQoKICAgICAgICBzZWxmLnByZXBhcmVkX2dlb21zOiBkaWN0W2ludCwgb2JqZWN0XSA9IHt9CiAgICAgICAgc2VsZi5ydHJlZSA9IFJUcmVlSW5kZXgoKQogICAgICAgIHNlbGYuX3drYl9mYWN0b3J5ID0gb3NtaXVtLmdlb20uV0tCRmFjdG9yeSgpCgogICAgZGVmIHJlbGF0aW9uKHNlbGYsIHI6IG9zbWl1bS5vc20uUmVsYXRpb24pIC0+IE5vbmU6CiAgICAgICAgaWYgci50YWdzLmdldCgiYm91bmRhcnkiKSAhPSAiYWRtaW5pc3RyYXRpdmUiOgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgdHJ5OgogICAgICAgICAgICBsZXZlbCA9IGludChyLnRhZ3MuZ2V0KCJhZG1pbl9sZXZlbCIpKQogICAgICAgIGV4Y2VwdCAoVHlwZUVycm9yLCBWYWx1ZUVycm9yKToKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIGlmIGxldmVsIG5vdCBpbiBzZWxmLmFkbWluX2xldmVsczoKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIHRyeToKICAgICAgICAgICAgd2tiX2dlb20gPSBzZWxmLl93a2JfZmFjdG9yeS5jcmVhdGVfbXVsdGlwb2x5Z29uKHIpCiAgICAgICAgICAgIGdlb20gPSB3a2IubG9hZHMod2tiX2dlb20pCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIHByZXBhcmVkID0gcHJlcChnZW9tKQogICAgICAgIHNlbGYucHJlcGFyZWRfZ2VvbXNbci5pZF0gPSBwcmVwYXJlZAoKICAgICAgICBtaW54LCBtaW55LCBtYXh4LCBtYXh5ID0gZ2VvbS5ib3VuZHMKICAgICAgICBzZWxmLnJ0cmVlLmluc2VydChyLmlkLCAobWlueCwgbWlueSwgbWF4eCwgbWF4eSkpCgogICAgICAgIG5hbWUgPSByLnRhZ3MuZ2V0KGYibmFtZTp7c2VsZi51c2VyX2xhbmd9IikKICAgICAgICB3aWtpZGF0YSA9IHIudGFncy5nZXQoIndpa2lkYXRhIikKCiAgICAgICAgc2VsZi5hcmVhcy5hcHBlbmQoKHIuaWQsIGxldmVsLCBuYW1lLCB3aWtpZGF0YSwgd2tiX2dlb20pKQoKICAgICAgICBmb3IgaywgdiBpbiByLnRhZ3M6CiAgICAgICAgICAgIGlmIGsuZW5kc3dpdGgoZiI6e3NlbGYudXNlcl9sYW5nfSIpOgogICAgICAgICAgICAgICAgc2VsZi5hbGlhc2VzLmFwcGVuZCgoci5pZCwgdiwgbm9ybWFsaXplX2FsaWFzKHYpKSkKCgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIE1haW4gZW50cnkgcG9pbnQKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCmRlZiBpbmdlc3Rfb3NtKAogICAgKiwKICAgIG9zbV9wYmZfcGF0aDogUGF0aCwKICAgIGdhemV0dGVlcl9kYl9wYXRoOiBQYXRoLAogICAgdXNlcl9sYW5nOiBzdHIsCiAgICBhZG1pbl9sZXZlbHM6IHNldFtpbnRdLAogICAgb3ZlcndyaXRlOiBib29sID0gRmFsc2UsCikgLT4gT1NNSW5nZXN0UmVzdWx0OgoKICAgIHN0YXJ0ZWRfYXQgPSBkYXRldGltZS51dGNub3coKQoKICAgIGlmIG5vdCBvc21fcGJmX3BhdGguZXhpc3RzKCk6CiAgICAgICAgcmFpc2UgRmlsZU5vdEZvdW5kRXJyb3Iob3NtX3BiZl9wYXRoKQoKICAgIGlmIGdhemV0dGVlcl9kYl9wYXRoLmV4aXN0cygpOgogICAgICAgIGlmIG5vdCBvdmVyd3JpdGU6CiAgICAgICAgICAgIHJhaXNlIEZpbGVFeGlzdHNFcnJvcihnYXpldHRlZXJfZGJfcGF0aCkKICAgICAgICBnYXpldHRlZXJfZGJfcGF0aC51bmxpbmsoKQoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBQYXJzZSBPU00KICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGxvY19oYW5kbGVyID0gTG9jYXRpb25IYW5kbGVyKHVzZXJfbGFuZykKICAgIGFkbWluX2hhbmRsZXIgPSBBZG1pbkFyZWFIYW5kbGVyKHVzZXJfbGFuZywgYWRtaW5fbGV2ZWxzKQoKICAgIGxvY19oYW5kbGVyLmFwcGx5X2ZpbGUoc3RyKG9zbV9wYmZfcGF0aCksIGxvY2F0aW9ucz1UcnVlKQogICAgYWRtaW5faGFuZGxlci5hcHBseV9maWxlKHN0cihvc21fcGJmX3BhdGgpLCBsb2NhdGlvbnM9VHJ1ZSkKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICMgQnVpbGQgZGF0YWJhc2UKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGNvbiA9IHNxbGl0ZTMuY29ubmVjdChnYXpldHRlZXJfZGJfcGF0aCkKICAgIGNvbi5leGVjdXRlKCJQUkFHTUEgZm9yZWlnbl9rZXlzID0gT047IikKCiAgICB0cnk6CiAgICAgICAgY3VyID0gY29uLmN1cnNvcigpCiAgICAgICAgY3VyLmV4ZWN1dGUoIkJFR0lOIEVYQ0xVU0lWRTsiKQoKICAgICAgICBjdXIuZXhlY3V0ZXNjcmlwdCgKICAgICAgICAgICAgIiIiCiAgICAgICAgICAgIENSRUFURSBUQUJMRSBsb2NhdGlvbnMgKAogICAgICAgICAgICAgICAgbG9jYXRpb25faWQgSU5URUdFUiBQUklNQVJZIEtFWSwKICAgICAgICAgICAgICAgIGxhdCBSRUFMIE5PVCBOVUxMLAogICAgICAgICAgICAgICAgbG9uIFJFQUwgTk9UIE5VTEwsCiAgICAgICAgICAgICAgICBuYW1lIFRFWFQsCiAgICAgICAgICAgICAgICB3aWtpZGF0YSBURVhUCiAgICAgICAgICAgICk7CgogICAgICAgICAgICBDUkVBVEUgVEFCTEUgbG9jYXRpb25fYWxpYXNlcyAoCiAgICAgICAgICAgICAgICBsb2NhdGlvbl9pZCBJTlRFR0VSIE5PVCBOVUxMLAogICAgICAgICAgICAgICAgYWxpYXMgVEVYVCBOT1QgTlVMTCwKICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWQgVEVYVCBOT1QgTlVMTCwKICAgICAgICAgICAgICAgIFBSSU1BUlkgS0VZIChsb2NhdGlvbl9pZCwgbm9ybWFsaXplZCkKICAgICAgICAgICAgKTsKCiAgICAgICAgICAgIENSRUFURSBUQUJMRSBhZG1pbl9hcmVhcyAoCiAgICAgICAgICAgICAgICBhZG1pbl9pZCBJTlRFR0VSIFBSSU1BUlkgS0VZLAogICAgICAgICAgICAgICAgYWRtaW5fbGV2ZWwgSU5URUdFUiBOT1QgTlVMTCwKICAgICAgICAgICAgICAgIG5hbWUgVEVYVCwKICAgICAgICAgICAgICAgIHdpa2lkYXRhIFRFWFQsCiAgICAgICAgICAgICAgICBnZW9tZXRyeSBCTE9CIE5PVCBOVUxMCiAgICAgICAgICAgICk7CgogICAgICAgICAgICBDUkVBVEUgVEFCTEUgYWRtaW5fYXJlYV9hbGlhc2VzICgKICAgICAgICAgICAgICAgIGFkbWluX2lkIElOVEVHRVIgTk9UIE5VTEwsCiAgICAgICAgICAgICAgICBhbGlhcyBURVhUIE5PVCBOVUxMLAogICAgICAgICAgICAgICAgbm9ybWFsaXplZCBURVhUIE5PVCBOVUxMLAogICAgICAgICAgICAgICAgc291cmNlIFRFWFQgTk9UIE5VTEwsCiAgICAgICAgICAgICAgICBQUklNQVJZIEtFWSAoYWRtaW5faWQsIG5vcm1hbGl6ZWQpCiAgICAgICAgICAgICk7CgogICAgICAgICAgICBDUkVBVEUgVEFCTEUgbG9jYXRpb25fYWRtaW5fYXJlYXMgKAogICAgICAgICAgICAgICAgbG9jYXRpb25faWQgSU5URUdFUiBOT1QgTlVMTCwKICAgICAgICAgICAgICAgIGFkbWluX2lkIElOVEVHRVIgTk9UIE5VTEwsCiAgICAgICAgICAgICAgICBQUklNQVJZIEtFWSAobG9jYXRpb25faWQsIGFkbWluX2lkKQogICAgICAgICAgICApOwogICAgICAgICAgICAiIiIKICAgICAgICApCgogICAgICAgIGN1ci5leGVjdXRlbWFueSgKICAgICAgICAgICAgIklOU0VSVCBJTlRPIGFkbWluX2FyZWFzIFZBTFVFUyAoPywgPywgPywgPywgPykiLAogICAgICAgICAgICBhZG1pbl9oYW5kbGVyLmFyZWFzLAogICAgICAgICkKCiAgICAgICAgY3VyLmV4ZWN1dGVtYW55KAogICAgICAgICAgICAiSU5TRVJUIE9SIElHTk9SRSBJTlRPIGFkbWluX2FyZWFfYWxpYXNlcyBWQUxVRVMgKD8sID8sID8sICdPU00nKSIsCiAgICAgICAgICAgIGFkbWluX2hhbmRsZXIuYWxpYXNlcywKICAgICAgICApCgogICAgICAgIGN1ci5leGVjdXRlbWFueSgKICAgICAgICAgICAgIklOU0VSVCBPUiBJR05PUkUgSU5UTyBsb2NhdGlvbnMgVkFMVUVTICg/LCA/LCA/LCA/LCA/KSIsCiAgICAgICAgICAgIGxvY19oYW5kbGVyLmxvY2F0aW9ucywKICAgICAgICApCgogICAgICAgIGN1ci5leGVjdXRlbWFueSgKICAgICAgICAgICAgIklOU0VSVCBPUiBJR05PUkUgSU5UTyBsb2NhdGlvbl9hbGlhc2VzIFZBTFVFUyAoPywgPywgPykiLAogICAgICAgICAgICBsb2NfaGFuZGxlci5hbGlhc2VzLAogICAgICAgICkKCiAgICAgICAgbG9jYXRpb25fYWRtaW5fcm93cyA9IFtdCgogICAgICAgIGZvciBjaWQsIGxhdCwgbG9uLCAqXyBpbiBsb2NfaGFuZGxlci5sb2NhdGlvbnM6CiAgICAgICAgICAgIHB0ID0gUG9pbnQobG9uLCBsYXQpCgogICAgICAgICAgICBmb3IgYWRtaW5faWQgaW4gYWRtaW5faGFuZGxlci5ydHJlZS5pbnRlcnNlY3Rpb24oKGxvbiwgbGF0LCBsb24sIGxhdCkpOgogICAgICAgICAgICAgICAgaWYgYWRtaW5faGFuZGxlci5wcmVwYXJlZF9nZW9tc1thZG1pbl9pZF0uY29udGFpbnMocHQpOgogICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uX2FkbWluX3Jvd3MuYXBwZW5kKChjaWQsIGFkbWluX2lkKSkKCiAgICAgICAgY3VyLmV4ZWN1dGVtYW55KAogICAgICAgICAgICAiSU5TRVJUIE9SIElHTk9SRSBJTlRPIGxvY2F0aW9uX2FkbWluX2FyZWFzIFZBTFVFUyAoPywgPykiLAogICAgICAgICAgICBsb2NhdGlvbl9hZG1pbl9yb3dzLAogICAgICAgICkKCiAgICAgICAgY3VyLmV4ZWN1dGUoIkNPTU1JVDsiKQoKICAgIGV4Y2VwdCBFeGNlcHRpb246CiAgICAgICAgY29uLnJvbGxiYWNrKCkKICAgICAgICByYWlzZQogICAgZmluYWxseToKICAgICAgICBjb24uY2xvc2UoKQoKICAgIGNvbXBsZXRlZF9hdCA9IGRhdGV0aW1lLnV0Y25vdygpCgogICAgcmV0dXJuIE9TTUluZ2VzdFJlc3VsdCgKICAgICAgICBvc21fcGJmX3BhdGg9b3NtX3BiZl9wYXRoLAogICAgICAgIGdhemV0dGVlcl9kYl9wYXRoPWdhemV0dGVlcl9kYl9wYXRoLAogICAgICAgIHVzZXJfbGFuZz11c2VyX2xhbmcsCiAgICAgICAgYWRtaW5fbGV2ZWxzPXR1cGxlKHNvcnRlZChhZG1pbl9sZXZlbHMpKSwKCiAgICAgICAgbG9jYXRpb25fY291bnQ9bGVuKGxvY19oYW5kbGVyLmxvY2F0aW9ucyksCiAgICAgICAgbG9jYXRpb25fYWxpYXNfY291bnQ9bGVuKGxvY19oYW5kbGVyLmFsaWFzZXMpLAoKICAgICAgICBhZG1pbl9hcmVhX2NvdW50PWxlbihhZG1pbl9oYW5kbGVyLmFyZWFzKSwKICAgICAgICBhZG1pbl9hcmVhX2FsaWFzX2NvdW50PWxlbihhZG1pbl9oYW5kbGVyLmFsaWFzZXMpLAoKICAgICAgICBsb2NhdGlvbl9hZG1pbl9hcmVhX2NvdW50PWxlbihsb2NhdGlvbl9hZG1pbl9yb3dzKSwKCiAgICAgICAgc3RhcnRlZF9hdD1zdGFydGVkX2F0LAogICAgICAgIGNvbXBsZXRlZF9hdD1jb21wbGV0ZWRfYXQsCiAgICApCgAAAAAAAAAAkx8AAAAAAAAAAAAAAAAAAAAAAACTHwAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAJMfAAAAAAAAkx8AAAAAAAAAAAAAAADwvw"
				],
				[
					19,
					1,
					"left_delete",
					null,
					"AQAAAGMGAAAAAAAAYwYAAAAAAAAXAwAAY2xhc3MgTG9jYXRpb25IYW5kbGVyKG9zbWl1bS5TaW1wbGVIYW5kbGVyKToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCB1c2VyX2xhbmc6IHN0cik6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCiAgICAgICAgc2VsZi51c2VyX2xhbmcgPSB1c2VyX2xhbmcKICAgICAgICBzZWxmLmxvY2F0aW9uczogbGlzdFt0dXBsZVtpbnQsIGZsb2F0LCBmbG9hdCwgc3RyIHwgTm9uZSwgc3RyIHwgTm9uZV1dID0gW10KICAgICAgICBzZWxmLmFsaWFzZXM6IGxpc3RbdHVwbGVbaW50LCBzdHIsIHN0cl1dID0gW10KCiAgICBkZWYgbm9kZShzZWxmLCBuOiBvc21pdW0ub3NtLk5vZGUpIC0+IE5vbmU6CiAgICAgICAgaWYgbm90IG4ubG9jYXRpb24udmFsaWQoKToKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIGxhdCA9IG4ubG9jYXRpb24ubGF0CiAgICAgICAgbG9uID0gbi5sb2NhdGlvbi5sb24KICAgICAgICBjaWQgPSBlbmNvZGVfY29vcmRfdTY0KGxhdCwgbG9uKQoKICAgICAgICBuYW1lID0gbi50YWdzLmdldChmIm5hbWU6e3NlbGYudXNlcl9sYW5nfSIpCiAgICAgICAgd2lraWRhdGEgPSBuLnRhZ3MuZ2V0KCJ3aWtpZGF0YSIpCgogICAgICAgIHNlbGYubG9jYXRpb25zLmFwcGVuZCgoY2lkLCBsYXQsIGxvbiwgbmFtZSwgd2lraWRhdGEpKQoKICAgICAgICBmb3IgaywgdiBpbiBuLnRhZ3M6CiAgICAgICAgICAgIGlmIGsuZW5kc3dpdGgoZiI6e3NlbGYudXNlcl9sYW5nfSIpOgogICAgICAgICAgICAgICAgc2VsZi5hbGlhc2VzLmFwcGVuZCgoY2lkLCB2LCBub3JtYWxpemVfYWxpYXModikpKQo",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABjBgAAAAAAAHoJAAAAAAAAAAAAAAAA8L8"
				],
				[
					20,
					1,
					"paste",
					null,
					"AQAAAGMGAAAAAAAAIgwAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABjBgAAAAAAAGMGAAAAAAAAAAAAAAAA8L8"
				],
				[
					21,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAA7IgAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSBkYXRhY2xhc3NlcyBpbXBvcnQgZGF0YWNsYXNzCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aApmcm9tIHR5cGluZyBpbXBvcnQgU2V0CmltcG9ydCBzcWxpdGUzCmltcG9ydCB1bmljb2RlZGF0YQppbXBvcnQgcmUKCmltcG9ydCBvc21pdW0KZnJvbSBzaGFwZWx5Lmdlb21ldHJ5IGltcG9ydCBQb2ludApmcm9tIHNoYXBlbHkgaW1wb3J0IHdrYgpmcm9tIHNoYXBlbHkucHJlcGFyZWQgaW1wb3J0IHByZXAKZnJvbSBydHJlZS5pbmRleCBpbXBvcnQgSW5kZXggYXMgUlRyZWVJbmRleAoKCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgVXRpbGl0aWVzCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgpkZWYgbm9ybWFsaXplX2FsaWFzKHRleHQ6IHN0cikgLT4gc3RyOgogICAgdGV4dCA9IHVuaWNvZGVkYXRhLm5vcm1hbGl6ZSgiTkZLRCIsIHRleHQpCiAgICB0ZXh0ID0gdGV4dC5sb3dlcigpCiAgICB0ZXh0ID0gcmUuc3ViKHIiW15cd1xzXSIsICIgIiwgdGV4dCkKICAgIHRleHQgPSByZS5zdWIociJccysiLCAiICIsIHRleHQpLnN0cmlwKCkKICAgIHJldHVybiB0ZXh0CgoKZGVmIGVuY29kZV9jb29yZF91NjQobGF0OiBmbG9hdCwgbG9uOiBmbG9hdCkgLT4gaW50OgogICAgbGF0ID0gcm91bmQobGF0LCA2KQogICAgbG9uID0gcm91bmQobG9uLCA2KQogICAgbGF0X3UzMiA9IGludCgobGF0ICsgOTAuMCkgKiAxXzAwMF8wMDApCiAgICBsb25fdTMyID0gaW50KChsb24gKyAxODAuMCkgKiAxXzAwMF8wMDApCiAgICByZXR1cm4gKGxhdF91MzIgPDwgMzIpIHwgbG9uX3UzMgoKCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgUmVzdWx0IG9iamVjdAojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKQGRhdGFjbGFzcyhmcm96ZW49VHJ1ZSwgc2xvdHM9VHJ1ZSkKY2xhc3MgT1NNSW5nZXN0UmVzdWx0OgogICAgb3NtX3BiZl9wYXRoOiBQYXRoCiAgICBnYXpldHRlZXJfZGJfcGF0aDogUGF0aAogICAgdXNlcl9sYW5nOiBzdHIKICAgIGFkbWluX2xldmVsczogdHVwbGVbaW50LCAuLi5dCgogICAgbG9jYXRpb25fY291bnQ6IGludAogICAgbG9jYXRpb25fYWxpYXNfY291bnQ6IGludAoKICAgIGFkbWluX2FyZWFfY291bnQ6IGludAogICAgYWRtaW5fYXJlYV9hbGlhc19jb3VudDogaW50CgogICAgbG9jYXRpb25fYWRtaW5fYXJlYV9jb3VudDogaW50CgogICAgc3RhcnRlZF9hdDogZGF0ZXRpbWUKICAgIGNvbXBsZXRlZF9hdDogZGF0ZXRpbWUKCgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIE9TTSBIYW5kbGVycwojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKY2xhc3MgTG9jYXRpb25IYW5kbGVyKG9zbWl1bS5TaW1wbGVIYW5kbGVyKToKICAgICIiIgogICAgRXh0cmFjdCBuYW1lZCBzZXR0bGVtZW50LWxpa2UgbG9jYXRpb25zIG9ubHkuCgogICAgQSBsb2NhdGlvbiBpcyBkZWZpbmVkIGFzOgogICAgLSBub2RlIHdpdGggcGxhY2UgaW4ge2NpdHksIHRvd24sIHZpbGxhZ2UsIGhhbWxldCwgc3VidXJifQogICAgLSBoYXMgbmFtZTo8dXNlcl9sYW5nPgogICAgLSBoYXMgdmFsaWQgY29vcmRpbmF0ZXMKICAgICIiIgoKICAgIEFMTE9XRURfUExBQ0VTID0gewogICAgICAgICJjaXR5IiwKICAgICAgICAidG93biIsCiAgICAgICAgInZpbGxhZ2UiLAogICAgICAgICJoYW1sZXQiLAogICAgICAgICJzdWJ1cmIiLAogICAgfQoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCB1c2VyX2xhbmc6IHN0cik6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCiAgICAgICAgc2VsZi51c2VyX2xhbmcgPSB1c2VyX2xhbmcKICAgICAgICBzZWxmLmxvY2F0aW9uczogbGlzdFt0dXBsZVtpbnQsIGZsb2F0LCBmbG9hdCwgc3RyIHwgTm9uZSwgc3RyIHwgTm9uZV1dID0gW10KICAgICAgICBzZWxmLmFsaWFzZXM6IGxpc3RbdHVwbGVbaW50LCBzdHIsIHN0cl1dID0gW10KCiAgICBkZWYgbm9kZShzZWxmLCBuOiBvc21pdW0ub3NtLk5vZGUpIC0+IE5vbmU6CiAgICAgICAgIyBNdXN0IGhhdmUgY29vcmRpbmF0ZXMKICAgICAgICBpZiBub3Qgbi5sb2NhdGlvbi52YWxpZCgpOgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgIyBNdXN0IGJlIGEgc2V0dGxlbWVudC1saWtlIHBsYWNlCiAgICAgICAgcGxhY2UgPSBuLnRhZ3MuZ2V0KCJwbGFjZSIpCiAgICAgICAgaWYgcGxhY2Ugbm90IGluIHNlbGYuQUxMT1dFRF9QTEFDRVM6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICAjIE11c3QgaGF2ZSBhIG5hbWUgaW4gdXNlciBsYW5ndWFnZQogICAgICAgIG5hbWUgPSBuLnRhZ3MuZ2V0KGYibmFtZTp7c2VsZi51c2VyX2xhbmd9IikKICAgICAgICBpZiBub3QgbmFtZToKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIGxhdCA9IG4ubG9jYXRpb24ubGF0CiAgICAgICAgbG9uID0gbi5sb2NhdGlvbi5sb24KICAgICAgICBjaWQgPSBlbmNvZGVfY29vcmRfdTY0KGxhdCwgbG9uKQoKICAgICAgICB3aWtpZGF0YSA9IG4udGFncy5nZXQoIndpa2lkYXRhIikKCiAgICAgICAgIyBDYW5vbmljYWwgbG9jYXRpb24gcmVjb3JkCiAgICAgICAgc2VsZi5sb2NhdGlvbnMuYXBwZW5kKChjaWQsIGxhdCwgbG9uLCBuYW1lLCB3aWtpZGF0YSkpCgogICAgICAgICMgQWxpYXNlczogYW55IGxhbmd1YWdlLXNwZWNpZmljIG5hbWUgdGFncwogICAgICAgIGZvciBrLCB2IGluIG4udGFnczoKICAgICAgICAgICAgaWYgay5lbmRzd2l0aChmIjp7c2VsZi51c2VyX2xhbmd9Iik6CiAgICAgICAgICAgICAgICBzZWxmLmFsaWFzZXMuYXBwZW5kKChjaWQsIHYsIG5vcm1hbGl6ZV9hbGlhcyh2KSkpCgoKY2xhc3MgQWRtaW5BcmVhSGFuZGxlcihvc21pdW0uU2ltcGxlSGFuZGxlcik6CiAgICBkZWYgX19pbml0X18oc2VsZiwgdXNlcl9sYW5nOiBzdHIsIGFkbWluX2xldmVsczogU2V0W2ludF0pOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oKQogICAgICAgIHNlbGYudXNlcl9sYW5nID0gdXNlcl9sYW5nCiAgICAgICAgc2VsZi5hZG1pbl9sZXZlbHMgPSBhZG1pbl9sZXZlbHMKCiAgICAgICAgc2VsZi5hcmVhczogbGlzdFt0dXBsZVtpbnQsIGludCwgc3RyIHwgTm9uZSwgc3RyIHwgTm9uZSwgYnl0ZXNdXSA9IFtdCiAgICAgICAgc2VsZi5hbGlhc2VzOiBsaXN0W3R1cGxlW2ludCwgc3RyLCBzdHJdXSA9IFtdCgogICAgICAgIHNlbGYucHJlcGFyZWRfZ2VvbXM6IGRpY3RbaW50LCBvYmplY3RdID0ge30KICAgICAgICBzZWxmLnJ0cmVlID0gUlRyZWVJbmRleCgpCiAgICAgICAgc2VsZi5fd2tiX2ZhY3RvcnkgPSBvc21pdW0uZ2VvbS5XS0JGYWN0b3J5KCkKCiAgICBkZWYgcmVsYXRpb24oc2VsZiwgcjogb3NtaXVtLm9zbS5SZWxhdGlvbikgLT4gTm9uZToKICAgICAgICBpZiByLnRhZ3MuZ2V0KCJib3VuZGFyeSIpICE9ICJhZG1pbmlzdHJhdGl2ZSI6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICB0cnk6CiAgICAgICAgICAgIGxldmVsID0gaW50KHIudGFncy5nZXQoImFkbWluX2xldmVsIikpCiAgICAgICAgZXhjZXB0IChUeXBlRXJyb3IsIFZhbHVlRXJyb3IpOgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgaWYgbGV2ZWwgbm90IGluIHNlbGYuYWRtaW5fbGV2ZWxzOgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgdHJ5OgogICAgICAgICAgICB3a2JfZ2VvbSA9IHNlbGYuX3drYl9mYWN0b3J5LmNyZWF0ZV9tdWx0aXBvbHlnb24ocikKICAgICAgICAgICAgZ2VvbSA9IHdrYi5sb2Fkcyh3a2JfZ2VvbSkKICAgICAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgcHJlcGFyZWQgPSBwcmVwKGdlb20pCiAgICAgICAgc2VsZi5wcmVwYXJlZF9nZW9tc1tyLmlkXSA9IHByZXBhcmVkCgogICAgICAgIG1pbngsIG1pbnksIG1heHgsIG1heHkgPSBnZW9tLmJvdW5kcwogICAgICAgIHNlbGYucnRyZWUuaW5zZXJ0KHIuaWQsIChtaW54LCBtaW55LCBtYXh4LCBtYXh5KSkKCiAgICAgICAgbmFtZSA9IHIudGFncy5nZXQoZiJuYW1lOntzZWxmLnVzZXJfbGFuZ30iKQogICAgICAgIHdpa2lkYXRhID0gci50YWdzLmdldCgid2lraWRhdGEiKQoKICAgICAgICBzZWxmLmFyZWFzLmFwcGVuZCgoci5pZCwgbGV2ZWwsIG5hbWUsIHdpa2lkYXRhLCB3a2JfZ2VvbSkpCgogICAgICAgIGZvciBrLCB2IGluIHIudGFnczoKICAgICAgICAgICAgaWYgay5lbmRzd2l0aChmIjp7c2VsZi51c2VyX2xhbmd9Iik6CiAgICAgICAgICAgICAgICBzZWxmLmFsaWFzZXMuYXBwZW5kKChyLmlkLCB2LCBub3JtYWxpemVfYWxpYXModikpKQoKCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgTWFpbiBlbnRyeSBwb2ludAojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKZGVmIGluZ2VzdF9vc20oCiAgICAqLAogICAgb3NtX3BiZl9wYXRoOiBQYXRoLAogICAgZ2F6ZXR0ZWVyX2RiX3BhdGg6IFBhdGgsCiAgICB1c2VyX2xhbmc6IHN0ciwKICAgIGFkbWluX2xldmVsczogc2V0W2ludF0sCiAgICBvdmVyd3JpdGU6IGJvb2wgPSBGYWxzZSwKKSAtPiBPU01Jbmdlc3RSZXN1bHQ6CgogICAgc3RhcnRlZF9hdCA9IGRhdGV0aW1lLnV0Y25vdygpCgogICAgaWYgbm90IG9zbV9wYmZfcGF0aC5leGlzdHMoKToKICAgICAgICByYWlzZSBGaWxlTm90Rm91bmRFcnJvcihvc21fcGJmX3BhdGgpCgogICAgaWYgZ2F6ZXR0ZWVyX2RiX3BhdGguZXhpc3RzKCk6CiAgICAgICAgaWYgbm90IG92ZXJ3cml0ZToKICAgICAgICAgICAgcmFpc2UgRmlsZUV4aXN0c0Vycm9yKGdhemV0dGVlcl9kYl9wYXRoKQogICAgICAgIGdhemV0dGVlcl9kYl9wYXRoLnVubGluaygpCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIFBhcnNlIE9TTQogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgbG9jX2hhbmRsZXIgPSBMb2NhdGlvbkhhbmRsZXIodXNlcl9sYW5nKQogICAgYWRtaW5faGFuZGxlciA9IEFkbWluQXJlYUhhbmRsZXIodXNlcl9sYW5nLCBhZG1pbl9sZXZlbHMpCgogICAgbG9jX2hhbmRsZXIuYXBwbHlfZmlsZShzdHIob3NtX3BiZl9wYXRoKSwgbG9jYXRpb25zPVRydWUpCiAgICBhZG1pbl9oYW5kbGVyLmFwcGx5X2ZpbGUoc3RyKG9zbV9wYmZfcGF0aCksIGxvY2F0aW9ucz1UcnVlKQoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBCdWlsZCBkYXRhYmFzZQogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgY29uID0gc3FsaXRlMy5jb25uZWN0KGdhemV0dGVlcl9kYl9wYXRoKQogICAgY29uLmV4ZWN1dGUoIlBSQUdNQSBmb3JlaWduX2tleXMgPSBPTjsiKQoKICAgIHRyeToKICAgICAgICBjdXIgPSBjb24uY3Vyc29yKCkKICAgICAgICBjdXIuZXhlY3V0ZSgiQkVHSU4gRVhDTFVTSVZFOyIpCgogICAgICAgIGN1ci5leGVjdXRlc2NyaXB0KAogICAgICAgICAgICAiIiIKICAgICAgICAgICAgQ1JFQVRFIFRBQkxFIGxvY2F0aW9ucyAoCiAgICAgICAgICAgICAgICBsb2NhdGlvbl9pZCBJTlRFR0VSIFBSSU1BUlkgS0VZLAogICAgICAgICAgICAgICAgbGF0IFJFQUwgTk9UIE5VTEwsCiAgICAgICAgICAgICAgICBsb24gUkVBTCBOT1QgTlVMTCwKICAgICAgICAgICAgICAgIG5hbWUgVEVYVCwKICAgICAgICAgICAgICAgIHdpa2lkYXRhIFRFWFQKICAgICAgICAgICAgKTsKCiAgICAgICAgICAgIENSRUFURSBUQUJMRSBsb2NhdGlvbl9hbGlhc2VzICgKICAgICAgICAgICAgICAgIGxvY2F0aW9uX2lkIElOVEVHRVIgTk9UIE5VTEwsCiAgICAgICAgICAgICAgICBhbGlhcyBURVhUIE5PVCBOVUxMLAogICAgICAgICAgICAgICAgbm9ybWFsaXplZCBURVhUIE5PVCBOVUxMLAogICAgICAgICAgICAgICAgUFJJTUFSWSBLRVkgKGxvY2F0aW9uX2lkLCBub3JtYWxpemVkKQogICAgICAgICAgICApOwoKICAgICAgICAgICAgQ1JFQVRFIFRBQkxFIGFkbWluX2FyZWFzICgKICAgICAgICAgICAgICAgIGFkbWluX2lkIElOVEVHRVIgUFJJTUFSWSBLRVksCiAgICAgICAgICAgICAgICBhZG1pbl9sZXZlbCBJTlRFR0VSIE5PVCBOVUxMLAogICAgICAgICAgICAgICAgbmFtZSBURVhULAogICAgICAgICAgICAgICAgd2lraWRhdGEgVEVYVCwKICAgICAgICAgICAgICAgIGdlb21ldHJ5IEJMT0IgTk9UIE5VTEwKICAgICAgICAgICAgKTsKCiAgICAgICAgICAgIENSRUFURSBUQUJMRSBhZG1pbl9hcmVhX2FsaWFzZXMgKAogICAgICAgICAgICAgICAgYWRtaW5faWQgSU5URUdFUiBOT1QgTlVMTCwKICAgICAgICAgICAgICAgIGFsaWFzIFRFWFQgTk9UIE5VTEwsCiAgICAgICAgICAgICAgICBub3JtYWxpemVkIFRFWFQgTk9UIE5VTEwsCiAgICAgICAgICAgICAgICBzb3VyY2UgVEVYVCBOT1QgTlVMTCwKICAgICAgICAgICAgICAgIFBSSU1BUlkgS0VZIChhZG1pbl9pZCwgbm9ybWFsaXplZCkKICAgICAgICAgICAgKTsKCiAgICAgICAgICAgIENSRUFURSBUQUJMRSBsb2NhdGlvbl9hZG1pbl9hcmVhcyAoCiAgICAgICAgICAgICAgICBsb2NhdGlvbl9pZCBJTlRFR0VSIE5PVCBOVUxMLAogICAgICAgICAgICAgICAgYWRtaW5faWQgSU5URUdFUiBOT1QgTlVMTCwKICAgICAgICAgICAgICAgIFBSSU1BUlkgS0VZIChsb2NhdGlvbl9pZCwgYWRtaW5faWQpCiAgICAgICAgICAgICk7CiAgICAgICAgICAgICIiIgogICAgICAgICkKCiAgICAgICAgY3VyLmV4ZWN1dGVtYW55KAogICAgICAgICAgICAiSU5TRVJUIElOVE8gYWRtaW5fYXJlYXMgVkFMVUVTICg/LCA/LCA/LCA/LCA/KSIsCiAgICAgICAgICAgIGFkbWluX2hhbmRsZXIuYXJlYXMsCiAgICAgICAgKQoKICAgICAgICBjdXIuZXhlY3V0ZW1hbnkoCiAgICAgICAgICAgICJJTlNFUlQgT1IgSUdOT1JFIElOVE8gYWRtaW5fYXJlYV9hbGlhc2VzIFZBTFVFUyAoPywgPywgPywgJ09TTScpIiwKICAgICAgICAgICAgYWRtaW5faGFuZGxlci5hbGlhc2VzLAogICAgICAgICkKCiAgICAgICAgY3VyLmV4ZWN1dGVtYW55KAogICAgICAgICAgICAiSU5TRVJUIE9SIElHTk9SRSBJTlRPIGxvY2F0aW9ucyBWQUxVRVMgKD8sID8sID8sID8sID8pIiwKICAgICAgICAgICAgbG9jX2hhbmRsZXIubG9jYXRpb25zLAogICAgICAgICkKCiAgICAgICAgY3VyLmV4ZWN1dGVtYW55KAogICAgICAgICAgICAiSU5TRVJUIE9SIElHTk9SRSBJTlRPIGxvY2F0aW9uX2FsaWFzZXMgVkFMVUVTICg/LCA/LCA/KSIsCiAgICAgICAgICAgIGxvY19oYW5kbGVyLmFsaWFzZXMsCiAgICAgICAgKQoKICAgICAgICBsb2NhdGlvbl9hZG1pbl9yb3dzID0gW10KCiAgICAgICAgZm9yIGNpZCwgbGF0LCBsb24sICpfIGluIGxvY19oYW5kbGVyLmxvY2F0aW9uczoKICAgICAgICAgICAgcHQgPSBQb2ludChsb24sIGxhdCkKCiAgICAgICAgICAgIGZvciBhZG1pbl9pZCBpbiBhZG1pbl9oYW5kbGVyLnJ0cmVlLmludGVyc2VjdGlvbigobG9uLCBsYXQsIGxvbiwgbGF0KSk6CiAgICAgICAgICAgICAgICBpZiBhZG1pbl9oYW5kbGVyLnByZXBhcmVkX2dlb21zW2FkbWluX2lkXS5jb250YWlucyhwdCk6CiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb25fYWRtaW5fcm93cy5hcHBlbmQoKGNpZCwgYWRtaW5faWQpKQoKICAgICAgICBjdXIuZXhlY3V0ZW1hbnkoCiAgICAgICAgICAgICJJTlNFUlQgT1IgSUdOT1JFIElOVE8gbG9jYXRpb25fYWRtaW5fYXJlYXMgVkFMVUVTICg/LCA/KSIsCiAgICAgICAgICAgIGxvY2F0aW9uX2FkbWluX3Jvd3MsCiAgICAgICAgKQoKICAgICAgICBjdXIuZXhlY3V0ZSgiQ09NTUlUOyIpCgogICAgZXhjZXB0IEV4Y2VwdGlvbjoKICAgICAgICBjb24ucm9sbGJhY2soKQogICAgICAgIHJhaXNlCiAgICBmaW5hbGx5OgogICAgICAgIGNvbi5jbG9zZSgpCgogICAgY29tcGxldGVkX2F0ID0gZGF0ZXRpbWUudXRjbm93KCkKCiAgICByZXR1cm4gT1NNSW5nZXN0UmVzdWx0KAogICAgICAgIG9zbV9wYmZfcGF0aD1vc21fcGJmX3BhdGgsCiAgICAgICAgZ2F6ZXR0ZWVyX2RiX3BhdGg9Z2F6ZXR0ZWVyX2RiX3BhdGgsCiAgICAgICAgdXNlcl9sYW5nPXVzZXJfbGFuZywKICAgICAgICBhZG1pbl9sZXZlbHM9dHVwbGUoc29ydGVkKGFkbWluX2xldmVscykpLAoKICAgICAgICBsb2NhdGlvbl9jb3VudD1sZW4obG9jX2hhbmRsZXIubG9jYXRpb25zKSwKICAgICAgICBsb2NhdGlvbl9hbGlhc19jb3VudD1sZW4obG9jX2hhbmRsZXIuYWxpYXNlcyksCgogICAgICAgIGFkbWluX2FyZWFfY291bnQ9bGVuKGFkbWluX2hhbmRsZXIuYXJlYXMpLAogICAgICAgIGFkbWluX2FyZWFfYWxpYXNfY291bnQ9bGVuKGFkbWluX2hhbmRsZXIuYWxpYXNlcyksCgogICAgICAgIGxvY2F0aW9uX2FkbWluX2FyZWFfY291bnQ9bGVuKGxvY2F0aW9uX2FkbWluX3Jvd3MpLAoKICAgICAgICBzdGFydGVkX2F0PXN0YXJ0ZWRfYXQsCiAgICAgICAgY29tcGxldGVkX2F0PWNvbXBsZXRlZF9hdCwKICAgICkKAAAAAAAAAAA7IgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAiDAAAAAAAACIMAAAAAAAAAAAAAAAA8L8"
				],
				[
					25,
					1,
					"paste",
					null,
					"AQAAAAAAAAAAAAAAQzoAAAAAAAA7IgAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSBkYXRhY2xhc3NlcyBpbXBvcnQgZGF0YWNsYXNzCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aApmcm9tIHR5cGluZyBpbXBvcnQgU2V0CmltcG9ydCBzcWxpdGUzCmltcG9ydCB1bmljb2RlZGF0YQppbXBvcnQgcmUKCmltcG9ydCBvc21pdW0KZnJvbSBzaGFwZWx5Lmdlb21ldHJ5IGltcG9ydCBQb2ludApmcm9tIHNoYXBlbHkgaW1wb3J0IHdrYgpmcm9tIHNoYXBlbHkucHJlcGFyZWQgaW1wb3J0IHByZXAKZnJvbSBydHJlZS5pbmRleCBpbXBvcnQgSW5kZXggYXMgUlRyZWVJbmRleAoKCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgVXRpbGl0aWVzCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgpkZWYgbm9ybWFsaXplX2FsaWFzKHRleHQ6IHN0cikgLT4gc3RyOgogICAgdGV4dCA9IHVuaWNvZGVkYXRhLm5vcm1hbGl6ZSgiTkZLRCIsIHRleHQpCiAgICB0ZXh0ID0gdGV4dC5sb3dlcigpCiAgICB0ZXh0ID0gcmUuc3ViKHIiW15cd1xzXSIsICIgIiwgdGV4dCkKICAgIHRleHQgPSByZS5zdWIociJccysiLCAiICIsIHRleHQpLnN0cmlwKCkKICAgIHJldHVybiB0ZXh0CgoKZGVmIGVuY29kZV9jb29yZF91NjQobGF0OiBmbG9hdCwgbG9uOiBmbG9hdCkgLT4gaW50OgogICAgbGF0ID0gcm91bmQobGF0LCA2KQogICAgbG9uID0gcm91bmQobG9uLCA2KQogICAgbGF0X3UzMiA9IGludCgobGF0ICsgOTAuMCkgKiAxXzAwMF8wMDApCiAgICBsb25fdTMyID0gaW50KChsb24gKyAxODAuMCkgKiAxXzAwMF8wMDApCiAgICByZXR1cm4gKGxhdF91MzIgPDwgMzIpIHwgbG9uX3UzMgoKCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgUmVzdWx0IG9iamVjdAojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKQGRhdGFjbGFzcyhmcm96ZW49VHJ1ZSwgc2xvdHM9VHJ1ZSkKY2xhc3MgT1NNSW5nZXN0UmVzdWx0OgogICAgb3NtX3BiZl9wYXRoOiBQYXRoCiAgICBnYXpldHRlZXJfZGJfcGF0aDogUGF0aAogICAgdXNlcl9sYW5nOiBzdHIKICAgIGFkbWluX2xldmVsczogdHVwbGVbaW50LCAuLi5dCgogICAgbG9jYXRpb25fY291bnQ6IGludAogICAgbG9jYXRpb25fYWxpYXNfY291bnQ6IGludAoKICAgIGFkbWluX2FyZWFfY291bnQ6IGludAogICAgYWRtaW5fYXJlYV9hbGlhc19jb3VudDogaW50CgogICAgbG9jYXRpb25fYWRtaW5fYXJlYV9jb3VudDogaW50CgogICAgc3RhcnRlZF9hdDogZGF0ZXRpbWUKICAgIGNvbXBsZXRlZF9hdDogZGF0ZXRpbWUKCgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIE9TTSBIYW5kbGVycwojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKY2xhc3MgTG9jYXRpb25IYW5kbGVyKG9zbWl1bS5TaW1wbGVIYW5kbGVyKToKICAgICIiIgogICAgRXh0cmFjdCBuYW1lZCBzZXR0bGVtZW50LWxpa2UgbG9jYXRpb25zIG9ubHkuCgogICAgQSBsb2NhdGlvbiBpcyBkZWZpbmVkIGFzOgogICAgLSBub2RlIHdpdGggcGxhY2UgaW4ge2NpdHksIHRvd24sIHZpbGxhZ2UsIGhhbWxldCwgc3VidXJifQogICAgLSBoYXMgbmFtZTo8dXNlcl9sYW5nPgogICAgLSBoYXMgdmFsaWQgY29vcmRpbmF0ZXMKICAgICIiIgoKICAgIEFMTE9XRURfUExBQ0VTID0gewogICAgICAgICJjaXR5IiwKICAgICAgICAidG93biIsCiAgICAgICAgInZpbGxhZ2UiLAogICAgICAgICJoYW1sZXQiLAogICAgICAgICJzdWJ1cmIiLAogICAgfQoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCB1c2VyX2xhbmc6IHN0cik6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCiAgICAgICAgc2VsZi51c2VyX2xhbmcgPSB1c2VyX2xhbmcKICAgICAgICBzZWxmLmxvY2F0aW9uczogbGlzdFt0dXBsZVtpbnQsIGZsb2F0LCBmbG9hdCwgc3RyIHwgTm9uZSwgc3RyIHwgTm9uZV1dID0gW10KICAgICAgICBzZWxmLmFsaWFzZXM6IGxpc3RbdHVwbGVbaW50LCBzdHIsIHN0cl1dID0gW10KCiAgICBkZWYgbm9kZShzZWxmLCBuOiBvc21pdW0ub3NtLk5vZGUpIC0+IE5vbmU6CiAgICAgICAgIyBNdXN0IGhhdmUgY29vcmRpbmF0ZXMKICAgICAgICBpZiBub3Qgbi5sb2NhdGlvbi52YWxpZCgpOgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgIyBNdXN0IGJlIGEgc2V0dGxlbWVudC1saWtlIHBsYWNlCiAgICAgICAgcGxhY2UgPSBuLnRhZ3MuZ2V0KCJwbGFjZSIpCiAgICAgICAgaWYgcGxhY2Ugbm90IGluIHNlbGYuQUxMT1dFRF9QTEFDRVM6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICAjIE11c3QgaGF2ZSBhIG5hbWUgaW4gdXNlciBsYW5ndWFnZQogICAgICAgIG5hbWUgPSBuLnRhZ3MuZ2V0KGYibmFtZTp7c2VsZi51c2VyX2xhbmd9IikKICAgICAgICBpZiBub3QgbmFtZToKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIGxhdCA9IG4ubG9jYXRpb24ubGF0CiAgICAgICAgbG9uID0gbi5sb2NhdGlvbi5sb24KICAgICAgICBjaWQgPSBlbmNvZGVfY29vcmRfdTY0KGxhdCwgbG9uKQoKICAgICAgICB3aWtpZGF0YSA9IG4udGFncy5nZXQoIndpa2lkYXRhIikKCiAgICAgICAgIyBDYW5vbmljYWwgbG9jYXRpb24gcmVjb3JkCiAgICAgICAgc2VsZi5sb2NhdGlvbnMuYXBwZW5kKChjaWQsIGxhdCwgbG9uLCBuYW1lLCB3aWtpZGF0YSkpCgogICAgICAgICMgQWxpYXNlczogYW55IGxhbmd1YWdlLXNwZWNpZmljIG5hbWUgdGFncwogICAgICAgIGZvciBrLCB2IGluIG4udGFnczoKICAgICAgICAgICAgaWYgay5lbmRzd2l0aChmIjp7c2VsZi51c2VyX2xhbmd9Iik6CiAgICAgICAgICAgICAgICBzZWxmLmFsaWFzZXMuYXBwZW5kKChjaWQsIHYsIG5vcm1hbGl6ZV9hbGlhcyh2KSkpCgoKY2xhc3MgQWRtaW5BcmVhSGFuZGxlcihvc21pdW0uU2ltcGxlSGFuZGxlcik6CiAgICBkZWYgX19pbml0X18oc2VsZiwgdXNlcl9sYW5nOiBzdHIsIGFkbWluX2xldmVsczogU2V0W2ludF0pOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oKQogICAgICAgIHNlbGYudXNlcl9sYW5nID0gdXNlcl9sYW5nCiAgICAgICAgc2VsZi5hZG1pbl9sZXZlbHMgPSBhZG1pbl9sZXZlbHMKCiAgICAgICAgc2VsZi5hcmVhczogbGlzdFt0dXBsZVtpbnQsIGludCwgc3RyIHwgTm9uZSwgc3RyIHwgTm9uZSwgYnl0ZXNdXSA9IFtdCiAgICAgICAgc2VsZi5hbGlhc2VzOiBsaXN0W3R1cGxlW2ludCwgc3RyLCBzdHJdXSA9IFtdCgogICAgICAgIHNlbGYucHJlcGFyZWRfZ2VvbXM6IGRpY3RbaW50LCBvYmplY3RdID0ge30KICAgICAgICBzZWxmLnJ0cmVlID0gUlRyZWVJbmRleCgpCiAgICAgICAgc2VsZi5fd2tiX2ZhY3RvcnkgPSBvc21pdW0uZ2VvbS5XS0JGYWN0b3J5KCkKCiAgICBkZWYgcmVsYXRpb24oc2VsZiwgcjogb3NtaXVtLm9zbS5SZWxhdGlvbikgLT4gTm9uZToKICAgICAgICBpZiByLnRhZ3MuZ2V0KCJib3VuZGFyeSIpICE9ICJhZG1pbmlzdHJhdGl2ZSI6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICB0cnk6CiAgICAgICAgICAgIGxldmVsID0gaW50KHIudGFncy5nZXQoImFkbWluX2xldmVsIikpCiAgICAgICAgZXhjZXB0IChUeXBlRXJyb3IsIFZhbHVlRXJyb3IpOgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgaWYgbGV2ZWwgbm90IGluIHNlbGYuYWRtaW5fbGV2ZWxzOgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgdHJ5OgogICAgICAgICAgICB3a2JfZ2VvbSA9IHNlbGYuX3drYl9mYWN0b3J5LmNyZWF0ZV9tdWx0aXBvbHlnb24ocikKICAgICAgICAgICAgZ2VvbSA9IHdrYi5sb2Fkcyh3a2JfZ2VvbSkKICAgICAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgcHJlcGFyZWQgPSBwcmVwKGdlb20pCiAgICAgICAgc2VsZi5wcmVwYXJlZF9nZW9tc1tyLmlkXSA9IHByZXBhcmVkCgogICAgICAgIG1pbngsIG1pbnksIG1heHgsIG1heHkgPSBnZW9tLmJvdW5kcwogICAgICAgIHNlbGYucnRyZWUuaW5zZXJ0KHIuaWQsIChtaW54LCBtaW55LCBtYXh4LCBtYXh5KSkKCiAgICAgICAgbmFtZSA9IHIudGFncy5nZXQoZiJuYW1lOntzZWxmLnVzZXJfbGFuZ30iKQogICAgICAgIHdpa2lkYXRhID0gci50YWdzLmdldCgid2lraWRhdGEiKQoKICAgICAgICBzZWxmLmFyZWFzLmFwcGVuZCgoci5pZCwgbGV2ZWwsIG5hbWUsIHdpa2lkYXRhLCB3a2JfZ2VvbSkpCgogICAgICAgIGZvciBrLCB2IGluIHIudGFnczoKICAgICAgICAgICAgaWYgay5lbmRzd2l0aChmIjp7c2VsZi51c2VyX2xhbmd9Iik6CiAgICAgICAgICAgICAgICBzZWxmLmFsaWFzZXMuYXBwZW5kKChyLmlkLCB2LCBub3JtYWxpemVfYWxpYXModikpKQoKCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgTWFpbiBlbnRyeSBwb2ludAojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKZGVmIGluZ2VzdF9vc20oCiAgICAqLAogICAgb3NtX3BiZl9wYXRoOiBQYXRoLAogICAgZ2F6ZXR0ZWVyX2RiX3BhdGg6IFBhdGgsCiAgICB1c2VyX2xhbmc6IHN0ciwKICAgIGFkbWluX2xldmVsczogc2V0W2ludF0sCiAgICBvdmVyd3JpdGU6IGJvb2wgPSBGYWxzZSwKKSAtPiBPU01Jbmdlc3RSZXN1bHQ6CgogICAgc3RhcnRlZF9hdCA9IGRhdGV0aW1lLnV0Y25vdygpCgogICAgaWYgbm90IG9zbV9wYmZfcGF0aC5leGlzdHMoKToKICAgICAgICByYWlzZSBGaWxlTm90Rm91bmRFcnJvcihvc21fcGJmX3BhdGgpCgogICAgaWYgZ2F6ZXR0ZWVyX2RiX3BhdGguZXhpc3RzKCk6CiAgICAgICAgaWYgbm90IG92ZXJ3cml0ZToKICAgICAgICAgICAgcmFpc2UgRmlsZUV4aXN0c0Vycm9yKGdhemV0dGVlcl9kYl9wYXRoKQogICAgICAgIGdhemV0dGVlcl9kYl9wYXRoLnVubGluaygpCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIFBhcnNlIE9TTQogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgbG9jX2hhbmRsZXIgPSBMb2NhdGlvbkhhbmRsZXIodXNlcl9sYW5nKQogICAgYWRtaW5faGFuZGxlciA9IEFkbWluQXJlYUhhbmRsZXIodXNlcl9sYW5nLCBhZG1pbl9sZXZlbHMpCgogICAgbG9jX2hhbmRsZXIuYXBwbHlfZmlsZShzdHIob3NtX3BiZl9wYXRoKSwgbG9jYXRpb25zPVRydWUpCiAgICBhZG1pbl9oYW5kbGVyLmFwcGx5X2ZpbGUoc3RyKG9zbV9wYmZfcGF0aCksIGxvY2F0aW9ucz1UcnVlKQoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBCdWlsZCBkYXRhYmFzZQogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgY29uID0gc3FsaXRlMy5jb25uZWN0KGdhemV0dGVlcl9kYl9wYXRoKQogICAgY29uLmV4ZWN1dGUoIlBSQUdNQSBmb3JlaWduX2tleXMgPSBPTjsiKQoKICAgIHRyeToKICAgICAgICBjdXIgPSBjb24uY3Vyc29yKCkKICAgICAgICBjdXIuZXhlY3V0ZSgiQkVHSU4gRVhDTFVTSVZFOyIpCgogICAgICAgIGN1ci5leGVjdXRlc2NyaXB0KAogICAgICAgICAgICAiIiIKICAgICAgICAgICAgQ1JFQVRFIFRBQkxFIGxvY2F0aW9ucyAoCiAgICAgICAgICAgICAgICBsb2NhdGlvbl9pZCBJTlRFR0VSIFBSSU1BUlkgS0VZLAogICAgICAgICAgICAgICAgbGF0IFJFQUwgTk9UIE5VTEwsCiAgICAgICAgICAgICAgICBsb24gUkVBTCBOT1QgTlVMTCwKICAgICAgICAgICAgICAgIG5hbWUgVEVYVCwKICAgICAgICAgICAgICAgIHdpa2lkYXRhIFRFWFQKICAgICAgICAgICAgKTsKCiAgICAgICAgICAgIENSRUFURSBUQUJMRSBsb2NhdGlvbl9hbGlhc2VzICgKICAgICAgICAgICAgICAgIGxvY2F0aW9uX2lkIElOVEVHRVIgTk9UIE5VTEwsCiAgICAgICAgICAgICAgICBhbGlhcyBURVhUIE5PVCBOVUxMLAogICAgICAgICAgICAgICAgbm9ybWFsaXplZCBURVhUIE5PVCBOVUxMLAogICAgICAgICAgICAgICAgUFJJTUFSWSBLRVkgKGxvY2F0aW9uX2lkLCBub3JtYWxpemVkKQogICAgICAgICAgICApOwoKICAgICAgICAgICAgQ1JFQVRFIFRBQkxFIGFkbWluX2FyZWFzICgKICAgICAgICAgICAgICAgIGFkbWluX2lkIElOVEVHRVIgUFJJTUFSWSBLRVksCiAgICAgICAgICAgICAgICBhZG1pbl9sZXZlbCBJTlRFR0VSIE5PVCBOVUxMLAogICAgICAgICAgICAgICAgbmFtZSBURVhULAogICAgICAgICAgICAgICAgd2lraWRhdGEgVEVYVCwKICAgICAgICAgICAgICAgIGdlb21ldHJ5IEJMT0IgTk9UIE5VTEwKICAgICAgICAgICAgKTsKCiAgICAgICAgICAgIENSRUFURSBUQUJMRSBhZG1pbl9hcmVhX2FsaWFzZXMgKAogICAgICAgICAgICAgICAgYWRtaW5faWQgSU5URUdFUiBOT1QgTlVMTCwKICAgICAgICAgICAgICAgIGFsaWFzIFRFWFQgTk9UIE5VTEwsCiAgICAgICAgICAgICAgICBub3JtYWxpemVkIFRFWFQgTk9UIE5VTEwsCiAgICAgICAgICAgICAgICBzb3VyY2UgVEVYVCBOT1QgTlVMTCwKICAgICAgICAgICAgICAgIFBSSU1BUlkgS0VZIChhZG1pbl9pZCwgbm9ybWFsaXplZCkKICAgICAgICAgICAgKTsKCiAgICAgICAgICAgIENSRUFURSBUQUJMRSBsb2NhdGlvbl9hZG1pbl9hcmVhcyAoCiAgICAgICAgICAgICAgICBsb2NhdGlvbl9pZCBJTlRFR0VSIE5PVCBOVUxMLAogICAgICAgICAgICAgICAgYWRtaW5faWQgSU5URUdFUiBOT1QgTlVMTCwKICAgICAgICAgICAgICAgIFBSSU1BUlkgS0VZIChsb2NhdGlvbl9pZCwgYWRtaW5faWQpCiAgICAgICAgICAgICk7CiAgICAgICAgICAgICIiIgogICAgICAgICkKCiAgICAgICAgY3VyLmV4ZWN1dGVtYW55KAogICAgICAgICAgICAiSU5TRVJUIElOVE8gYWRtaW5fYXJlYXMgVkFMVUVTICg/LCA/LCA/LCA/LCA/KSIsCiAgICAgICAgICAgIGFkbWluX2hhbmRsZXIuYXJlYXMsCiAgICAgICAgKQoKICAgICAgICBjdXIuZXhlY3V0ZW1hbnkoCiAgICAgICAgICAgICJJTlNFUlQgT1IgSUdOT1JFIElOVE8gYWRtaW5fYXJlYV9hbGlhc2VzIFZBTFVFUyAoPywgPywgPywgJ09TTScpIiwKICAgICAgICAgICAgYWRtaW5faGFuZGxlci5hbGlhc2VzLAogICAgICAgICkKCiAgICAgICAgY3VyLmV4ZWN1dGVtYW55KAogICAgICAgICAgICAiSU5TRVJUIE9SIElHTk9SRSBJTlRPIGxvY2F0aW9ucyBWQUxVRVMgKD8sID8sID8sID8sID8pIiwKICAgICAgICAgICAgbG9jX2hhbmRsZXIubG9jYXRpb25zLAogICAgICAgICkKCiAgICAgICAgY3VyLmV4ZWN1dGVtYW55KAogICAgICAgICAgICAiSU5TRVJUIE9SIElHTk9SRSBJTlRPIGxvY2F0aW9uX2FsaWFzZXMgVkFMVUVTICg/LCA/LCA/KSIsCiAgICAgICAgICAgIGxvY19oYW5kbGVyLmFsaWFzZXMsCiAgICAgICAgKQoKICAgICAgICBsb2NhdGlvbl9hZG1pbl9yb3dzID0gW10KCiAgICAgICAgZm9yIGNpZCwgbGF0LCBsb24sICpfIGluIGxvY19oYW5kbGVyLmxvY2F0aW9uczoKICAgICAgICAgICAgcHQgPSBQb2ludChsb24sIGxhdCkKCiAgICAgICAgICAgIGZvciBhZG1pbl9pZCBpbiBhZG1pbl9oYW5kbGVyLnJ0cmVlLmludGVyc2VjdGlvbigobG9uLCBsYXQsIGxvbiwgbGF0KSk6CiAgICAgICAgICAgICAgICBpZiBhZG1pbl9oYW5kbGVyLnByZXBhcmVkX2dlb21zW2FkbWluX2lkXS5jb250YWlucyhwdCk6CiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb25fYWRtaW5fcm93cy5hcHBlbmQoKGNpZCwgYWRtaW5faWQpKQoKICAgICAgICBjdXIuZXhlY3V0ZW1hbnkoCiAgICAgICAgICAgICJJTlNFUlQgT1IgSUdOT1JFIElOVE8gbG9jYXRpb25fYWRtaW5fYXJlYXMgVkFMVUVTICg/LCA/KSIsCiAgICAgICAgICAgIGxvY2F0aW9uX2FkbWluX3Jvd3MsCiAgICAgICAgKQoKICAgICAgICBjdXIuZXhlY3V0ZSgiQ09NTUlUOyIpCgogICAgZXhjZXB0IEV4Y2VwdGlvbjoKICAgICAgICBjb24ucm9sbGJhY2soKQogICAgICAgIHJhaXNlCiAgICBmaW5hbGx5OgogICAgICAgIGNvbi5jbG9zZSgpCgogICAgY29tcGxldGVkX2F0ID0gZGF0ZXRpbWUudXRjbm93KCkKCiAgICByZXR1cm4gT1NNSW5nZXN0UmVzdWx0KAogICAgICAgIG9zbV9wYmZfcGF0aD1vc21fcGJmX3BhdGgsCiAgICAgICAgZ2F6ZXR0ZWVyX2RiX3BhdGg9Z2F6ZXR0ZWVyX2RiX3BhdGgsCiAgICAgICAgdXNlcl9sYW5nPXVzZXJfbGFuZywKICAgICAgICBhZG1pbl9sZXZlbHM9dHVwbGUoc29ydGVkKGFkbWluX2xldmVscykpLAoKICAgICAgICBsb2NhdGlvbl9jb3VudD1sZW4obG9jX2hhbmRsZXIubG9jYXRpb25zKSwKICAgICAgICBsb2NhdGlvbl9hbGlhc19jb3VudD1sZW4obG9jX2hhbmRsZXIuYWxpYXNlcyksCgogICAgICAgIGFkbWluX2FyZWFfY291bnQ9bGVuKGFkbWluX2hhbmRsZXIuYXJlYXMpLAogICAgICAgIGFkbWluX2FyZWFfYWxpYXNfY291bnQ9bGVuKGFkbWluX2hhbmRsZXIuYWxpYXNlcyksCgogICAgICAgIGxvY2F0aW9uX2FkbWluX2FyZWFfY291bnQ9bGVuKGxvY2F0aW9uX2FkbWluX3Jvd3MpLAoKICAgICAgICBzdGFydGVkX2F0PXN0YXJ0ZWRfYXQsCiAgICAgICAgY29tcGxldGVkX2F0PWNvbXBsZXRlZF9hdCwKICAgICkK",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAADsiAAAAAAAAAAAAAAAA8L8"
				],
				[
					28,
					1,
					"revert",
					null,
					"AwAAAAAAAAAAAAAAAAAAAAAAAABDOgAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSBkYXRhY2xhc3NlcyBpbXBvcnQgZGF0YWNsYXNzCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aApmcm9tIHR5cGluZyBpbXBvcnQgQ2FsbGFibGUsIEl0ZXJhYmxlLCBPcHRpb25hbCwgU2VxdWVuY2UsIFNldAppbXBvcnQgcmUKaW1wb3J0IHNxbGl0ZTMKaW1wb3J0IHVuaWNvZGVkYXRhCgppbXBvcnQgb3NtaXVtCmZyb20gc2hhcGVseS5nZW9tZXRyeSBpbXBvcnQgUG9pbnQKZnJvbSBzaGFwZWx5IGltcG9ydCB3a2IKZnJvbSBzaGFwZWx5LnByZXBhcmVkIGltcG9ydCBwcmVwCmZyb20gcnRyZWUuaW5kZXggaW1wb3J0IEluZGV4IGFzIFJUcmVlSW5kZXgKCgojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiMgTm9ybWFsaXphdGlvbiAvIElEcwojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgpfV09SRF9SRSA9IHJlLmNvbXBpbGUociJbXlx3XHNdKyIsIHJlLlVOSUNPREUpCl9XU19SRSA9IHJlLmNvbXBpbGUociJccysiLCByZS5VTklDT0RFKQoKCmRlZiBub3JtYWxpemVfYWxpYXModGV4dDogc3RyKSAtPiBzdHI6CiAgICAiIiIKICAgIE5vcm1hbGl6ZSBhbGlhcyB0ZXh0IGZvciBtYXRjaGluZyAoRW50aXR5UnVsZXItbGlrZSkuCiAgICBLZWVwIGl0IHN0YWJsZSBhbmQgZGV0ZXJtaW5pc3RpYy4KICAgICIiIgogICAgdGV4dCA9IHVuaWNvZGVkYXRhLm5vcm1hbGl6ZSgiTkZLRCIsIHRleHQpCiAgICB0ZXh0ID0gdGV4dC5sb3dlcigpCiAgICB0ZXh0ID0gX1dPUkRfUkUuc3ViKCIgIiwgdGV4dCkKICAgIHRleHQgPSBfV1NfUkUuc3ViKCIgIiwgdGV4dCkuc3RyaXAoKQogICAgcmV0dXJuIHRleHQKCgpkZWYgZW5jb2RlX2Nvb3JkX3U2NChsYXQ6IGZsb2F0LCBsb246IGZsb2F0KSAtPiBpbnQ6CiAgICAiIiJFbmNvZGUgKGxhdCwgbG9uKSBpbnRvIGEgc2luZ2xlIDY0LWJpdCBpbnRlZ2VyIGtleSB3aXRoIDYtZGVjaW1hbCBwcmVjaXNpb24uIiIiCiAgICBsYXQgPSByb3VuZChsYXQsIDYpCiAgICBsb24gPSByb3VuZChsb24sIDYpCiAgICBsYXRfdTMyID0gaW50KChsYXQgKyA5MC4wKSAqIDFfMDAwXzAwMCkKICAgIGxvbl91MzIgPSBpbnQoKGxvbiArIDE4MC4wKSAqIDFfMDAwXzAwMCkKICAgIHJldHVybiAobGF0X3UzMiA8PCAzMikgfCBsb25fdTMyCgoKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQojIE5hbWUgZXh0cmFjdGlvbiBydWxlcwojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgojIFlvdSByZXF1ZXN0ZWQ6IG9ubHkgcHJlc2VudGF0aW9uIHVzZXMgbmFtZTsgYWxpYXNlcyBjYXJyeSBhbGwgdXNlZnVsIG5hbWU6KiB0YWdzLgojIFdlIGFjY2VwdCBhbnkvYWxsIDxiYXNlPjo8bGFuZz4gd2hlcmUgYmFzZSBpcyBpbiB0aGlzIHNldC4KX0FMTE9XRURfTkFNRV9CQVNFUzogU2V0W3N0cl0gPSB7CiAgICAibmFtZSIsCiAgICAib2ZmaWNpYWxfbmFtZSIsCiAgICAibG9jX25hbWUiLAogICAgInNob3J0X25hbWUiLAogICAgIm5hbWVfb2xkIiwKICAgICJuYW1lX2FsdCIsCn0KCiMgQ2Fub25pY2FsIGRpc3BsYXkgbmFtZSBwcmVmZXJlbmNlIGZvciBVSSAoZmlyc3QgZm91bmQgd2lucykuCl9DQU5PTklDQUxfUFJFRl9PUkRFUjogU2VxdWVuY2Vbc3RyXSA9ICgKICAgICJuYW1lIiwKICAgICJvZmZpY2lhbF9uYW1lIiwKICAgICJzaG9ydF9uYW1lIiwKICAgICJsb2NfbmFtZSIsCiAgICAibmFtZV9hbHQiLAogICAgIm5hbWVfb2xkIiwKKQoKIyBTZXR0bGVtZW50LWxpa2UgcGxhY2VzIG9ubHkgKHlvdXIgcmVxdWVzdGVkIGJhc2VsaW5lKS4KX0FMTE9XRURfUExBQ0VTOiBTZXRbc3RyXSA9IHsiY2l0eSIsICJ0b3duIiwgInZpbGxhZ2UiLCAiaGFtbGV0IiwgInN1YnVyYiJ9CgoKZGVmIGl0ZXJfbGFuZ19uYW1lcyh0YWdzOiBvc21pdW0ub3NtLlRhZ0xpc3QsIGxhbmc6IHN0cikgLT4gSXRlcmFibGVbdHVwbGVbc3RyLCBzdHJdXToKICAgICIiIgogICAgWWllbGQgKGJhc2Vfa2V5LCB2YWx1ZSkgZm9yIGFueSB0YWcga2V5IGxpa2UgIjxiYXNlPjo8bGFuZz4iIHdoZXJlIGJhc2UgaXMgYWxsb3dlZC4KICAgIFVzZXMgYWN0dWFsIHB5dGhvbi1vc21pdW0gVGFnTGlzdCBpdGVyYXRpb24gKGssIHYpLgogICAgIiIiCiAgICBzdWZmaXggPSBmIjp7bGFuZ30iCiAgICBmb3IgaywgdiBpbiB0YWdzOgogICAgICAgIGlmIG5vdCBrLmVuZHN3aXRoKHN1ZmZpeCk6CiAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgYmFzZSA9IGtbOiAtbGVuKHN1ZmZpeCldCiAgICAgICAgaWYgYmFzZSBpbiBfQUxMT1dFRF9OQU1FX0JBU0VTIGFuZCB2OgogICAgICAgICAgICB5aWVsZCBiYXNlLCB2CgoKZGVmIGNob29zZV9jYW5vbmljYWxfbmFtZShsYW5nX25hbWVzOiBTZXF1ZW5jZVt0dXBsZVtzdHIsIHN0cl1dKSAtPiBPcHRpb25hbFtzdHJdOgogICAgIiIiCiAgICBQaWNrIGEgY2Fub25pY2FsIGRpc3BsYXkgbmFtZSBmcm9tIChiYXNlLHZhbHVlKSBwYWlycyB1c2luZyBwcmVmZXJlbmNlIG9yZGVyLgogICAgIiIiCiAgICBpZiBub3QgbGFuZ19uYW1lczoKICAgICAgICByZXR1cm4gTm9uZQogICAgYnlfYmFzZTogZGljdFtzdHIsIGxpc3Rbc3RyXV0gPSB7fQogICAgZm9yIGJhc2UsIHZhbCBpbiBsYW5nX25hbWVzOgogICAgICAgIGJ5X2Jhc2Uuc2V0ZGVmYXVsdChiYXNlLCBbXSkuYXBwZW5kKHZhbCkKCiAgICBmb3IgYmFzZSBpbiBfQ0FOT05JQ0FMX1BSRUZfT1JERVI6CiAgICAgICAgdmFscyA9IGJ5X2Jhc2UuZ2V0KGJhc2UpCiAgICAgICAgaWYgdmFsczoKICAgICAgICAgICAgcmV0dXJuIHZhbHNbMF0KICAgICMgZmFsbGJhY2sKICAgIHJldHVybiBsYW5nX25hbWVzWzBdWzFdCgoKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQojIFJlc3VsdCB0eXBlCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCkBkYXRhY2xhc3MoZnJvemVuPVRydWUsIHNsb3RzPVRydWUpCmNsYXNzIE9TTUluZ2VzdFJlc3VsdDoKICAgIG9zbV9wYmZfcGF0aDogUGF0aAogICAgZ2F6ZXR0ZWVyX2RiX3BhdGg6IFBhdGgKICAgIHVzZXJfbGFuZzogc3RyCiAgICBhZG1pbl9sZXZlbHM6IHR1cGxlW2ludCwgLi4uXQoKICAgIGxvY2F0aW9uX2NvdW50OiBpbnQKICAgIGxvY2F0aW9uX2FsaWFzX2NvdW50OiBpbnQKCiAgICBhZG1pbl9hcmVhX2NvdW50OiBpbnQKICAgIGFkbWluX2FyZWFfYWxpYXNfY291bnQ6IGludAoKICAgIGxvY2F0aW9uX2FkbWluX2FyZWFfY291bnQ6IGludAoKICAgIHN0YXJ0ZWRfYXQ6IGRhdGV0aW1lCiAgICBjb21wbGV0ZWRfYXQ6IGRhdGV0aW1lCgoKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQojIE9TTSBoYW5kbGVycyAob3NtaXVtIEFQSS1jb3JyZWN0KQojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgpjbGFzcyBQbGFjZU5vZGVIYW5kbGVyKG9zbWl1bS5TaW1wbGVIYW5kbGVyKToKICAgICIiIgogICAgRXh0cmFjdCBPTkxZIHNldHRsZW1lbnQtbGlrZSBuYW1lZCBwbGFjZXMgZnJvbSBPU00gbm9kZXMuCiAgICBDcnVjaWFsbHksIHRoaXMgaGFuZGxlciBzaG91bGQgYmUgcnVuIHdpdGggbG9jYXRpb25zPUZhbHNlLCBiZWNhdXNlIG5vZGUgY29vcmRpbmF0ZXMKICAgIGFyZSBlbWJlZGRlZCBhbmQgd2UgZG8gbm90IG5lZWQgdGhlIGV4cGVuc2l2ZSBsb2NhdGlvbiBpbmRleC4KICAgICIiIgoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCB1c2VyX2xhbmc6IHN0cik6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCiAgICAgICAgc2VsZi51c2VyX2xhbmcgPSB1c2VyX2xhbmcKCiAgICAgICAgIyByb3dzIGZvciBEQgogICAgICAgIHNlbGYubG9jYXRpb25zOiBsaXN0W3R1cGxlW2ludCwgZmxvYXQsIGZsb2F0LCBzdHIsIHN0ciB8IE5vbmVdXSA9IFtdCiAgICAgICAgc2VsZi5sb2NhdGlvbl9hbGlhc2VzOiBsaXN0W3R1cGxlW2ludCwgc3RyLCBzdHJdXSA9IFtdCgogICAgICAgICMgaW50ZXJuYWwgZGUtZHVwZSB0byBsaW1pdCBtZW1vcnkgYmxvd3VwcwogICAgICAgIHNlbGYuX3NlZW5fbG9jYXRpb25faWQ6IHNldFtpbnRdID0gc2V0KCkKICAgICAgICBzZWxmLl9zZWVuX2FsaWFzX3BrOiBzZXRbdHVwbGVbaW50LCBzdHJdXSA9IHNldCgpICAjIChsb2NhdGlvbl9pZCwgbm9ybWFsaXplZCkKCiAgICBkZWYgbm9kZShzZWxmLCBuOiBvc21pdW0ub3NtLk5vZGUpIC0+IE5vbmU6CiAgICAgICAgIyBOb2RlIGNvb3JkaW5hdGVzIGFyZSBhdmFpbGFibGUgZGlyZWN0bHk7IG5vIG5lZWQgZm9yIGxvY2F0aW9ucyBpbmRleC4KICAgICAgICAjIFN0aWxsLCBuLmxvY2F0aW9uIGlzIHRoZSBjb3JyZWN0IEFQSSBmb3Igbm9kZSBjb29yZGluYXRlcy4KICAgICAgICBsb2MgPSBuLmxvY2F0aW9uCiAgICAgICAgaWYgbm90IGxvYy52YWxpZCgpOgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgcGxhY2UgPSBuLnRhZ3MuZ2V0KCJwbGFjZSIpCiAgICAgICAgaWYgcGxhY2Ugbm90IGluIF9BTExPV0VEX1BMQUNFUzoKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIGxhbmdfbmFtZXMgPSBsaXN0KGl0ZXJfbGFuZ19uYW1lcyhuLnRhZ3MsIHNlbGYudXNlcl9sYW5nKSkKICAgICAgICBjYW5vbmljYWwgPSBjaG9vc2VfY2Fub25pY2FsX25hbWUobGFuZ19uYW1lcykKICAgICAgICBpZiBub3QgY2Fub25pY2FsOgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgbGF0ID0gbG9jLmxhdAogICAgICAgIGxvbiA9IGxvYy5sb24KICAgICAgICBsb2NhdGlvbl9pZCA9IGVuY29kZV9jb29yZF91NjQobGF0LCBsb24pCgogICAgICAgIGlmIGxvY2F0aW9uX2lkIGluIHNlbGYuX3NlZW5fbG9jYXRpb25faWQ6CiAgICAgICAgICAgICMgc2FtZSBjb29yZGluYXRlIHBvaW50IGFscmVhZHkgc2Vlbjsga2VlcCBmaXJzdCBjYW5vbmljYWwgcmVjb3JkCiAgICAgICAgICAgICMgYnV0IHN0aWxsIGFsbG93IGFsaWFzZXMgdG8gYmUgYWRkZWQgKGluIGNhc2UpCiAgICAgICAgICAgIHBhc3MKICAgICAgICBlbHNlOgogICAgICAgICAgICB3aWtpZGF0YSA9IG4udGFncy5nZXQoIndpa2lkYXRhIikKICAgICAgICAgICAgc2VsZi5sb2NhdGlvbnMuYXBwZW5kKChsb2NhdGlvbl9pZCwgbGF0LCBsb24sIGNhbm9uaWNhbCwgd2lraWRhdGEpKQogICAgICAgICAgICBzZWxmLl9zZWVuX2xvY2F0aW9uX2lkLmFkZChsb2NhdGlvbl9pZCkKCiAgICAgICAgIyBhbGlhc2VzOiBhbGwgYWNjZXB0ZWQgbGFuZy1uYW1lIHZhcmlhbnRzCiAgICAgICAgZm9yIF8sIG5hbWVfdmFsIGluIGxhbmdfbmFtZXM6CiAgICAgICAgICAgIG5vcm0gPSBub3JtYWxpemVfYWxpYXMobmFtZV92YWwpCiAgICAgICAgICAgIGlmIG5vdCBub3JtOgogICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgcGsgPSAobG9jYXRpb25faWQsIG5vcm0pCiAgICAgICAgICAgIGlmIHBrIGluIHNlbGYuX3NlZW5fYWxpYXNfcGs6CiAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICBzZWxmLmxvY2F0aW9uX2FsaWFzZXMuYXBwZW5kKChsb2NhdGlvbl9pZCwgbmFtZV92YWwsIG5vcm0pKQogICAgICAgICAgICBzZWxmLl9zZWVuX2FsaWFzX3BrLmFkZChwaykKCgpjbGFzcyBBZG1pbkFyZWFSZWxhdGlvbkhhbmRsZXIob3NtaXVtLlNpbXBsZUhhbmRsZXIpOgogICAgIiIiCiAgICBFeHRyYWN0IGFkbWluaXN0cmF0aXZlIGJvdW5kYXJ5IHJlbGF0aW9ucyAoYWRtaW4gYXJlYXMpIGFuZCB0aGVpciBnZW9tZXRyaWVzLgoKICAgIFRoaXMgaGFuZGxlciBNVVNUIGJlIHJ1biB3aXRoIGxvY2F0aW9ucz1UcnVlLCBiZWNhdXNlIG11bHRpcG9seWdvbiBjb25zdHJ1Y3Rpb24KICAgIHJlcXVpcmVzIHJlc29sdmluZyB3YXkvbm9kZSBjb29yZGluYXRlcyAobG9jYXRpb24gaW5kZXgpLgogICAgIiIiCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHVzZXJfbGFuZzogc3RyLCBhZG1pbl9sZXZlbHM6IFNldFtpbnRdKToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKCkKICAgICAgICBzZWxmLnVzZXJfbGFuZyA9IHVzZXJfbGFuZwogICAgICAgIHNlbGYuYWRtaW5fbGV2ZWxzID0gYWRtaW5fbGV2ZWxzCgogICAgICAgIHNlbGYuYWRtaW5fYXJlYXM6IGxpc3RbdHVwbGVbaW50LCBpbnQsIHN0ciB8IE5vbmUsIHN0ciB8IE5vbmUsIGJ5dGVzXV0gPSBbXQogICAgICAgIHNlbGYuYWRtaW5fYXJlYV9hbGlhc2VzOiBsaXN0W3R1cGxlW2ludCwgc3RyLCBzdHIsIHN0cl1dID0gW10gICMgYWRtaW5faWQsIGFsaWFzLCBub3JtYWxpemVkLCBzb3VyY2UKCiAgICAgICAgIyBHZW9tZXRyeSB1dGlsaXRpZXMKICAgICAgICBzZWxmLl93a2JfZmFjdG9yeSA9IG9zbWl1bS5nZW9tLldLQkZhY3RvcnkoKQoKICAgICAgICAjIEZvciBjb250YWlubWVudAogICAgICAgIHNlbGYucHJlcGFyZWRfZ2VvbXM6IGRpY3RbaW50LCBvYmplY3RdID0ge30KICAgICAgICBzZWxmLnJ0cmVlID0gUlRyZWVJbmRleCgpCgogICAgICAgICMgZGUtZHVwZQogICAgICAgIHNlbGYuX3NlZW5fYWRtaW5faWQ6IHNldFtpbnRdID0gc2V0KCkKICAgICAgICBzZWxmLl9zZWVuX2FkbWluX2FsaWFzX3BrOiBzZXRbdHVwbGVbaW50LCBzdHJdXSA9IHNldCgpICAjIChhZG1pbl9pZCwgbm9ybWFsaXplZCkKCiAgICBkZWYgcmVsYXRpb24oc2VsZiwgcjogb3NtaXVtLm9zbS5SZWxhdGlvbikgLT4gTm9uZToKICAgICAgICBpZiByLnRhZ3MuZ2V0KCJib3VuZGFyeSIpICE9ICJhZG1pbmlzdHJhdGl2ZSI6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICB0cnk6CiAgICAgICAgICAgIGxldmVsID0gaW50KHIudGFncy5nZXQoImFkbWluX2xldmVsIikpCiAgICAgICAgZXhjZXB0IChUeXBlRXJyb3IsIFZhbHVlRXJyb3IpOgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgaWYgbGV2ZWwgbm90IGluIHNlbGYuYWRtaW5fbGV2ZWxzOgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgYWRtaW5faWQgPSBpbnQoci5pZCkKICAgICAgICBpZiBhZG1pbl9pZCBpbiBzZWxmLl9zZWVuX2FkbWluX2lkOgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgIyBCdWlsZCBnZW9tZXRyeSAoV0tCIG11bHRpcG9seWdvbikuIFRoaXMgbmVlZHMgbG9jYXRpb25zPVRydWUgb24gYXBwbHlfZmlsZS4KICAgICAgICB0cnk6CiAgICAgICAgICAgIHdrYl9ieXRlcyA9IHNlbGYuX3drYl9mYWN0b3J5LmNyZWF0ZV9tdWx0aXBvbHlnb24ocikKICAgICAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgdHJ5OgogICAgICAgICAgICBnZW9tID0gd2tiLmxvYWRzKHdrYl9ieXRlcykKICAgICAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgIyBQcmVwYXJlZCBnZW9tZXRyeSBmb3IgZmFzdCBjb250YWlucygpCiAgICAgICAgdHJ5OgogICAgICAgICAgICBwcmVwYXJlZCA9IHByZXAoZ2VvbSkKICAgICAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgc2VsZi5wcmVwYXJlZF9nZW9tc1thZG1pbl9pZF0gPSBwcmVwYXJlZAoKICAgICAgICAjIEluZGV4IGJvdW5kaW5nIGJveAogICAgICAgIG1pbngsIG1pbnksIG1heHgsIG1heHkgPSBnZW9tLmJvdW5kcwogICAgICAgIHNlbGYucnRyZWUuaW5zZXJ0KGFkbWluX2lkLCAobWlueCwgbWlueSwgbWF4eCwgbWF4eSkpCgogICAgICAgICMgQ2Fub25pY2FsIG5hbWUgZm9yIFVJIHByZXNlbnRhdGlvbgogICAgICAgIGxhbmdfbmFtZXMgPSBsaXN0KGl0ZXJfbGFuZ19uYW1lcyhyLnRhZ3MsIHNlbGYudXNlcl9sYW5nKSkKICAgICAgICBjYW5vbmljYWwgPSBjaG9vc2VfY2Fub25pY2FsX25hbWUobGFuZ19uYW1lcykKCiAgICAgICAgd2lraWRhdGEgPSByLnRhZ3MuZ2V0KCJ3aWtpZGF0YSIpCiAgICAgICAgc2VsZi5hZG1pbl9hcmVhcy5hcHBlbmQoKGFkbWluX2lkLCBsZXZlbCwgY2Fub25pY2FsLCB3aWtpZGF0YSwgd2tiX2J5dGVzKSkKICAgICAgICBzZWxmLl9zZWVuX2FkbWluX2lkLmFkZChhZG1pbl9pZCkKCiAgICAgICAgIyBBbGlhc2VzIGZyb20gbGFuZyBuYW1lcwogICAgICAgIGZvciBfLCBuYW1lX3ZhbCBpbiBsYW5nX25hbWVzOgogICAgICAgICAgICBub3JtID0gbm9ybWFsaXplX2FsaWFzKG5hbWVfdmFsKQogICAgICAgICAgICBpZiBub3Qgbm9ybToKICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgIHBrID0gKGFkbWluX2lkLCBub3JtKQogICAgICAgICAgICBpZiBwayBpbiBzZWxmLl9zZWVuX2FkbWluX2FsaWFzX3BrOgogICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgc2VsZi5hZG1pbl9hcmVhX2FsaWFzZXMuYXBwZW5kKChhZG1pbl9pZCwgbmFtZV92YWwsIG5vcm0sICJPU00iKSkKICAgICAgICAgICAgc2VsZi5fc2Vlbl9hZG1pbl9hbGlhc19way5hZGQocGspCgoKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQojIFNRTGl0ZSBzY2hlbWEgKGdhemV0dGVlciBzdWJzZXQgdXNlZCBieSB0aGlzIGluZ2VzdGVyKQojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgpfR0FaRVRURUVSX0RETCA9ICIiIgpQUkFHTUEgZm9yZWlnbl9rZXlzID0gT047CgpDUkVBVEUgVEFCTEUgbG9jYXRpb25zICgKICAgIGxvY2F0aW9uX2lkIElOVEVHRVIgUFJJTUFSWSBLRVksCiAgICBsYXQgUkVBTCBOT1QgTlVMTCwKICAgIGxvbiBSRUFMIE5PVCBOVUxMLAogICAgbmFtZSBURVhULAogICAgd2lraWRhdGEgVEVYVAopOwoKQ1JFQVRFIFRBQkxFIGxvY2F0aW9uX2FsaWFzZXMgKAogICAgbG9jYXRpb25faWQgSU5URUdFUiBOT1QgTlVMTCwKICAgIGFsaWFzIFRFWFQgTk9UIE5VTEwsCiAgICBub3JtYWxpemVkIFRFWFQgTk9UIE5VTEwsCiAgICBQUklNQVJZIEtFWSAobG9jYXRpb25faWQsIG5vcm1hbGl6ZWQpLAogICAgRk9SRUlHTiBLRVkgKGxvY2F0aW9uX2lkKSBSRUZFUkVOQ0VTIGxvY2F0aW9ucyhsb2NhdGlvbl9pZCkKKTsKCkNSRUFURSBUQUJMRSBhZG1pbl9hcmVhcyAoCiAgICBhZG1pbl9pZCBJTlRFR0VSIFBSSU1BUlkgS0VZLAogICAgYWRtaW5fbGV2ZWwgSU5URUdFUiBOT1QgTlVMTCwKICAgIG5hbWUgVEVYVCwKICAgIHdpa2lkYXRhIFRFWFQsCiAgICBnZW9tZXRyeSBCTE9CIE5PVCBOVUxMCik7CgpDUkVBVEUgVEFCTEUgYWRtaW5fYXJlYV9hbGlhc2VzICgKICAgIGFkbWluX2lkIElOVEVHRVIgTk9UIE5VTEwsCiAgICBhbGlhcyBURVhUIE5PVCBOVUxMLAogICAgbm9ybWFsaXplZCBURVhUIE5PVCBOVUxMLAogICAgc291cmNlIFRFWFQgTk9UIE5VTEwsCiAgICBQUklNQVJZIEtFWSAoYWRtaW5faWQsIG5vcm1hbGl6ZWQpLAogICAgRk9SRUlHTiBLRVkgKGFkbWluX2lkKSBSRUZFUkVOQ0VTIGFkbWluX2FyZWFzKGFkbWluX2lkKQopOwoKQ1JFQVRFIFRBQkxFIGxvY2F0aW9uX2FkbWluX2FyZWFzICgKICAgIGxvY2F0aW9uX2lkIElOVEVHRVIgTk9UIE5VTEwsCiAgICBhZG1pbl9pZCBJTlRFR0VSIE5PVCBOVUxMLAogICAgUFJJTUFSWSBLRVkgKGxvY2F0aW9uX2lkLCBhZG1pbl9pZCksCiAgICBGT1JFSUdOIEtFWSAobG9jYXRpb25faWQpIFJFRkVSRU5DRVMgbG9jYXRpb25zKGxvY2F0aW9uX2lkKSwKICAgIEZPUkVJR04gS0VZIChhZG1pbl9pZCkgUkVGRVJFTkNFUyBhZG1pbl9hcmVhcyhhZG1pbl9pZCkKKTsKCi0tIFBlcmZvcm1hbmNlIGluZGV4ZXMgZm9yIGxvb2t1cApDUkVBVEUgSU5ERVggaWR4X2xvY2F0aW9uX2FsaWFzZXNfbm9ybSBPTiBsb2NhdGlvbl9hbGlhc2VzKG5vcm1hbGl6ZWQpOwpDUkVBVEUgSU5ERVggaWR4X2FkbWluX2FyZWFfYWxpYXNlc19ub3JtIE9OIGFkbWluX2FyZWFfYWxpYXNlcyhub3JtYWxpemVkKTsKQ1JFQVRFIElOREVYIGlkeF9hZG1pbl9hcmVhc19sZXZlbCBPTiBhZG1pbl9hcmVhcyhhZG1pbl9sZXZlbCk7CiIiIgoKCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KIyBQdWJsaWMgQVBJCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCmRlZiBpbmdlc3Rfb3NtKAogICAgKiwKICAgIG9zbV9wYmZfcGF0aDogUGF0aCwKICAgIGdhemV0dGVlcl9kYl9wYXRoOiBQYXRoLAogICAgdXNlcl9sYW5nOiBzdHIsCiAgICBhZG1pbl9sZXZlbHM6IHNldFtpbnRdLAogICAgb3ZlcndyaXRlOiBib29sID0gRmFsc2UsCiAgICBwcm9ncmVzc19jYjogT3B0aW9uYWxbQ2FsbGFibGVbW3N0cl0sIE5vbmVdXSA9IE5vbmUsCikgLT4gT1NNSW5nZXN0UmVzdWx0OgogICAgIiIiCiAgICBJbmdlc3QgYW4gLm9zbS5wYmYgaW50byBhIGdhemV0dGVlci5kYiAodmFjdXVtIG1vZGUpLgoKICAgIC0gTG9jYXRpb25zIGFyZSBleHRyYWN0ZWQgZnJvbSBPU00gbm9kZXMgd2l0aDoKICAgICAgICBwbGFjZSBpbiB7Y2l0eSx0b3duLHZpbGxhZ2UsaGFtbGV0LHN1YnVyYn0KICAgICAgICBBTkQgYXQgbGVhc3Qgb25lIGFsbG93ZWQgbmFtZToqIHRhZyBmb3IgdXNlcl9sYW5nLgogICAgLSBBZG1pbiBhcmVhcyBhcmUgZXh0cmFjdGVkIGZyb20gYm91bmRhcnk9YWRtaW5pc3RyYXRpdmUgcmVsYXRpb25zCiAgICAgIHdoZXJlIGFkbWluX2xldmVsIGluIGFkbWluX2xldmVscy4KICAgIC0gQ29udGFpbm1lbnQgaXMgY29tcHV0ZWQgYnkgcG9pbnQtaW4tcG9seWdvbiB1c2luZyBhbiBSLXRyZWUgZmlsdGVyICsgcHJlcGFyZWQgZ2VvbXMuCiAgICAiIiIKCiAgICBzdGFydGVkX2F0ID0gZGF0ZXRpbWUudXRjbm93KCkKCiAgICBvc21fcGJmX3BhdGggPSBvc21fcGJmX3BhdGguZXhwYW5kdXNlcigpLnJlc29sdmUoKQogICAgZ2F6ZXR0ZWVyX2RiX3BhdGggPSBnYXpldHRlZXJfZGJfcGF0aC5leHBhbmR1c2VyKCkucmVzb2x2ZSgpCgogICAgaWYgbm90IG9zbV9wYmZfcGF0aC5leGlzdHMoKToKICAgICAgICByYWlzZSBGaWxlTm90Rm91bmRFcnJvcihvc21fcGJmX3BhdGgpCgogICAgaWYgZ2F6ZXR0ZWVyX2RiX3BhdGguZXhpc3RzKCk6CiAgICAgICAgaWYgbm90IG92ZXJ3cml0ZToKICAgICAgICAgICAgcmFpc2UgRmlsZUV4aXN0c0Vycm9yKGdhemV0dGVlcl9kYl9wYXRoKQogICAgICAgIGdhemV0dGVlcl9kYl9wYXRoLnVubGluaygpCgogICAgZGVmIGxvZyhtc2c6IHN0cikgLT4gTm9uZToKICAgICAgICBpZiBwcm9ncmVzc19jYiBpcyBub3QgTm9uZToKICAgICAgICAgICAgcHJvZ3Jlc3NfY2IobXNnKQoKICAgIGxvZyhmIk9TTSBpbmdlc3Q6IG5vZGUgcGxhY2VzIChsb2NhdGlvbnM9RmFsc2UpIGZyb20ge29zbV9wYmZfcGF0aC5uYW1lfSIpCiAgICAjIFBBU1MgMTogbm9kZXMgb25seSwgZG8gTk9UIGJ1aWxkIGxvY2F0aW9ucyBpbmRleAogICAgcGxhY2VfaGFuZGxlciA9IFBsYWNlTm9kZUhhbmRsZXIodXNlcl9sYW5nPXVzZXJfbGFuZykKICAgIHBsYWNlX2hhbmRsZXIuYXBwbHlfZmlsZShzdHIob3NtX3BiZl9wYXRoKSwgbG9jYXRpb25zPUZhbHNlKQoKICAgIGxvZyhmIk9TTSBpbmdlc3Q6IGFkbWluIHJlbGF0aW9ucyAobG9jYXRpb25zPVRydWUpIGZyb20ge29zbV9wYmZfcGF0aC5uYW1lfSIpCiAgICAjIFBBU1MgMjogcmVsYXRpb25zIChwb2x5Z29ucyksIE1VU1QgYnVpbGQgbG9jYXRpb25zIGluZGV4CiAgICBhZG1pbl9oYW5kbGVyID0gQWRtaW5BcmVhUmVsYXRpb25IYW5kbGVyKHVzZXJfbGFuZz11c2VyX2xhbmcsIGFkbWluX2xldmVscz1hZG1pbl9sZXZlbHMpCiAgICBhZG1pbl9oYW5kbGVyLmFwcGx5X2ZpbGUoc3RyKG9zbV9wYmZfcGF0aCksIGxvY2F0aW9ucz1UcnVlKQoKICAgIGxvZygiT1NNIGluZ2VzdDogY29tcHV0aW5nIGNvbnRhaW5tZW50IChSLXRyZWUgKyBwcmVwYXJlZCBnZW9tZXRyaWVzKSIpCiAgICBsb2NhdGlvbl9hZG1pbl9yb3dzOiBsaXN0W3R1cGxlW2ludCwgaW50XV0gPSBbXQoKICAgICMgQ29udGFpbm1lbnQ6IGZvciBlYWNoIGxvY2F0aW9uIHBvaW50LCBxdWVyeSBjYW5kaWRhdGUgYWRtaW4gYXJlYXMgdmlhIGJib3gsCiAgICAjIHRoZW4gcnVuIHByZWNpc2UgY29udGFpbnMoKSBvbiBwcmVwYXJlZCBwb2x5Z29uLgogICAgZm9yIGxvY2F0aW9uX2lkLCBsYXQsIGxvbiwgKl8gaW4gcGxhY2VfaGFuZGxlci5sb2NhdGlvbnM6CiAgICAgICAgcHQgPSBQb2ludChsb24sIGxhdCkKICAgICAgICBmb3IgYWRtaW5faWQgaW4gYWRtaW5faGFuZGxlci5ydHJlZS5pbnRlcnNlY3Rpb24oKGxvbiwgbGF0LCBsb24sIGxhdCkpOgogICAgICAgICAgICBpZiBhZG1pbl9oYW5kbGVyLnByZXBhcmVkX2dlb21zW2FkbWluX2lkXS5jb250YWlucyhwdCk6CiAgICAgICAgICAgICAgICBsb2NhdGlvbl9hZG1pbl9yb3dzLmFwcGVuZCgobG9jYXRpb25faWQsIGludChhZG1pbl9pZCkpKQoKICAgIGxvZygiT1NNIGluZ2VzdDogd3JpdGluZyBTUUxpdGUgZ2F6ZXR0ZWVyIikKICAgIGNvbiA9IHNxbGl0ZTMuY29ubmVjdChnYXpldHRlZXJfZGJfcGF0aCkKICAgIHRyeToKICAgICAgICBjb24uZXhlY3V0ZSgiUFJBR01BIGZvcmVpZ25fa2V5cyA9IE9OOyIpCiAgICAgICAgIyBzcGVlZCBrbm9icyAoc2FmZSBmb3Igb25lLXNob3QgYnVpbGQpCiAgICAgICAgY29uLmV4ZWN1dGUoIlBSQUdNQSBqb3VybmFsX21vZGUgPSBXQUw7IikKICAgICAgICBjb24uZXhlY3V0ZSgiUFJBR01BIHN5bmNocm9ub3VzID0gTk9STUFMOyIpCiAgICAgICAgY29uLmV4ZWN1dGUoIlBSQUdNQSB0ZW1wX3N0b3JlID0gTUVNT1JZOyIpCgogICAgICAgIGN1ciA9IGNvbi5jdXJzb3IoKQogICAgICAgIGN1ci5leGVjdXRlKCJCRUdJTjsiKQogICAgICAgIGN1ci5leGVjdXRlc2NyaXB0KF9HQVpFVFRFRVJfRERMKQoKICAgICAgICBjdXIuZXhlY3V0ZW1hbnkoCiAgICAgICAgICAgICJJTlNFUlQgSU5UTyBsb2NhdGlvbnMobG9jYXRpb25faWQsIGxhdCwgbG9uLCBuYW1lLCB3aWtpZGF0YSkgVkFMVUVTICg/LCA/LCA/LCA/LCA/KSIsCiAgICAgICAgICAgIHBsYWNlX2hhbmRsZXIubG9jYXRpb25zLAogICAgICAgICkKICAgICAgICBjdXIuZXhlY3V0ZW1hbnkoCiAgICAgICAgICAgICJJTlNFUlQgT1IgSUdOT1JFIElOVE8gbG9jYXRpb25fYWxpYXNlcyhsb2NhdGlvbl9pZCwgYWxpYXMsIG5vcm1hbGl6ZWQpIFZBTFVFUyAoPywgPywgPykiLAogICAgICAgICAgICBwbGFjZV9oYW5kbGVyLmxvY2F0aW9uX2FsaWFzZXMsCiAgICAgICAgKQogICAgICAgIGN1ci5leGVjdXRlbWFueSgKICAgICAgICAgICAgIklOU0VSVCBJTlRPIGFkbWluX2FyZWFzKGFkbWluX2lkLCBhZG1pbl9sZXZlbCwgbmFtZSwgd2lraWRhdGEsIGdlb21ldHJ5KSBWQUxVRVMgKD8sID8sID8sID8sID8pIiwKICAgICAgICAgICAgYWRtaW5faGFuZGxlci5hZG1pbl9hcmVhcywKICAgICAgICApCiAgICAgICAgY3VyLmV4ZWN1dGVtYW55KAogICAgICAgICAgICAiSU5TRVJUIE9SIElHTk9SRSBJTlRPIGFkbWluX2FyZWFfYWxpYXNlcyhhZG1pbl9pZCwgYWxpYXMsIG5vcm1hbGl6ZWQsIHNvdXJjZSkgVkFMVUVTICg/LCA/LCA/LCA/KSIsCiAgICAgICAgICAgIGFkbWluX2hhbmRsZXIuYWRtaW5fYXJlYV9hbGlhc2VzLAogICAgICAgICkKICAgICAgICBjdXIuZXhlY3V0ZW1hbnkoCiAgICAgICAgICAgICJJTlNFUlQgT1IgSUdOT1JFIElOVE8gbG9jYXRpb25fYWRtaW5fYXJlYXMobG9jYXRpb25faWQsIGFkbWluX2lkKSBWQUxVRVMgKD8sID8pIiwKICAgICAgICAgICAgbG9jYXRpb25fYWRtaW5fcm93cywKICAgICAgICApCgogICAgICAgIGN1ci5leGVjdXRlKCJDT01NSVQ7IikKICAgIGV4Y2VwdCBFeGNlcHRpb246CiAgICAgICAgY29uLnJvbGxiYWNrKCkKICAgICAgICByYWlzZQogICAgZmluYWxseToKICAgICAgICBjb24uY2xvc2UoKQoKICAgIGNvbXBsZXRlZF9hdCA9IGRhdGV0aW1lLnV0Y25vdygpCiAgICBsb2coIk9TTSBpbmdlc3Q6IGNvbXBsZXRlIikKCiAgICByZXR1cm4gT1NNSW5nZXN0UmVzdWx0KAogICAgICAgIG9zbV9wYmZfcGF0aD1vc21fcGJmX3BhdGgsCiAgICAgICAgZ2F6ZXR0ZWVyX2RiX3BhdGg9Z2F6ZXR0ZWVyX2RiX3BhdGgsCiAgICAgICAgdXNlcl9sYW5nPXVzZXJfbGFuZywKICAgICAgICBhZG1pbl9sZXZlbHM9dHVwbGUoc29ydGVkKGFkbWluX2xldmVscykpLAogICAgICAgIGxvY2F0aW9uX2NvdW50PWxlbihwbGFjZV9oYW5kbGVyLmxvY2F0aW9ucyksCiAgICAgICAgbG9jYXRpb25fYWxpYXNfY291bnQ9bGVuKHBsYWNlX2hhbmRsZXIubG9jYXRpb25fYWxpYXNlcyksCiAgICAgICAgYWRtaW5fYXJlYV9jb3VudD1sZW4oYWRtaW5faGFuZGxlci5hZG1pbl9hcmVhcyksCiAgICAgICAgYWRtaW5fYXJlYV9hbGlhc19jb3VudD1sZW4oYWRtaW5faGFuZGxlci5hZG1pbl9hcmVhX2FsaWFzZXMpLAogICAgICAgIGxvY2F0aW9uX2FkbWluX2FyZWFfY291bnQ9bGVuKGxvY2F0aW9uX2FkbWluX3Jvd3MpLAogICAgICAgIHN0YXJ0ZWRfYXQ9c3RhcnRlZF9hdCwKICAgICAgICBjb21wbGV0ZWRfYXQ9Y29tcGxldGVkX2F0LAogICAgKQoAAAAAAAAAAEM6AAAAAAAAAAAAAAAAAAAAAAAAaCYAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABDOgAAAAAAAEM6AAAAAAAAAAAAAAAA8L8"
				]
			]
		},
		{
			"file": "src/sitrepc2/cli/init_cmd.py",
			"settings":
			{
				"buffer_size": 5408,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					3,
					1,
					"insert",
					{
						"characters": "d"
					},
					"AQAAAFUBAAAAAAAAVgEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAVQEAAAAAAABVAQAAAAAAAAAAAAAAAPC/"
				],
				[
					4,
					1,
					"left_delete",
					null,
					"AQAAAFUBAAAAAAAAVQEAAAAAAAABAAAAZA",
					"AQAAAAAAAAABAAAAVgEAAAAAAABWAQAAAAAAAAAAAAAAAPC/"
				],
				[
					5,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAiFQAAIyBzcmMvc2l0cmVwYzIvY2xpL2luaXRfY21kLnB5CmZyb20gX19mdXR1cmVfXyBpbXBvcnQgYW5ub3RhdGlvbnMKCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aAppbXBvcnQgc2h1dGlsCmltcG9ydCBzdWJwcm9jZXNzCmltcG9ydCBzeXMKaW1wb3J0IHNxbGl0ZTMKCmltcG9ydCB0eXBlcgoKZnJvbSBzaXRyZXBjMi5jb25maWcucGF0aHMgaW1wb3J0ICgKICAgIGRvdF9wYXRoLAogICAgc2VlZF9sZXhpY29uX3BhdGgsCiAgICBzZWVkX3NvdXJjZXNfcGF0aCwKICAgIHNlZWRfZ2F6ZXR0ZWVyX3BhdGgsCiAgICBnYXpldHRlZXJfcGF0aCwKICAgIHJlY29yZHNfcGF0aCwKICAgIGxleGljb25fcGF0aCwKICAgIHNvdXJjZXNfcGF0aCwKICAgIHJlY19zY2hlbWFfcm9vdF9wYXRoLAopCgphcHAgPSB0eXBlci5UeXBlcigKICAgIGhlbHA9IkluaXRpYWxpemUgYSBzaXRyZXBjMiB3b3Jrc3BhY2UuIiwKICAgIGludm9rZV93aXRob3V0X2NvbW1hbmQ9VHJ1ZSwKKQoKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgSW50ZXJuYWwgaGVscGVycwojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCmRlZiBfYXBwbHlfcmVjX3NjaGVtYXMoZGJfcGF0aDogUGF0aCkgLT4gTm9uZToKICAgIHNjaGVtYV9kaXIgPSByZWNfc2NoZW1hX3Jvb3RfcGF0aCgpCgogICAgaWYgbm90IHNjaGVtYV9kaXIuZXhpc3RzKCk6CiAgICAgICAgcmFpc2UgUnVudGltZUVycm9yKGYiU2NoZW1hIGRpcmVjdG9yeSBub3QgZm91bmQ6IHtzY2hlbWFfZGlyfSIpCgogICAgc3FsX2ZpbGVzID0gc29ydGVkKHNjaGVtYV9kaXIuZ2xvYigiKi5zcWwiKSkKICAgIGlmIG5vdCBzcWxfZmlsZXM6CiAgICAgICAgcmFpc2UgUnVudGltZUVycm9yKGYiTm8gLnNxbCBmaWxlcyBmb3VuZCBpbiB7c2NoZW1hX2Rpcn0iKQoKICAgIHdpdGggc3FsaXRlMy5jb25uZWN0KGRiX3BhdGgpIGFzIGNvbjoKICAgICAgICBjb24uZXhlY3V0ZSgiUFJBR01BIGZvcmVpZ25fa2V5cyA9IE9OOyIpCiAgICAgICAgZm9yIHNxbCBpbiBzcWxfZmlsZXM6CiAgICAgICAgICAgIHR5cGVyLnNlY2hvKGYiQXBwbHlpbmcgc2NoZW1hOiB7c3FsLm5hbWV9IiwgZmc9dHlwZXIuY29sb3JzLkNZQU4pCiAgICAgICAgICAgIGNvbi5leGVjdXRlc2NyaXB0KHNxbC5yZWFkX3RleHQoZW5jb2Rpbmc9InV0Zi04IikpCgpkZWYgX2luaXRfcmVjb3Jkc19kYihyb290OiBQYXRoKSAtPiBOb25lOgogICAgZGIgPSByZWNvcmRzX3BhdGgocm9vdCkKICAgIGRiLnBhcmVudC5ta2RpcihwYXJlbnRzPVRydWUsIGV4aXN0X29rPVRydWUpCgogICAgaWYgbm90IGRiLmV4aXN0cygpOgogICAgICAgIGRiLnRvdWNoKCkKICAgICAgICB0eXBlci5zZWNobyhmIkNyZWF0ZWQgcmVjb3JkcyBkYXRhYmFzZToge2RifSIsIGZnPXR5cGVyLmNvbG9ycy5HUkVFTikKICAgIGVsc2U6CiAgICAgICAgdHlwZXIuc2VjaG8oZiJSZWNvcmRzIGRhdGFiYXNlIGV4aXN0czoge2RifSIsIGZnPXR5cGVyLmNvbG9ycy5ZRUxMT1cpCgogICAgX2FwcGx5X3JlY19zY2hlbWFzKGRiKQoKZGVmIF9zcGFjeV9tb2RlbF9pbnN0YWxsZWQobW9kZWw6IHN0cikgLT4gYm9vbDoKICAgIHRyeToKICAgICAgICBpbXBvcnQgc3BhY3kKICAgICAgICBzcGFjeS5sb2FkKG1vZGVsKQogICAgICAgIHJldHVybiBUcnVlCiAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgIHJldHVybiBGYWxzZQoKZGVmIF9pbnN0YWxsX3NwYWN5X21vZGVsKG1vZGVsOiBzdHIpIC0+IE5vbmU6CiAgICB0eXBlci5zZWNobyhmIkluc3RhbGxpbmcgc3BhQ3kgbW9kZWw6IHttb2RlbH0iLCBmZz10eXBlci5jb2xvcnMuQ1lBTikKICAgIHN1YnByb2Nlc3MuY2hlY2tfY2FsbChbc3lzLmV4ZWN1dGFibGUsICItbSIsICJzcGFjeSIsICJkb3dubG9hZCIsIG1vZGVsXSkKCmRlZiBfY29yZWZlcmVlX2luc3RhbGxlZCgpIC0+IGJvb2w6CiAgICB0cnk6CiAgICAgICAgaW1wb3J0IHNwYWN5CiAgICAgICAgaW1wb3J0IGNvcmVmZXJlZSAgIyBub3FhCgogICAgICAgIG5scCA9IHNwYWN5LmxvYWQoImVuX2NvcmVfd2ViX2xnIikKICAgICAgICBpZiAiY29yZWZlcmVlIiBub3QgaW4gbmxwLnBpcGVfbmFtZXM6CiAgICAgICAgICAgIG5scC5hZGRfcGlwZSgiY29yZWZlcmVlIikKCiAgICAgICAgZG9jID0gbmxwKCJBbGljZSBzYWlkIHNoZSB3YXMgdGlyZWQuIikKICAgICAgICByZXR1cm4gaGFzYXR0cihkb2MuXywgImNvcmVmX2NoYWlucyIpCiAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgIHJldHVybiBGYWxzZQoKZGVmIF9pbnN0YWxsX2NvcmVmZXJlZSgpIC0+IE5vbmU6CiAgICB0eXBlci5zZWNobygiSW5zdGFsbGluZyBDb3JlZmVyZWUgbGFuZ3VhZ2UgZGF0YSAoZW4pIiwgZmc9dHlwZXIuY29sb3JzLkNZQU4pCiAgICBzdWJwcm9jZXNzLmNoZWNrX2NhbGwoW3N5cy5leGVjdXRhYmxlLCAiLW0iLCAiY29yZWZlcmVlIiwgImluc3RhbGwiLCAiZW4iXSkKCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIGluaXQgY29tbWFuZAojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCkBhcHAuY2FsbGJhY2soKQpkZWYgaW5pdCgKICAgIGN0eDogdHlwZXIuQ29udGV4dCwKICAgIHJlY29uZmlndXJlOiBib29sID0gdHlwZXIuT3B0aW9uKAogICAgICAgIEZhbHNlLAogICAgICAgICItLXJlY29uZmlndXJlIiwKICAgICAgICBoZWxwPSJSZW1vdmUgZXhpc3RpbmcgLnNpdHJlcGMyIHdvcmtzcGFjZSBhbmQgcmVpbml0aWFsaXplLiIsCiAgICApLAopOgogICAgaWYgY3R4Lmludm9rZWRfc3ViY29tbWFuZCBpcyBub3QgTm9uZToKICAgICAgICByZXR1cm4KCiAgICBpbml0X3dvcmtzcGFjZShyZWNvbmZpZ3VyZT1yZWNvbmZpZ3VyZSkKCgpkZWYgaW5pdF93b3Jrc3BhY2UoCiAgICAqLAogICAgcm9vdDogUGF0aCB8IE5vbmUgPSBOb25lLAogICAgcmVjb25maWd1cmU6IGJvb2wgPSBGYWxzZSwKKSAtPiBOb25lOgogICAgIiIiCiAgICBJbml0aWFsaXplIGEgc2l0cmVwYzIgd29ya3NwYWNlLgoKICAgIFNhZmUgdG8gY2FsbCBtdWx0aXBsZSB0aW1lcy4KICAgIFJhaXNlcyBvbiBmYWlsdXJlLgogICAgIiIiCiAgICByb290ID0gcm9vdCBvciBQYXRoLmN3ZCgpCiAgICBkb3QgPSBkb3RfcGF0aChyb290KQoKICAgIGlmIHJlY29uZmlndXJlIGFuZCBkb3QuZXhpc3RzKCk6CiAgICAgICAgdHlwZXIuc2VjaG8oZiJSZW1vdmluZyB3b3Jrc3BhY2U6IHtkb3R9IiwgZmc9dHlwZXIuY29sb3JzLlJFRCwgYm9sZD1UcnVlKQogICAgICAgIHNodXRpbC5ybXRyZWUoZG90KQoKICAgIGRvdC5ta2RpcihwYXJlbnRzPVRydWUsIGV4aXN0X29rPVRydWUpCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyAxLiBHYXpldHRlZXIgREIKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGd6X2RzdCA9IGdhemV0dGVlcl9wYXRoKHJvb3QpCiAgICBpZiBnel9kc3QuZXhpc3RzKCk6CiAgICAgICAgdHlwZXIuc2VjaG8oZiJHYXpldHRlZXIgREIgZXhpc3RzOiB7Z3pfZHN0fSIsIGZnPXR5cGVyLmNvbG9ycy5ZRUxMT1cpCiAgICBlbHNlOgogICAgICAgIHNyYyA9IHNlZWRfZ2F6ZXR0ZWVyX3BhdGgoKQogICAgICAgIGlmIG5vdCBzcmMuZXhpc3RzKCk6CiAgICAgICAgICAgIHJhaXNlIFJ1bnRpbWVFcnJvcihmIk1pc3Npbmcgc2VlZCBEQjoge3NyY30iKQogICAgICAgIHNodXRpbC5jb3B5MihzcmMsIGd6X2RzdCkKICAgICAgICB0eXBlci5zZWNobygiQ29waWVkIGdhemV0dGVlciBEQi4iLCBmZz10eXBlci5jb2xvcnMuR1JFRU4pCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyAyLiBSZWNvcmRzIERCCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBfaW5pdF9yZWNvcmRzX2RiKHJvb3QpCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyAzLiBSZWZlcmVuY2UgZmlsZXMKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGlmIG5vdCBsZXhpY29uX3BhdGgocm9vdCkuZXhpc3RzKCk6CiAgICAgICAgc2h1dGlsLmNvcHkyKHNlZWRfbGV4aWNvbl9wYXRoKCksIGxleGljb25fcGF0aChyb290KSkKICAgICAgICB0eXBlci5zZWNobygiQ29waWVkIHdhcl9sZXhpY29uLmpzb24iLCBmZz10eXBlci5jb2xvcnMuR1JFRU4pCgogICAgaWYgbm90IHNvdXJjZXNfcGF0aChyb290KS5leGlzdHMoKToKICAgICAgICBzaHV0aWwuY29weTIoc2VlZF9zb3VyY2VzX3BhdGgoKSwgc291cmNlc19wYXRoKHJvb3QpKQogICAgICAgIHR5cGVyLnNlY2hvKCJDb3BpZWQgc291cmNlcy5qc29ubCIsIGZnPXR5cGVyLmNvbG9ycy5HUkVFTikKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIDQuIE5MUCBydW50aW1lCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICB0eXBlci5zZWNobygiQ2hlY2tpbmcgTkxQIHJ1bnRpbWXigKYiLCBmZz10eXBlci5jb2xvcnMuQ1lBTikKCiAgICB0cnk6CiAgICAgICAgaW1wb3J0IHNwYWN5ICAjIG5vcWEKICAgICAgICBpbXBvcnQgY29yZWZlcmVlICAjIG5vcWEKICAgIGV4Y2VwdCBJbXBvcnRFcnJvciBhcyBlOgogICAgICAgIHJhaXNlIFJ1bnRpbWVFcnJvcigKICAgICAgICAgICAgInNwYUN5IGFuZCBjb3JlZmVyZWUgbXVzdCBiZSBpbnN0YWxsZWQgZmlyc3QuIgogICAgICAgICkgZnJvbSBlCgogICAgaWYgbm90IF9zcGFjeV9tb2RlbF9pbnN0YWxsZWQoImVuX2NvcmVfd2ViX2xnIik6CiAgICAgICAgX2luc3RhbGxfc3BhY3lfbW9kZWwoImVuX2NvcmVfd2ViX2xnIikKICAgIGVsc2U6CiAgICAgICAgdHlwZXIuc2VjaG8oInNwYUN5IG1vZGVsIGluc3RhbGxlZC4iLCBmZz10eXBlci5jb2xvcnMuR1JFRU4pCgogICAgaWYgbm90IF9jb3JlZmVyZWVfaW5zdGFsbGVkKCk6CiAgICAgICAgX2luc3RhbGxfY29yZWZlcmVlKCkKICAgIGVsc2U6CiAgICAgICAgdHlwZXIuc2VjaG8oIkNvcmVmZXJlZSBmdW5jdGlvbmFsLiIsIGZnPXR5cGVyLmNvbG9ycy5HUkVFTikKCiAgICB0eXBlci5zZWNobygiV29ya3NwYWNlIGluaXRpYWxpemVkLiIsIGZnPXR5cGVyLmNvbG9ycy5DWUFOKQAAAAAAAAAAIBUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAVQEAAAAAAABVAQAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "pyproject.toml",
			"settings":
			{
				"buffer_size": 1840,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					11,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AQAAAGMEAAAAAAAAaAQAAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAYwQAAAAAAABjBAAAAAAAAAAAAAAAAPC/"
				],
				[
					12,
					1,
					"paste",
					null,
					"AQAAAGgEAAAAAAAAeAQAAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAaAQAAAAAAABoBAAAAAAAAAAAAAAAAPC/"
				],
				[
					13,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAADoBgAAW2J1aWxkLXN5c3RlbV0KcmVxdWlyZXMgPSBbImhhdGNobGluZz49MS45Il0KYnVpbGQtYmFja2VuZCA9ICJoYXRjaGxpbmcuYnVpbGQiCgpbcHJvamVjdF0KbmFtZSA9ICJzaXRyZXBjMiIKdmVyc2lvbiA9ICIwLjIuMCIKZGVzY3JpcHRpb24gPSAiQXV0b21hdGVkIGV2ZW50IGFuZCBsb2NhdGlvbiBleHRyYWN0aW9uIHBpcGVsaW5lIGZvciB3YXIgcmVwb3J0aW5nLiIKcmVxdWlyZXMtcHl0aG9uID0gIj49My4xMCw8My4xMiIKCmRlcGVuZGVuY2llcyA9IFsKICAgICMgLS0tIENvcmUgc2NpZW50aWZpYyAvIE5MUCBzdGFjayAtLS0KICAgICJudW1weT49MS4yMSw8MS4yNSIsCiAgICAic3BhY3k+PTMuNS4wLDwzLjYiLAogICAgImhvbG1lcy1leHRyYWN0b3IiLAogICAgImNvcmVmZXJlZSIsCiAgICAicHl0aG9uLWRvdGVudiIsCgogICAgIyAtLS0gQ0xJIC8gVVggLS0tCiAgICAidHlwZXI+PTAuNyw8MC44LjAiLCAgICAgICMgc3BhQ3kgY29tcGF0aWJsZQogICAgImNsaWNrPj04LjAsPDguMiIsCiAgICAicmljaCIsCgogICAgIyAtLS0gR2VvIC8gc3BhdGlhbCAtLS0KICAgICJzaGFwZWx5IiwKICAgICJweXByb2oiLAogICAgInBhbmRhcz49Mi4xLDwyLjIiLAogICAgImdlb3BhbmRhcz49MS4xLjAsPDEuMi4wIiwKICAgICJvdmVycHk+PTAuNiIsCgogICAgIyAtLS0gVGVsZWdyYW0gaW5nZXN0aW9uIC0tLQogICAgInRlbGV0aG9uIiwKCiAgICAjIC0tLSBIVFRQIHNjcmFwaW5nIC0tLQogICAgInJlcXVlc3RzPj0yLjI4IiwKICAgICJiZWF1dGlmdWxzb3VwND49NC4xMiIsCiAgICAibHhtbD49NC45IiwKICAgICJyZWFkYWJpbGl0eS1seG1sPj0wLjguMSIsCgogICAgIyAtLS0gRmFjZWJvb2sgc2NyYXBpbmcgLS0tCiAgICAiZmFjZWJvb2stc2NyYXBlcj49MC4yLjU5IiwKCiAgICAjIC0tLSBUd2l0dGVyL1ggc2NyYXBpbmcKICAgICJ0d2ludCBAIGdpdCtodHRwczovL2dpdGh1Yi5jb20vdHdpbnRwcm9qZWN0L3R3aW50LmdpdCIsCgogICAgIyAtLS0gVHJhbnNsYXRpb24gKE1hcmlhbk1UKSAtLS0KICAgICJ0cmFuc2Zvcm1lcnM+PTQuMzYsPDQuNDAiLAogICAgInRvcmNoPj0yLjAsPDIuMyIsCgogICAgIyAtLS0gR1VJIChQeVNpZGU2KSAtLS0KICAgICJweXNpZGU2IgogICAgInB5b3NtaXVtPj0zLjYiCgoKXQoKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgQ0xJIGVudHJ5IHBvaW50CiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKW3Byb2plY3Quc2NyaXB0c10Kc2l0cmVwYzItY2xpID0gInNpdHJlcGMyLmNsaS5hcHA6YXBwIgpzaXRyZXBjMi1ndWkgPSAic2l0cmVwYzIuZ3VpLm1haW46bWFpbiIKCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIEhhdGNoIGJ1aWxkIGNvbmZpZ3VyYXRpb24KIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgpbdG9vbC5oYXRjaC5idWlsZC50YXJnZXRzLndoZWVsXQpwYWNrYWdlcyA9IFsic3JjL3NpdHJlcGMyIl0KClt0b29sLmhhdGNoLmJ1aWxkLnRhcmdldHMuc2Rpc3RdCmluY2x1ZGUgPSBbInNyYyJdCgpbdG9vbC5oYXRjaC5idWlsZF0KaW5jbHVkZSA9IFsKICAgICJzcmMvc2l0cmVwYzIvcmVmZXJlbmNlLyoqLyoiLApdCgAAAAAAAAAA6AYAAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAeAQAAAAAAAB4BAAAAAAAAAAAAAAAAPC/"
				],
				[
					18,
					1,
					"paste",
					null,
					"AQAAACgCAAAAAAAANwIAAAAAAAAOAAAAICAgICJzaGFwZWx5Iiw",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAANgIAAAAAAAAoAgAAAAAAAAAAAAAAAPC/"
				],
				[
					26,
					1,
					"insert",
					{
						"characters": "\t"
					},
					"AQAAACgCAAAAAAAALAIAAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAKAIAAAAAAAAoAgAAAAAAAAAAAAAAAAAA"
				],
				[
					28,
					1,
					"left_delete",
					null,
					"AQAAADoCAAAAAAAAOgIAAAAAAAABAAAACg",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAOwIAAAAAAAA7AgAAAAAAAAAAAAAAADRA"
				],
				[
					29,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAADsBgAAW2J1aWxkLXN5c3RlbV0KcmVxdWlyZXMgPSBbImhhdGNobGluZz49MS45Il0KYnVpbGQtYmFja2VuZCA9ICJoYXRjaGxpbmcuYnVpbGQiCgpbcHJvamVjdF0KbmFtZSA9ICJzaXRyZXBjMiIKdmVyc2lvbiA9ICIwLjIuMCIKZGVzY3JpcHRpb24gPSAiQXV0b21hdGVkIGV2ZW50IGFuZCBsb2NhdGlvbiBleHRyYWN0aW9uIHBpcGVsaW5lIGZvciB3YXIgcmVwb3J0aW5nLiIKcmVxdWlyZXMtcHl0aG9uID0gIj49My4xMCw8My4xMiIKCmRlcGVuZGVuY2llcyA9IFsKICAgICMgLS0tIENvcmUgc2NpZW50aWZpYyAvIE5MUCBzdGFjayAtLS0KICAgICJudW1weT49MS4yMSw8MS4yNSIsCiAgICAic3BhY3k+PTMuNS4wLDwzLjYiLAogICAgImhvbG1lcy1leHRyYWN0b3IiLAogICAgImNvcmVmZXJlZSIsCiAgICAicHl0aG9uLWRvdGVudiIsCgogICAgIyAtLS0gQ0xJIC8gVVggLS0tCiAgICAidHlwZXI+PTAuNyw8MC44LjAiLCAgICAgICMgc3BhQ3kgY29tcGF0aWJsZQogICAgImNsaWNrPj04LjAsPDguMiIsCiAgICAicmljaCIsCgogICAgIyAtLS0gR2VvIC8gc3BhdGlhbCAtLS0KICAgICJzaGFwZWx5Pj0yLjAiCiAgICAicHlwcm9qIiwKICAgICJwYW5kYXM+PTIuMSw8Mi4yIiwKICAgICJnZW9wYW5kYXM+PTEuMS4wLDwxLjIuMCIsCiAgICAib3ZlcnB5Pj0wLjYiLAoKICAgICMgLS0tIFRlbGVncmFtIGluZ2VzdGlvbiAtLS0KICAgICJ0ZWxldGhvbiIsCgogICAgIyAtLS0gSFRUUCBzY3JhcGluZyAtLS0KICAgICJyZXF1ZXN0cz49Mi4yOCIsCiAgICAiYmVhdXRpZnVsc291cDQ+PTQuMTIiLAogICAgImx4bWw+PTQuOSIsCiAgICAicmVhZGFiaWxpdHktbHhtbD49MC44LjEiLAoKICAgICMgLS0tIEZhY2Vib29rIHNjcmFwaW5nIC0tLQogICAgImZhY2Vib29rLXNjcmFwZXI+PTAuMi41OSIsCgogICAgIyAtLS0gVHdpdHRlci9YIHNjcmFwaW5nCiAgICAidHdpbnQgQCBnaXQraHR0cHM6Ly9naXRodWIuY29tL3R3aW50cHJvamVjdC90d2ludC5naXQiLAoKICAgICMgLS0tIFRyYW5zbGF0aW9uIChNYXJpYW5NVCkgLS0tCiAgICAidHJhbnNmb3JtZXJzPj00LjM2LDw0LjQwIiwKICAgICJ0b3JjaD49Mi4wLDwyLjMiLAoKICAgICMgLS0tIEdVSSAoUHlTaWRlNikgLS0tCiAgICAicHlzaWRlNiIKICAgICJweW9zbWl1bT49My42IgoKCl0KCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIENMSSBlbnRyeSBwb2ludAojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCltwcm9qZWN0LnNjcmlwdHNdCnNpdHJlcGMyLWNsaSA9ICJzaXRyZXBjMi5jbGkuYXBwOmFwcCIKc2l0cmVwYzItZ3VpID0gInNpdHJlcGMyLmd1aS5tYWluOm1haW4iCgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyBIYXRjaCBidWlsZCBjb25maWd1cmF0aW9uCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKW3Rvb2wuaGF0Y2guYnVpbGQudGFyZ2V0cy53aGVlbF0KcGFja2FnZXMgPSBbInNyYy9zaXRyZXBjMiJdCgpbdG9vbC5oYXRjaC5idWlsZC50YXJnZXRzLnNkaXN0XQppbmNsdWRlID0gWyJzcmMiXQoKW3Rvb2wuaGF0Y2guYnVpbGRdCmluY2x1ZGUgPSBbCiAgICAic3JjL3NpdHJlcGMyL3JlZmVyZW5jZS8qKi8qIiwKXQoAAAAAAAAAAOwGAAAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAOgIAAAAAAAA6AgAAAAAAAAAAAAAAAPC/"
				],
				[
					36,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAADoCAAAAAAAAOwIAAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAOgIAAAAAAAA6AgAAAAAAAAAAAAAAAPC/"
				],
				[
					39,
					1,
					"paste",
					null,
					"AQAAAJQCAAAAAAAAoQIAAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAlAIAAAAAAACUAgAAAAAAAAAAAAAAAPC/"
				],
				[
					43,
					1,
					"insert",
					{
						"characters": "\t"
					},
					"AQAAAJQCAAAAAAAAmAIAAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAlAIAAAAAAACUAgAAAAAAAAAAAAAAAPC/"
				],
				[
					46,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAAKQCAAAAAAAApQIAAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAApAIAAAAAAACkAgAAAAAAAAAAAAAAAPC/"
				],
				[
					47,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAD/BgAAW2J1aWxkLXN5c3RlbV0KcmVxdWlyZXMgPSBbImhhdGNobGluZz49MS45Il0KYnVpbGQtYmFja2VuZCA9ICJoYXRjaGxpbmcuYnVpbGQiCgpbcHJvamVjdF0KbmFtZSA9ICJzaXRyZXBjMiIKdmVyc2lvbiA9ICIwLjIuMCIKZGVzY3JpcHRpb24gPSAiQXV0b21hdGVkIGV2ZW50IGFuZCBsb2NhdGlvbiBleHRyYWN0aW9uIHBpcGVsaW5lIGZvciB3YXIgcmVwb3J0aW5nLiIKcmVxdWlyZXMtcHl0aG9uID0gIj49My4xMCw8My4xMiIKCmRlcGVuZGVuY2llcyA9IFsKICAgICMgLS0tIENvcmUgc2NpZW50aWZpYyAvIE5MUCBzdGFjayAtLS0KICAgICJudW1weT49MS4yMSw8MS4yNSIsCiAgICAic3BhY3k+PTMuNS4wLDwzLjYiLAogICAgImhvbG1lcy1leHRyYWN0b3IiLAogICAgImNvcmVmZXJlZSIsCiAgICAicHl0aG9uLWRvdGVudiIsCgogICAgIyAtLS0gQ0xJIC8gVVggLS0tCiAgICAidHlwZXI+PTAuNyw8MC44LjAiLCAgICAgICMgc3BhQ3kgY29tcGF0aWJsZQogICAgImNsaWNrPj04LjAsPDguMiIsCiAgICAicmljaCIsCgogICAgIyAtLS0gR2VvIC8gc3BhdGlhbCAtLS0KICAgICJzaGFwZWx5Pj0yLjAiLAogICAgInB5cHJvaiIsCiAgICAicGFuZGFzPj0yLjEsPDIuMiIsCiAgICAiZ2VvcGFuZGFzPj0xLjEuMCw8MS4yLjAiLAogICAgIm92ZXJweT49MC42IiwKICAgICJydHJlZT49MS4xIiwKCiAgICAjIC0tLSBUZWxlZ3JhbSBpbmdlc3Rpb24gLS0tCiAgICAidGVsZXRob24iLAoKICAgICMgLS0tIEhUVFAgc2NyYXBpbmcgLS0tCiAgICAicmVxdWVzdHM+PTIuMjgiLAogICAgImJlYXV0aWZ1bHNvdXA0Pj00LjEyIiwKICAgICJseG1sPj00LjkiLAogICAgInJlYWRhYmlsaXR5LWx4bWw+PTAuOC4xIiwKCiAgICAjIC0tLSBGYWNlYm9vayBzY3JhcGluZyAtLS0KICAgICJmYWNlYm9vay1zY3JhcGVyPj0wLjIuNTkiLAoKICAgICMgLS0tIFR3aXR0ZXIvWCBzY3JhcGluZwogICAgInR3aW50IEAgZ2l0K2h0dHBzOi8vZ2l0aHViLmNvbS90d2ludHByb2plY3QvdHdpbnQuZ2l0IiwKCiAgICAjIC0tLSBUcmFuc2xhdGlvbiAoTWFyaWFuTVQpIC0tLQogICAgInRyYW5zZm9ybWVycz49NC4zNiw8NC40MCIsCiAgICAidG9yY2g+PTIuMCw8Mi4zIiwKCiAgICAjIC0tLSBHVUkgKFB5U2lkZTYpIC0tLQogICAgInB5c2lkZTYiCiAgICAicHlvc21pdW0+PTMuNiIKCgpdCgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyBDTEkgZW50cnkgcG9pbnQKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgpbcHJvamVjdC5zY3JpcHRzXQpzaXRyZXBjMi1jbGkgPSAic2l0cmVwYzIuY2xpLmFwcDphcHAiCnNpdHJlcGMyLWd1aSA9ICJzaXRyZXBjMi5ndWkubWFpbjptYWluIgoKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgSGF0Y2ggYnVpbGQgY29uZmlndXJhdGlvbgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KClt0b29sLmhhdGNoLmJ1aWxkLnRhcmdldHMud2hlZWxdCnBhY2thZ2VzID0gWyJzcmMvc2l0cmVwYzIiXQoKW3Rvb2wuaGF0Y2guYnVpbGQudGFyZ2V0cy5zZGlzdF0KaW5jbHVkZSA9IFsic3JjIl0KClt0b29sLmhhdGNoLmJ1aWxkXQppbmNsdWRlID0gWwogICAgInNyYy9zaXRyZXBjMi9yZWZlcmVuY2UvKiovKiIsCl0KAAAAAAAAAAD/BgAAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAApQIAAAAAAAClAgAAAAAAAAAAAAAAAPC/"
				],
				[
					50,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAAHoEAAAAAAAAewQAAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAegQAAAAAAAB6BAAAAAAAAAAAAAAAAPC/"
				],
				[
					51,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAABwAAW2J1aWxkLXN5c3RlbV0KcmVxdWlyZXMgPSBbImhhdGNobGluZz49MS45Il0KYnVpbGQtYmFja2VuZCA9ICJoYXRjaGxpbmcuYnVpbGQiCgpbcHJvamVjdF0KbmFtZSA9ICJzaXRyZXBjMiIKdmVyc2lvbiA9ICIwLjIuMCIKZGVzY3JpcHRpb24gPSAiQXV0b21hdGVkIGV2ZW50IGFuZCBsb2NhdGlvbiBleHRyYWN0aW9uIHBpcGVsaW5lIGZvciB3YXIgcmVwb3J0aW5nLiIKcmVxdWlyZXMtcHl0aG9uID0gIj49My4xMCw8My4xMiIKCmRlcGVuZGVuY2llcyA9IFsKICAgICMgLS0tIENvcmUgc2NpZW50aWZpYyAvIE5MUCBzdGFjayAtLS0KICAgICJudW1weT49MS4yMSw8MS4yNSIsCiAgICAic3BhY3k+PTMuNS4wLDwzLjYiLAogICAgImhvbG1lcy1leHRyYWN0b3IiLAogICAgImNvcmVmZXJlZSIsCiAgICAicHl0aG9uLWRvdGVudiIsCgogICAgIyAtLS0gQ0xJIC8gVVggLS0tCiAgICAidHlwZXI+PTAuNyw8MC44LjAiLCAgICAgICMgc3BhQ3kgY29tcGF0aWJsZQogICAgImNsaWNrPj04LjAsPDguMiIsCiAgICAicmljaCIsCgogICAgIyAtLS0gR2VvIC8gc3BhdGlhbCAtLS0KICAgICJzaGFwZWx5Pj0yLjAiLAogICAgInB5cHJvaiIsCiAgICAicGFuZGFzPj0yLjEsPDIuMiIsCiAgICAiZ2VvcGFuZGFzPj0xLjEuMCw8MS4yLjAiLAogICAgIm92ZXJweT49MC42IiwKICAgICJydHJlZT49MS4xIiwKCiAgICAjIC0tLSBUZWxlZ3JhbSBpbmdlc3Rpb24gLS0tCiAgICAidGVsZXRob24iLAoKICAgICMgLS0tIEhUVFAgc2NyYXBpbmcgLS0tCiAgICAicmVxdWVzdHM+PTIuMjgiLAogICAgImJlYXV0aWZ1bHNvdXA0Pj00LjEyIiwKICAgICJseG1sPj00LjkiLAogICAgInJlYWRhYmlsaXR5LWx4bWw+PTAuOC4xIiwKCiAgICAjIC0tLSBGYWNlYm9vayBzY3JhcGluZyAtLS0KICAgICJmYWNlYm9vay1zY3JhcGVyPj0wLjIuNTkiLAoKICAgICMgLS0tIFR3aXR0ZXIvWCBzY3JhcGluZwogICAgInR3aW50IEAgZ2l0K2h0dHBzOi8vZ2l0aHViLmNvbS90d2ludHByb2plY3QvdHdpbnQuZ2l0IiwKCiAgICAjIC0tLSBUcmFuc2xhdGlvbiAoTWFyaWFuTVQpIC0tLQogICAgInRyYW5zZm9ybWVycz49NC4zNiw8NC40MCIsCiAgICAidG9yY2g+PTIuMCw8Mi4zIiwKCiAgICAjIC0tLSBHVUkgKFB5U2lkZTYpIC0tLQogICAgInB5c2lkZTYiLAogICAgInB5b3NtaXVtPj0zLjYiCgoKXQoKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgQ0xJIGVudHJ5IHBvaW50CiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKW3Byb2plY3Quc2NyaXB0c10Kc2l0cmVwYzItY2xpID0gInNpdHJlcGMyLmNsaS5hcHA6YXBwIgpzaXRyZXBjMi1ndWkgPSAic2l0cmVwYzIuZ3VpLm1haW46bWFpbiIKCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIEhhdGNoIGJ1aWxkIGNvbmZpZ3VyYXRpb24KIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgpbdG9vbC5oYXRjaC5idWlsZC50YXJnZXRzLndoZWVsXQpwYWNrYWdlcyA9IFsic3JjL3NpdHJlcGMyIl0KClt0b29sLmhhdGNoLmJ1aWxkLnRhcmdldHMuc2Rpc3RdCmluY2x1ZGUgPSBbInNyYyJdCgpbdG9vbC5oYXRjaC5idWlsZF0KaW5jbHVkZSA9IFsKICAgICJzcmMvc2l0cmVwYzIvcmVmZXJlbmNlLyoqLyoiLApdCgAAAAAAAAAAAAcAAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAewQAAAAAAAB7BAAAAAAAAAAAAAAAAPC/"
				],
				[
					59,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AQAAAEkGAAAAAAAASgYAAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAASQYAAAAAAABJBgAAAAAAAAAAAAAAAPC/"
				],
				[
					60,
					1,
					"paste",
					null,
					"AQAAAEoGAAAAAAAAfwYAAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAASgYAAAAAAABKBgAAAAAAAAAAAAAAAPC/"
				],
				[
					61,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAA2BwAAW2J1aWxkLXN5c3RlbV0KcmVxdWlyZXMgPSBbImhhdGNobGluZz49MS45Il0KYnVpbGQtYmFja2VuZCA9ICJoYXRjaGxpbmcuYnVpbGQiCgpbcHJvamVjdF0KbmFtZSA9ICJzaXRyZXBjMiIKdmVyc2lvbiA9ICIwLjIuMCIKZGVzY3JpcHRpb24gPSAiQXV0b21hdGVkIGV2ZW50IGFuZCBsb2NhdGlvbiBleHRyYWN0aW9uIHBpcGVsaW5lIGZvciB3YXIgcmVwb3J0aW5nLiIKcmVxdWlyZXMtcHl0aG9uID0gIj49My4xMCw8My4xMiIKCmRlcGVuZGVuY2llcyA9IFsKICAgICMgLS0tIENvcmUgc2NpZW50aWZpYyAvIE5MUCBzdGFjayAtLS0KICAgICJudW1weT49MS4yMSw8MS4yNSIsCiAgICAic3BhY3k+PTMuNS4wLDwzLjYiLAogICAgImhvbG1lcy1leHRyYWN0b3IiLAogICAgImNvcmVmZXJlZSIsCiAgICAicHl0aG9uLWRvdGVudiIsCgogICAgIyAtLS0gQ0xJIC8gVVggLS0tCiAgICAidHlwZXI+PTAuNyw8MC44LjAiLCAgICAgICMgc3BhQ3kgY29tcGF0aWJsZQogICAgImNsaWNrPj04LjAsPDguMiIsCiAgICAicmljaCIsCgogICAgIyAtLS0gR2VvIC8gc3BhdGlhbCAtLS0KICAgICJzaGFwZWx5Pj0yLjAiLAogICAgInB5cHJvaiIsCiAgICAicGFuZGFzPj0yLjEsPDIuMiIsCiAgICAiZ2VvcGFuZGFzPj0xLjEuMCw8MS4yLjAiLAogICAgIm92ZXJweT49MC42IiwKICAgICJydHJlZT49MS4xIiwKCiAgICAjIC0tLSBUZWxlZ3JhbSBpbmdlc3Rpb24gLS0tCiAgICAidGVsZXRob24iLAoKICAgICMgLS0tIEhUVFAgc2NyYXBpbmcgLS0tCiAgICAicmVxdWVzdHM+PTIuMjgiLAogICAgImJlYXV0aWZ1bHNvdXA0Pj00LjEyIiwKICAgICJseG1sPj00LjkiLAogICAgInJlYWRhYmlsaXR5LWx4bWw+PTAuOC4xIiwKCiAgICAjIC0tLSBGYWNlYm9vayBzY3JhcGluZyAtLS0KICAgICJmYWNlYm9vay1zY3JhcGVyPj0wLjIuNTkiLAoKICAgICMgLS0tIFR3aXR0ZXIvWCBzY3JhcGluZwogICAgInR3aW50IEAgZ2l0K2h0dHBzOi8vZ2l0aHViLmNvbS90d2ludHByb2plY3QvdHdpbnQuZ2l0IiwKCiAgICAjIC0tLSBUcmFuc2xhdGlvbiAoTWFyaWFuTVQpIC0tLQogICAgInRyYW5zZm9ybWVycz49NC4zNiw8NC40MCIsCiAgICAidG9yY2g+PTIuMCw8Mi4zIiwKCiAgICAjIC0tLSBHVUkgKFB5U2lkZTYpIC0tLQogICAgInB5c2lkZTYiLAogICAgInB5b3NtaXVtPj0zLjYiCgoKXQoKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgQ0xJIGVudHJ5IHBvaW50CiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKW3Byb2plY3Quc2NyaXB0c10Kc2l0cmVwYzItY2xpID0gInNpdHJlcGMyLmNsaS5hcHA6YXBwIgpzaXRyZXBjMi1ndWkgPSAic2l0cmVwYzIuZ3VpLm1haW46bWFpbiIKCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIEhhdGNoIGJ1aWxkIGNvbmZpZ3VyYXRpb24KIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgpbdG9vbC5oYXRjaC5tZXRhZGF0YV0KYWxsb3ctZGlyZWN0LXJlZmVyZW5jZXMgPSB0cnVlCgpbdG9vbC5oYXRjaC5idWlsZC50YXJnZXRzLndoZWVsXQpwYWNrYWdlcyA9IFsic3JjL3NpdHJlcGMyIl0KClt0b29sLmhhdGNoLmJ1aWxkLnRhcmdldHMuc2Rpc3RdCmluY2x1ZGUgPSBbInNyYyJdCgpbdG9vbC5oYXRjaC5idWlsZF0KaW5jbHVkZSA9IFsKICAgICJzcmMvc2l0cmVwYzIvcmVmZXJlbmNlLyoqLyoiLApdCgAAAAAAAAAANgcAAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAfwYAAAAAAAB/BgAAAAAAAAAAAAAAAPC/"
				],
				[
					64,
					2,
					"left_delete",
					null,
					"AgAAAIIEAAAAAAAAggQAAAAAAAABAAAAeYEEAAAAAAAAgQQAAAAAAAABAAAAcA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAgwQAAAAAAACDBAAAAAAAAAAAAAAAAPC/"
				],
				[
					65,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAA0BwAAW2J1aWxkLXN5c3RlbV0KcmVxdWlyZXMgPSBbImhhdGNobGluZz49MS45Il0KYnVpbGQtYmFja2VuZCA9ICJoYXRjaGxpbmcuYnVpbGQiCgpbcHJvamVjdF0KbmFtZSA9ICJzaXRyZXBjMiIKdmVyc2lvbiA9ICIwLjIuMCIKZGVzY3JpcHRpb24gPSAiQXV0b21hdGVkIGV2ZW50IGFuZCBsb2NhdGlvbiBleHRyYWN0aW9uIHBpcGVsaW5lIGZvciB3YXIgcmVwb3J0aW5nLiIKcmVxdWlyZXMtcHl0aG9uID0gIj49My4xMCw8My4xMiIKCmRlcGVuZGVuY2llcyA9IFsKICAgICMgLS0tIENvcmUgc2NpZW50aWZpYyAvIE5MUCBzdGFjayAtLS0KICAgICJudW1weT49MS4yMSw8MS4yNSIsCiAgICAic3BhY3k+PTMuNS4wLDwzLjYiLAogICAgImhvbG1lcy1leHRyYWN0b3IiLAogICAgImNvcmVmZXJlZSIsCiAgICAicHl0aG9uLWRvdGVudiIsCgogICAgIyAtLS0gQ0xJIC8gVVggLS0tCiAgICAidHlwZXI+PTAuNyw8MC44LjAiLCAgICAgICMgc3BhQ3kgY29tcGF0aWJsZQogICAgImNsaWNrPj04LjAsPDguMiIsCiAgICAicmljaCIsCgogICAgIyAtLS0gR2VvIC8gc3BhdGlhbCAtLS0KICAgICJzaGFwZWx5Pj0yLjAiLAogICAgInB5cHJvaiIsCiAgICAicGFuZGFzPj0yLjEsPDIuMiIsCiAgICAiZ2VvcGFuZGFzPj0xLjEuMCw8MS4yLjAiLAogICAgIm92ZXJweT49MC42IiwKICAgICJydHJlZT49MS4xIiwKCiAgICAjIC0tLSBUZWxlZ3JhbSBpbmdlc3Rpb24gLS0tCiAgICAidGVsZXRob24iLAoKICAgICMgLS0tIEhUVFAgc2NyYXBpbmcgLS0tCiAgICAicmVxdWVzdHM+PTIuMjgiLAogICAgImJlYXV0aWZ1bHNvdXA0Pj00LjEyIiwKICAgICJseG1sPj00LjkiLAogICAgInJlYWRhYmlsaXR5LWx4bWw+PTAuOC4xIiwKCiAgICAjIC0tLSBGYWNlYm9vayBzY3JhcGluZyAtLS0KICAgICJmYWNlYm9vay1zY3JhcGVyPj0wLjIuNTkiLAoKICAgICMgLS0tIFR3aXR0ZXIvWCBzY3JhcGluZwogICAgInR3aW50IEAgZ2l0K2h0dHBzOi8vZ2l0aHViLmNvbS90d2ludHByb2plY3QvdHdpbnQuZ2l0IiwKCiAgICAjIC0tLSBUcmFuc2xhdGlvbiAoTWFyaWFuTVQpIC0tLQogICAgInRyYW5zZm9ybWVycz49NC4zNiw8NC40MCIsCiAgICAidG9yY2g+PTIuMCw8Mi4zIiwKCiAgICAjIC0tLSBHVUkgKFB5U2lkZTYpIC0tLQogICAgInB5c2lkZTYiLAogICAgIm9zbWl1bT49My42IgoKCl0KCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIENMSSBlbnRyeSBwb2ludAojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCltwcm9qZWN0LnNjcmlwdHNdCnNpdHJlcGMyLWNsaSA9ICJzaXRyZXBjMi5jbGkuYXBwOmFwcCIKc2l0cmVwYzItZ3VpID0gInNpdHJlcGMyLmd1aS5tYWluOm1haW4iCgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyBIYXRjaCBidWlsZCBjb25maWd1cmF0aW9uCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKW3Rvb2wuaGF0Y2gubWV0YWRhdGFdCmFsbG93LWRpcmVjdC1yZWZlcmVuY2VzID0gdHJ1ZQoKW3Rvb2wuaGF0Y2guYnVpbGQudGFyZ2V0cy53aGVlbF0KcGFja2FnZXMgPSBbInNyYy9zaXRyZXBjMiJdCgpbdG9vbC5oYXRjaC5idWlsZC50YXJnZXRzLnNkaXN0XQppbmNsdWRlID0gWyJzcmMiXQoKW3Rvb2wuaGF0Y2guYnVpbGRdCmluY2x1ZGUgPSBbCiAgICAic3JjL3NpdHJlcGMyL3JlZmVyZW5jZS8qKi8qIiwKXQoAAAAAAAAAADQHAAAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAgQQAAAAAAACBBAAAAAAAAAAAAAAAAPC/"
				],
				[
					68,
					1,
					"left_delete",
					null,
					"AQAAAIsEAAAAAAAAiwQAAAAAAAABAAAANg",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAjAQAAAAAAACMBAAAAAAAAAAAAAAAAPC/"
				],
				[
					69,
					1,
					"insert",
					{
						"characters": "4"
					},
					"AQAAAIsEAAAAAAAAjAQAAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAiwQAAAAAAACLBAAAAAAAAAAAAAAAAPC/"
				],
				[
					70,
					1,
					"left_delete",
					null,
					"AQAAAIsEAAAAAAAAiwQAAAAAAAABAAAANA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAjAQAAAAAAACMBAAAAAAAAAAAAAAAAPC/"
				],
				[
					71,
					1,
					"insert",
					{
						"characters": "5"
					},
					"AQAAAIsEAAAAAAAAjAQAAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAiwQAAAAAAACLBAAAAAAAAAAAAAAAAPC/"
				],
				[
					72,
					1,
					"revert",
					null,
					"BQAAAAAAAAAAAAAAAAAAAAAAAAA0BwAAW2J1aWxkLXN5c3RlbV0KcmVxdWlyZXMgPSBbImhhdGNobGluZz49MS45Il0KYnVpbGQtYmFja2VuZCA9ICJoYXRjaGxpbmcuYnVpbGQiCgpbcHJvamVjdF0KbmFtZSA9ICJzaXRyZXBjMiIKdmVyc2lvbiA9ICIwLjIuMCIKZGVzY3JpcHRpb24gPSAiQXV0b21hdGVkIGV2ZW50IGFuZCBsb2NhdGlvbiBleHRyYWN0aW9uIHBpcGVsaW5lIGZvciB3YXIgcmVwb3J0aW5nLiIKcmVxdWlyZXMtcHl0aG9uID0gIj49My4xMCw8My4xMiIKCmRlcGVuZGVuY2llcyA9IFsKICAgICMgLS0tIENvcmUgc2NpZW50aWZpYyAvIE5MUCBzdGFjayAtLS0KICAgICJudW1weT49MS4yMSw8MS4yNSIsCiAgICAic3BhY3k+PTMuNS4wLDwzLjYiLAogICAgImhvbG1lcy1leHRyYWN0b3IiLAogICAgImNvcmVmZXJlZSIsCiAgICAicHl0aG9uLWRvdGVudiIsCgogICAgIyAtLS0gQ0xJIC8gVVggLS0tCiAgICAidHlwZXI+PTAuNyw8MC44LjAiLCAgICAgICMgc3BhQ3kgY29tcGF0aWJsZQogICAgImNsaWNrPj04LjAsPDguMiIsCiAgICAicmljaCIsCgogICAgIyAtLS0gR2VvIC8gc3BhdGlhbCAtLS0KICAgICJzaGFwZWx5Pj0yLjAiLAogICAgInB5cHJvaiIsCiAgICAicGFuZGFzPj0yLjEsPDIuMiIsCiAgICAiZ2VvcGFuZGFzPj0xLjEuMCw8MS4yLjAiLAogICAgIm92ZXJweT49MC42IiwKICAgICJydHJlZT49MS4xIiwKCiAgICAjIC0tLSBUZWxlZ3JhbSBpbmdlc3Rpb24gLS0tCiAgICAidGVsZXRob24iLAoKICAgICMgLS0tIEhUVFAgc2NyYXBpbmcgLS0tCiAgICAicmVxdWVzdHM+PTIuMjgiLAogICAgImJlYXV0aWZ1bHNvdXA0Pj00LjEyIiwKICAgICJseG1sPj00LjkiLAogICAgInJlYWRhYmlsaXR5LWx4bWw+PTAuOC4xIiwKCiAgICAjIC0tLSBGYWNlYm9vayBzY3JhcGluZyAtLS0KICAgICJmYWNlYm9vay1zY3JhcGVyPj0wLjIuNTkiLAoKICAgICMgLS0tIFR3aXR0ZXIvWCBzY3JhcGluZwogICAgInR3aW50IEAgZ2l0K2h0dHBzOi8vZ2l0aHViLmNvbS90d2ludHByb2plY3QvdHdpbnQuZ2l0IiwKCiAgICAjIC0tLSBUcmFuc2xhdGlvbiAoTWFyaWFuTVQpIC0tLQogICAgInRyYW5zZm9ybWVycz49NC4zNiw8NC40MCIsCiAgICAidG9yY2g+PTIuMCw8Mi4zIiwKCiAgICAjIC0tLSBHVUkgKFB5U2lkZTYpIC0tLQogICAgInB5c2lkZTYiLAogICAgIm9zbWl1bT49My41IgoKCl0KCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIENMSSBlbnRyeSBwb2ludAojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCltwcm9qZWN0LnNjcmlwdHNdCnNpdHJlcGMyLWNsaSA9ICJzaXRyZXBjMi5jbGkuYXBwOmFwcCIKc2l0cmVwYzItZ3VpID0gInNpdHJlcGMyLmd1aS5tYWluOm1haW4iCgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyBIYXRjaCBidWlsZCBjb25maWd1cmF0aW9uCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKW3Rvb2wuaGF0Y2gubWV0YWRhdGFdCmFsbG93LWRpcmVjdC1yZWZlcmVuY2VzID0gdHJ1ZQoKW3Rvb2wuaGF0Y2guYnVpbGQudGFyZ2V0cy53aGVlbF0KcGFja2FnZXMgPSBbInNyYy9zaXRyZXBjMiJdCgpbdG9vbC5oYXRjaC5idWlsZC50YXJnZXRzLnNkaXN0XQppbmNsdWRlID0gWyJzcmMiXQoKW3Rvb2wuaGF0Y2guYnVpbGRdCmluY2x1ZGUgPSBbCiAgICAic3JjL3NpdHJlcGMyL3JlZmVyZW5jZS8qKi8qIiwKXQoAAAAAAAAAADQHAAAAAAAAAAAAAAAAAAAAAAAANAcAAAAAAAAAAAAAAAAAAAAAAAA0BwAAAAAAAAAAAAAAAAAAAAAAADAHAAAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAjAQAAAAAAACMBAAAAAAAAAAAAAAAAPC/"
				]
			]
		}
	],
	"build_system": "",
	"build_system_choices":
	[
	],
	"build_varint": "",
	"command_palette":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
		],
		"width": 0.0
	},
	"console":
	{
		"height": 0.0,
		"history":
		[
		]
	},
	"distraction_free":
	{
		"menu_visible": true,
		"show_minimap": false,
		"show_open_files": false,
		"show_tabs": false,
		"side_bar_visible": false,
		"status_bar_visible": false
	},
	"expanded_folders":
	[
		"/Volumes/bladerunner/Projects/sitrepc2",
		"/Volumes/bladerunner/Projects/sitrepc2/.sitrepc2",
		"/Volumes/bladerunner/Projects/sitrepc2/data",
		"/Volumes/bladerunner/Projects/sitrepc2/src",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2"
	],
	"file_history":
	[
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/lss/extract_lss.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gazetteer/__init__.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/ingest/loaders.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/ingest/ingest_controller.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/schema/records/ingest.sql",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/schema/records/lss.sql",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/main.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/main_window.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/__init__.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/dom/__init__.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/ingest/__init__.py",
		"/Volumes/bladerunner/Projects/sitrepc2/README.md",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/db/schema.sql",
		"/Volumes/bladerunner/Projects/sitrepc2/scripts/add_admin4.py",
		"/Volumes/bladerunner/Projects/sitrepc2/scripts/enrich_admin4.py",
		"/Volumes/bladerunner/Projects/sitrepc2/data/spatial/regions.geojson",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/ingest/telegram.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/cli/app.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/cli/source_cmd.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/cli/fetch_cmd.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/review/pd_serialization.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/db/pipeline.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/review/pd_nodes.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/config/paths.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/lss/pipeline.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gazetteer/io.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gazetteer/index.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gazetteer/aliases.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/lss/ruler.py",
		"/Volumes/bladerunner/Projects/sitrepc2/pyproject.toml",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/cli/init_cmd.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/reference/group_lookup.csv",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/reference/locale_lookup.csv",
		"/Volumes/bladerunner/Projects/sitrepc2/scripts/import_direction_lookup.py",
		"/Volumes/bladerunner/Projects/sitrepc2/scripts/init_db.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/cli/db_cmd.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gazetteer/typedefs.py",
		"/Volumes/bladerunner/Projects/sitrepc2/scripts/import_group_lookup.py",
		"/Volumes/bladerunner/Projects/sitrepc2/scripts/import_locale_lookup.py",
		"/Volumes/bladerunner/Projects/sitrepc2/scripts/import_region_lookup.py",
		"/Volumes/bladerunner/Projects/sitrepc2/scripts/schema.sql",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/reference/direction_lookup.csv",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/dom/pipeline.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/config/__init__.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/db/core.py",
		"/Volumes/bladerunner/Projects/sitrepc2/data/schema.sql",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/reference/region_lookup.csv",
		"/Volumes/bladerunner/Projects/sitrepc2/scripts/import_regions.py",
		"/Users/bladerunner/Projects/mod-mymap/data/spatial/op_groups.geojson",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/spatial/clustering.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/spatial/direction_axis.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/dom/resolution.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/lss/lss_scoping.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/lss/typedefs.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/lss/sectioning.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/dom/event_locations.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/dom/context/candidate_narrowing.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/reference/exonyms.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/events/pipeline.py",
		"/Volumes/bladerunner/Projects/sitrepc2/data/spatial/ua_settlements.csv",
		"/Volumes/bladerunner/Projects/warreport_ua_settlement_aliases/cid_encoding.py",
		"/Volumes/bladerunner/Projects/sitrepc2/scripts/update_direction_aliases.py",
		"/Volumes/bladerunner/Projects/sitrepc2/scripts/add_aliases.py",
		"/Volumes/bladerunner/Projects/sitrepc2/scripts/normalize_aliases.py",
		"/Volumes/bladerunner/Projects/warreport_ua_settlement_aliases/warreport_ua_settlement_aliases.csv",
		"/Volumes/bladerunner/Projects/sitrepc2/data/spatial/ua_settlements.geojson",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/nlp/pipeline.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/review/pd_summary.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/nlp/bootstrap.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/events/context/group.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/events/typedefs.py",
		"/Volumes/bladerunner/Projects/sitrepc2/scripts/add_id.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/review/pd_reader.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/review/pd_writer.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/events/context/candidate_narrowing.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/events/context/direction.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/events/resolution.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/nlp/sectioning.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/nlp/lss_scoping.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/nlp/ruler.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/nlp/phrases.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/review/pd_anchor_resolution.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/review/pre_dom_review.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/review/pd_review_section.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/events/context/region.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/nlp/context.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/events/context/base.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/nlp/typedefs.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/nlp/events.py",
		"/Volumes/bladerunner/Projects/sitrepc2/enrich_admin4.py",
		"/Volumes/bladerunner/Projects/sitrepc2/data/spatial/regions.csv",
		"/Volumes/bladerunner/Projects/sitrepc2/missing_qids.py",
		"/Volumes/bladerunner/Projects/sitrepc2/scripts/op_locale_by_quid.py",
		"/Volumes/bladerunner/Projects/sitrepc2/scripts/duplicateqid.py",
		"/Volumes/bladerunner/Projects/sitrepc2/repair_region.py",
		"/Volumes/bladerunner/Projects/sitrepc2/data/spatial/ua_settlements_with_regions.csv",
		"/Volumes/bladerunner/Projects/sitrepc2/data/spatial/ua_admin4.geojson",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/reference/d_lookup.json",
		"/Volumes/bladerunner/Projects/sitrepc2/ua_admin4.geojson",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/enrichment/add_admin4.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/util/encoding.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/events/resolver.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/spatial/frontline.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/reference/directionals.jsonl",
		"/Users/bladerunner/Projects/telex/telex.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/events/event_locations.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/spatial/distance.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/util/serialization.py",
		"/Volumes/bladerunner/Projects/sitrepc2/add_id.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/reference/locale_lookup.csv.bak",
		"/Volumes/bladerunner/Projects/sitrepc2/.gitignore",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/holmes/holmes.bak/events.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/locations/event_locations.py",
		"/Users/bladerunner/Projects/mod-mymap/src/modmymap/nlp/context.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/holmes/holmes.bak/phrases.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/nlp/__init__.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/reference/tg_channels.jsonl",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/holmes/holmes.bak/bootstrap.py",
		"/Volumes/bladerunner/Projects/sitrepc2/LICENSE.txt",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/reference/war_lexicon.json",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/reference/op_groups.json",
		"/Users/bladerunner/Projects/types.py",
		"/Users/bladerunner/Projects/sitrepc2/src/sitrepc2/nlp/pipeline.py",
		"/Users/bladerunner/Projects/sitrepc2/src/sitrepc2/config/__init__.py",
		"/Users/bladerunner/Projects/mod-mymap/src/modmymap/ingest/telegram.py",
		"/Users/bladerunner/Projects/sitrepc2/config/paths.py",
		"/Users/bladerunner/Projects/sitrepc2/holmes_test.py",
		"/Users/bladerunner/Projects/sitrepc2.bak/src/sitrepc2/util/install_models.py"
	],
	"find":
	{
		"height": 23.0
	},
	"find_in_files":
	{
		"height": 119.0,
		"where_history":
		[
			"<open folders>"
		]
	},
	"find_state":
	{
		"case_sensitive": false,
		"find_history":
		[
			"osmium.",
			"on_open_dom",
			"def load_posts",
			"def _load_sources",
			"on_extract_clicked",
			"extract_button",
			"print",
			"if not _matches",
			"#if not _matches_phrase_filter(text_orig):\n    #continue",
			"if not _matches_phrase_filter(text_orig):\n    continue",
			"if not _pass",
			"if not",
			"load_dotenv",
			"direction",
			"id ",
			"direction",
			"region_osm",
			", ",
			"region",
			"from sitrepc2.nlp.",
			"search",
			"decode",
			"Chervona Sloboda",
			"Sloboda",
			"Q33345",
			"27212295",
			"Q33345",
			"Severodonetsk",
			"Q33349",
			"orikhiv",
			"orikhov",
			"590847913708267500",
			"myrne",
			"petrovskoye",
			"makiyivka",
			"",
			"lusychansk",
			"lusichansk",
			"lusychansk",
			"makiivka",
			"makiyivka",
			"Opytne",
			"Q4391252",
			"Q4391253",
			"Q4391252",
			"q4325070",
			"Q4325070",
			"novoprokopovka",
			"Q4125689",
			"vornivka",
			"voroni",
			"voroneve",
			"",
			"stativka",
			"Q4183525",
			"Q4183527",
			"Q4183525",
			"zah",
			"Q4188906",
			"",
			"zahirdne",
			"zahirne",
			"",
			"Nevske",
			"Menivka",
			"^.menivka",
			"mine",
			"mini",
			"Q4290695",
			"Min",
			"min",
			"minevka",
			"minivka",
			"miniivka",
			"minevka",
			"miniivka",
			"Q4210539",
			"Q521105",
			"orichiv",
			"orekhov",
			"orekhiv",
			"orekhiv,",
			"orikhiv,",
			"orikhiv",
			"orekhiv",
			"orekhov",
			"orekhov,",
			"orokhiv,",
			"orekhiv,",
			"orikhiv,",
			"Pliashivka",
			"Q4366022",
			"q4210161",
			"Q4210161",
			"verkhnia tokmachka",
			"oblast",
			"",
			"kornivka",
			"krynky",
			"krynki",
			"mali krynky",
			"krynky",
			"prudynky",
			"Q4366022",
			"",
			"plyashevka",
			"plashevka",
			"pliashevka",
			"novolubivka",
			"novo lubivka",
			"novolubivka",
			"novo lubivka",
			"Donetskedge",
			"donetskedge",
			"Dzhankoi",
			"eupatoria",
			"Kreminna",
			"lysychansk",
			"Lysychansk",
			"Sevastopol",
			"severodonetsk",
			"Severodonetsk",
			"Berdiansk",
			"Crimea",
			"Crymea",
			"",
			"",
			"melitopol"
		],
		"highlight": true,
		"in_selection": false,
		"preserve_case": false,
		"regex": false,
		"replace_history":
		[
			",",
			"from sitrepc2.lss",
			"region",
			"register_search_phrases",
			"events",
			"Event",
			"Location",
			"EventMatch",
			"WordMatch",
			"GAZ_GROUPS",
			"",
			"Location",
			"EventMatch",
			"LocaleCandidate",
			"List"
		],
		"reverse": false,
		"scrollbar_highlights": true,
		"show_context": true,
		"use_buffer2": false,
		"use_gitignore": true,
		"whole_word": false,
		"wrap": true
	},
	"groups":
	[
		{
			"sheets":
			[
				{
					"buffer": 0,
					"file": "/Users/bladerunner/Projects/sitrepc2.bak/src/sitrepc2/frontline/loc_amk.py",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 6583,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								6583
							]
						],
						"settings":
						{
							"incomplete_sync": null,
							"remote_loading": false,
							"synced": false,
							"syntax": "Packages/Python/Python.sublime-syntax",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 1702.0,
						"zoom_level": 1.0
					},
					"stack_index": 3,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 1,
					"file": "src/sitrepc2/gazetteer/osm_ingest.py",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 9832,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"auto_name": "from __future__ import annotations",
							"incomplete_sync": null,
							"remote_loading": false,
							"synced": false,
							"syntax": "Packages/Python/Python.sublime-syntax",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 3815.0,
						"zoom_level": 1.0
					},
					"stack_index": 1,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 2,
					"file": "src/sitrepc2/cli/init_cmd.py",
					"selected": true,
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 5408,
						"regions":
						{
						},
						"selection":
						[
							[
								99,
								99
							]
						],
						"settings":
						{
							"incomplete_sync": null,
							"remote_loading": false,
							"synced": false,
							"syntax": "Packages/Python/Python.sublime-syntax",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 0,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 3,
					"file": "pyproject.toml",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 1840,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"incomplete_sync": null,
							"remote_loading": false,
							"synced": false,
							"syntax": "Packages/TOML/TOML.sublime-syntax",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 322.0,
						"zoom_level": 1.0
					},
					"stack_index": 2,
					"stack_multiselect": false,
					"type": "text"
				}
			]
		}
	],
	"incremental_find":
	{
		"height": 23.0
	},
	"input":
	{
		"height": 44.0
	},
	"layout":
	{
		"cells":
		[
			[
				0,
				0,
				1,
				1
			]
		],
		"cols":
		[
			0.0,
			1.0
		],
		"rows":
		[
			0.0,
			1.0
		]
	},
	"menu_visible": true,
	"output.SFTP":
	{
		"height": 0.0,
		"history":
		[
		]
	},
	"output.find_results":
	{
		"height": 160.0,
		"history":
		[
		]
	},
	"pinned_build_system": "",
	"project": "sitrepc2.sublime-project",
	"replace":
	{
		"height": 42.0
	},
	"save_all_on_build": true,
	"select_file":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
			[
				"",
				"utils/units/unit_str.py"
			]
		],
		"width": 0.0
	},
	"select_project":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
		],
		"width": 0.0
	},
	"select_symbol":
	{
		"height": 255.0,
		"last_filter": "",
		"selected_items":
		[
		],
		"width": 592.0
	},
	"selected_group": 0,
	"settings":
	{
	},
	"show_minimap": false,
	"show_open_files": true,
	"show_tabs": true,
	"side_bar_visible": true,
	"side_bar_width": 205.0,
	"status_bar_visible": true,
	"template_settings":
	{
	}
}
