{
	"auto_complete":
	{
		"selected_items":
		[
			[
				"region",
				"region_names"
			],
			[
				"defa",
				"default_aliases_field"
			],
			[
				"TRA",
				"TRAINING_HASHTAGS"
			],
			[
				"norn",
				"normalize_location_key"
			],
			[
				"Pr",
				"ProximityAnchor"
			],
			[
				"candidat",
				"locale_candidates"
			],
			[
				"Resol",
				"ResolvedLocation"
			],
			[
				"Ev",
				"EventMention"
			],
			[
				"serai",
				"serialize_resolved"
			],
			[
				"rnd",
				"rndr_ctx_changed"
			],
			[
				"phy",
				"phys_ctx_changed"
			],
			[
				"edpi_",
				"edpi_ctx_changed"
			],
			[
				"prope",
				"property\tNew Property"
			],
			[
				"Cano",
				"CANONICAL"
			],
			[
				"__",
				"__setattr__"
			],
			[
				"imp",
				"imprecise_str"
			],
			[
				"g",
				"geometryChanged"
			],
			[
				"geom",
				"geometryAboutToChange"
			],
			[
				"para",
				"params_kwargs"
			],
			[
				"_fiel",
				"_fields_by_key"
			],
			[
				"proe",
				"property_line_edit"
			],
			[
				"pre",
				"property_line_edit"
			],
			[
				"Proper",
				"property\tNew Property"
			],
			[
				"Ty",
				"TYPE_CHECKING"
			],
			[
				"prop",
				"propertyCommitted"
			],
			[
				"pro",
				"property\tNew Property"
			],
			[
				"U",
				"UnitStrGeometryField"
			],
			[
				"propert",
				"property\tNew Property"
			],
			[
				"Unit",
				"UnitStrGeometry"
			],
			[
				"TYP",
				"TYPE_CHECKING"
			],
			[
				"new_rec",
				"new_rect_y"
			],
			[
				"ele",
				"elem_modview"
			],
			[
				"geome",
				"geometryChanged"
			],
			[
				"proepr",
				"property\tNew Property"
			],
			[
				"opu",
				"populate_pages_with_csv"
			],
			[
				"appl",
				"_apply_base_hints"
			],
			[
				"proper",
				"property\tNew Property"
			],
			[
				"bor",
				"border_width"
			],
			[
				"_ds",
				"_display_dpi"
			],
			[
				"proep",
				"property\tNew Property"
			],
			[
				"setMax",
				"setMaximumWidth"
			],
			[
				"DEF",
				"DEFAULT_INCREMENTS"
			],
			[
				"geomet",
				"geometry_with_px_pos"
			],
			[
				"uni",
				"unit_str_geometry_field"
			],
			[
				"Uni",
				"UnitStrGeometryField"
			],
			[
				"_geom",
				"unit_str_geometry_field"
			],
			[
				"QGraph",
				"QGraphicsObject"
			],
			[
				"bll",
				"bleed_field"
			],
			[
				"corn",
				"corners_field"
			],
			[
				"_bor",
				"_border_color"
			],
			[
				"_obr",
				"_border_color"
			],
			[
				"bord",
				"border_color"
			],
			[
				"QPAIN",
				"QPainterPathStroker"
			],
			[
				"_has_",
				"_has_csv_content"
			],
			[
				"c",
				"component_template"
			],
			[
				"compon",
				"component_template"
			],
			[
				"ov",
				"_overset_hit_rect"
			],
			[
				"ove",
				"overset_hit_rect"
			],
			[
				"lai",
				"laid_out_h"
			],
			[
				"lad",
				"laid_out_w"
			],
			[
				"is_",
				"is_overset_expanded"
			],
			[
				"_is",
				"_is_overset_expanded"
			],
			[
				"_over",
				"_overset_hit_rect"
			],
			[
				"with",
				"geometry_with_px_pos"
			],
			[
				"Al",
				"AlignLeft"
			],
			[
				"Align",
				"AlignHCenter"
			],
			[
				"font",
				"last_font_new_default"
			],
			[
				"remove_t",
				"remove_template_by_pid"
			],
			[
				"bleed",
				"bleed_label"
			],
			[
				"UnitS",
				"UnitStrGeometry"
			],
			[
				"Compon",
				"ComponentTemplate"
			],
			[
				"req",
				"required_next"
			],
			[
				"ComponentTem",
				"ComponentTemplateView"
			],
			[
				"remove_temp",
				"remove_template_from_all_tabs"
			],
			[
				"upd",
				"updateGrid"
			],
			[
				"_pa",
				"_pagination_policy"
			],
			[
				"paginat",
				"pagination_policy"
			],
			[
				"pag",
				"pagination_policy"
			],
			[
				"Clon",
				"CloneComponentToSlotsCommand"
			],
			[
				"pagina",
				"pagination_policy"
			],
			[
				"white",
				"whitespace_in_units"
			],
			[
				"set",
				"setParentItem"
			],
			[
				"Com",
				"ComponentElement"
			],
			[
				"parse",
				"parse_dimension"
			],
			[
				"unre",
				"unreg_target"
			],
			[
				"prot",
				"proto_registry"
			],
			[
				"temp",
				"template_updated"
			],
			[
				"resize_s",
				"resize_start_item_pos"
			],
			[
				"UnitSt",
				"UnitStrGeometry"
			],
			[
				"_dragging_star",
				"_dragging_start_geom"
			],
			[
				"resize_st",
				"resize_start_item_geometry"
			],
			[
				"_dra",
				"_dragging_start_geom"
			],
			[
				"starting",
				"starting_drag_item"
			],
			[
				"elem",
				"elment_changed"
			],
			[
				"unit_st",
				"unit_str_geometry"
			],
			[
				"obje",
				"object_registered"
			],
			[
				"globa",
				"global_get_by_prefix"
			],
			[
				"ori",
				"orientation_changed"
			],
			[
				"_a",
				"_applyOrientation"
			],
			[
				"PAGE",
				"PAGE_SIZES"
			],
			[
				"_regis",
				"_ensure_registered"
			],
			[
				"sele",
				"selected_element"
			],
			[
				"get_all_",
				"get_global_by_type"
			],
			[
				"_handl",
				"_handle_property_change"
			],
			[
				"selec",
				"selected_element"
			],
			[
				"conf",
				"conform_geometry_pos"
			],
			[
				"conform",
				"conform_geometry_rect"
			],
			[
				"conform_geom",
				"conform_geometry_rect"
			],
			[
				"_mar",
				"_margin_top"
			],
			[
				"pagination",
				"pagination_policy"
			],
			[
				"compone",
				"component_template"
			],
			[
				"cand",
				"candidate_item"
			],
			[
				"flag",
				"display_flag_changed"
			],
			[
				"curre",
				"currentItem"
			],
			[
				"get_page",
				"get_page_rect_px"
			],
			[
				"_marg",
				"_margin_right"
			],
			[
				"Resiz",
				"ResizeAndMoveElementCommand"
			],
			[
				"Resize",
				"ResizeTemplateCommand"
			],
			[
				"Change",
				"ChangeGeometryCommand"
			],
			[
				"QGraphcisS",
				"QGraphicsSceneDragDropEvent"
			],
			[
				"_current",
				"_current_template"
			],
			[
				"on",
				"object_name_changed"
			],
			[
				"setM",
				"setMinimumWidth"
			],
			[
				"setMini",
				"setMinimumWidth"
			],
			[
				"C",
				"ComponentTemplate"
			],
			[
				"_al",
				"_alt_drag_first_pass"
			],
			[
				"resize_star",
				"resize_start_scene_pos"
			],
			[
				"eleme",
				"element_changed"
			]
		]
	},
	"buffers":
	[
		{
			"file": "src/sitrepc2/gui/main_window.py",
			"settings":
			{
				"buffer_size": 2766,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					2,
					1,
					"paste",
					null,
					"AQAAAAAAAAAAAAAA/QkAAAAAAABABwAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSB0eXBpbmcgaW1wb3J0IE9wdGlvbmFsCgpmcm9tIFB5U2lkZTYuUXRDb3JlIGltcG9ydCBRdApmcm9tIFB5U2lkZTYuUXRXaWRnZXRzIGltcG9ydCAoCiAgICBRTWFpbldpbmRvdywKICAgIFFXaWRnZXQsCiAgICBRU3RhY2tlZFdpZGdldCwKICAgIFFBcHBsaWNhdGlvbiwKKQoKZnJvbSBzaXRyZXBjMi5ndWkuaW5nZXN0LmluZ2VzdF93b3Jrc3BhY2UgaW1wb3J0IEluZ2VzdFdvcmtzcGFjZQoKCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQojIE1haW4gV2luZG93CiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKY2xhc3MgTWFpbldpbmRvdyhRTWFpbldpbmRvdyk6CiAgICAiIiIKICAgIE1haW4gYXBwbGljYXRpb24gd2luZG93IGZvciBzaXRyZXBjMiBHVUkuCgogICAgUmVzcG9uc2liaWxpdGllczoKICAgIC0gT3duIHdvcmtzcGFjZSBsaWZlY3ljbGUKICAgIC0gSG9zdCB3b3Jrc3BhY2Ugc3RhY2sKICAgIC0gQ29vcmRpbmF0ZSBuYXZpZ2F0aW9uIChsYXRlcikKCiAgICBDdXJyZW50bHkgaG9zdHM6CiAgICAtIEluZ2VzdFdvcmtzcGFjZSBvbmx5CiAgICAiIiIKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBwYXJlbnQ6IE9wdGlvbmFsW1FXaWRnZXRdID0gTm9uZSkgLT4gTm9uZToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKHBhcmVudCkKCiAgICAgICAgc2VsZi5zZXRXaW5kb3dUaXRsZSgic2l0cmVwYzIiKQogICAgICAgIHNlbGYucmVzaXplKDE0MDAsIDkwMCkKCiAgICAgICAgc2VsZi5fYnVpbGRfdWkoKQoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIF9idWlsZF91aShzZWxmKSAtPiBOb25lOgogICAgICAgIHNlbGYud29ya3NwYWNlX3N0YWNrID0gUVN0YWNrZWRXaWRnZXQoKQogICAgICAgIHNlbGYuc2V0Q2VudHJhbFdpZGdldChzZWxmLndvcmtzcGFjZV9zdGFjaykKCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgICMgV29ya3NwYWNlcwogICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICAgICAgc2VsZi5pbmdlc3Rfd29ya3NwYWNlID0gSW5nZXN0V29ya3NwYWNlKHNlbGYpCiAgICAgICAgc2VsZi53b3Jrc3BhY2Vfc3RhY2suYWRkV2lkZ2V0KHNlbGYuaW5nZXN0X3dvcmtzcGFjZSkKCiAgICAgICAgIyBEZWZhdWx0IHdvcmtzcGFjZQogICAgICAgIHNlbGYud29ya3NwYWNlX3N0YWNrLnNldEN1cnJlbnRXaWRnZXQoc2VsZi5pbmdlc3Rfd29ya3NwYWNlKQoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIEZ1dHVyZSBob29rcyAobmF2aWdhdGlvbiwgbWVudXMsIGV0Yy4pCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGRlZiBzaG93X2luZ2VzdChzZWxmKSAtPiBOb25lOgogICAgICAgIHNlbGYud29ya3NwYWNlX3N0YWNrLnNldEN1cnJlbnRXaWRnZXQoc2VsZi5pbmdlc3Rfd29ya3NwYWNlKQo",
					"AQAAAAAAAAABAAAAAAAAAAAAAABABwAAAAAAAAAAAAAAAPC/"
				],
				[
					3,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAD9CQAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSB0eXBpbmcgaW1wb3J0IE9wdGlvbmFsCgpmcm9tIFB5U2lkZTYuUXRDb3JlIGltcG9ydCBRdApmcm9tIFB5U2lkZTYuUXRXaWRnZXRzIGltcG9ydCAoCiAgICBRTWFpbldpbmRvdywKICAgIFFXaWRnZXQsCiAgICBRU3RhY2tlZFdpZGdldCwKKQoKZnJvbSBzaXRyZXBjMi5ndWkuaW5nZXN0LmluZ2VzdF93b3Jrc3BhY2UgaW1wb3J0IEluZ2VzdFdvcmtzcGFjZQpmcm9tIHNpdHJlcGMyLmd1aS5yZXZpZXcucmV2aWV3X3dvcmtzcGFjZSBpbXBvcnQgUmV2aWV3V29ya3NwYWNlCgoKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiMgTWFpbiBXaW5kb3cKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgpjbGFzcyBNYWluV2luZG93KFFNYWluV2luZG93KToKICAgICIiIgogICAgTWFpbiBhcHBsaWNhdGlvbiB3aW5kb3cgZm9yIHNpdHJlcGMyIEdVSS4KCiAgICBSZXNwb25zaWJpbGl0aWVzOgogICAgLSBPd24gd29ya3NwYWNlIGxpZmVjeWNsZQogICAgLSBIb3N0IHdvcmtzcGFjZSBzdGFjawogICAgLSBDb29yZGluYXRlIGV4cGxpY2l0IG5hdmlnYXRpb24KICAgICIiIgoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHBhcmVudDogT3B0aW9uYWxbUVdpZGdldF0gPSBOb25lKSAtPiBOb25lOgogICAgICAgIHN1cGVyKCkuX19pbml0X18ocGFyZW50KQoKICAgICAgICBzZWxmLnNldFdpbmRvd1RpdGxlKCJzaXRyZXBjMiIpCiAgICAgICAgc2VsZi5yZXNpemUoMTQwMCwgOTAwKQoKICAgICAgICBzZWxmLl9idWlsZF91aSgpCiAgICAgICAgc2VsZi5fd2lyZV9zaWduYWxzKCkKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBVSQogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBkZWYgX2J1aWxkX3VpKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgc2VsZi53b3Jrc3BhY2Vfc3RhY2sgPSBRU3RhY2tlZFdpZGdldChzZWxmKQogICAgICAgIHNlbGYuc2V0Q2VudHJhbFdpZGdldChzZWxmLndvcmtzcGFjZV9zdGFjaykKCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgICMgV29ya3NwYWNlcwogICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICAgICAgc2VsZi5pbmdlc3Rfd29ya3NwYWNlID0gSW5nZXN0V29ya3NwYWNlKHNlbGYpCiAgICAgICAgc2VsZi5yZXZpZXdfd29ya3NwYWNlID0gUmV2aWV3V29ya3NwYWNlKHNlbGYpCgogICAgICAgIHNlbGYud29ya3NwYWNlX3N0YWNrLmFkZFdpZGdldChzZWxmLmluZ2VzdF93b3Jrc3BhY2UpCiAgICAgICAgc2VsZi53b3Jrc3BhY2Vfc3RhY2suYWRkV2lkZ2V0KHNlbGYucmV2aWV3X3dvcmtzcGFjZSkKCiAgICAgICAgIyBEZWZhdWx0IHdvcmtzcGFjZQogICAgICAgIHNlbGYud29ya3NwYWNlX3N0YWNrLnNldEN1cnJlbnRXaWRnZXQoc2VsZi5pbmdlc3Rfd29ya3NwYWNlKQoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIFdpcmluZwogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBkZWYgX3dpcmVfc2lnbmFscyhzZWxmKSAtPiBOb25lOgogICAgICAgIHNlbGYuaW5nZXN0X3dvcmtzcGFjZS5leHRyYWN0aW9uX2NvbXBsZXRlZC5jb25uZWN0KAogICAgICAgICAgICBzZWxmLnNob3dfcmV2aWV3CiAgICAgICAgKQoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIE5hdmlnYXRpb24KICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIHNob3dfaW5nZXN0KHNlbGYpIC0+IE5vbmU6CiAgICAgICAgc2VsZi53b3Jrc3BhY2Vfc3RhY2suc2V0Q3VycmVudFdpZGdldChzZWxmLmluZ2VzdF93b3Jrc3BhY2UpCgogICAgZGVmIHNob3dfcmV2aWV3KHNlbGYpIC0+IE5vbmU6CiAgICAgICAgIyBSZWZyZXNoIHJldmlldyBsaXN0IGluIGNhc2Ugc3RhdGUgY2hhbmdlZAogICAgICAgIHNlbGYucmV2aWV3X3dvcmtzcGFjZS5fbG9hZF9wb3N0cygpCiAgICAgICAgc2VsZi53b3Jrc3BhY2Vfc3RhY2suc2V0Q3VycmVudFdpZGdldChzZWxmLnJldmlld193b3Jrc3BhY2UpCgAAAAAAAAAA/QkAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA/QkAAAAAAAD9CQAAAAAAAAAAAAAAAPC/"
				],
				[
					8,
					1,
					"paste",
					null,
					"AQAAAIEEAAAAAAAAdgYAAAAAAAB8AgAAICAgIGRlZiBfYnVpbGRfdWkoc2VsZikgLT4gTm9uZToKICAgICAgICBzZWxmLndvcmtzcGFjZV9zdGFjayA9IFFTdGFja2VkV2lkZ2V0KHNlbGYpCiAgICAgICAgc2VsZi5zZXRDZW50cmFsV2lkZ2V0KHNlbGYud29ya3NwYWNlX3N0YWNrKQoKICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgIyBXb3Jrc3BhY2VzCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgICAgICBzZWxmLmluZ2VzdF93b3Jrc3BhY2UgPSBJbmdlc3RXb3Jrc3BhY2Uoc2VsZikKICAgICAgICBzZWxmLnJldmlld193b3Jrc3BhY2UgPSBSZXZpZXdXb3Jrc3BhY2Uoc2VsZikKCiAgICAgICAgc2VsZi53b3Jrc3BhY2Vfc3RhY2suYWRkV2lkZ2V0KHNlbGYuaW5nZXN0X3dvcmtzcGFjZSkKICAgICAgICBzZWxmLndvcmtzcGFjZV9zdGFjay5hZGRXaWRnZXQoc2VsZi5yZXZpZXdfd29ya3NwYWNlKQoKICAgICAgICAjIERlZmF1bHQgd29ya3NwYWNlCiAgICAgICAgc2VsZi53b3Jrc3BhY2Vfc3RhY2suc2V0Q3VycmVudFdpZGdldChzZWxmLmluZ2VzdF93b3Jrc3BhY2Up",
					"AQAAAAAAAAABAAAA/QYAAAAAAACBBAAAAAAAAAAAAAAAAPC/"
				],
				[
					11,
					1,
					"indent",
					null,
					"CgAAAIEEAAAAAAAAhQQAAAAAAAAAAAAAogQAAAAAAACmBAAAAAAAAAAAAADSBAAAAAAAANYEAAAAAAAAAAAAAAcFAAAAAAAACwUAAAAAAAAAAAAAPQUAAAAAAABBBQAAAAAAAAAAAAB0BQAAAAAAAHgFAAAAAAAAAAAAALIFAAAAAAAAtgUAAAAAAAAAAAAA8QUAAAAAAAD1BQAAAAAAAAAAAAAPBgAAAAAAABMGAAAAAAAAAAAAAFkGAAAAAAAAXQYAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAdgYAAAAAAACCBAAAAAAAAAAAAAAAAPC/"
				],
				[
					12,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAChCQAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSB0eXBpbmcgaW1wb3J0IE9wdGlvbmFsCgpmcm9tIFB5U2lkZTYuUXRDb3JlIGltcG9ydCBRdApmcm9tIFB5U2lkZTYuUXRXaWRnZXRzIGltcG9ydCAoCiAgICBRTWFpbldpbmRvdywKICAgIFFXaWRnZXQsCiAgICBRU3RhY2tlZFdpZGdldCwKKQoKZnJvbSBzaXRyZXBjMi5ndWkuaW5nZXN0LmluZ2VzdF93b3Jrc3BhY2UgaW1wb3J0IEluZ2VzdFdvcmtzcGFjZQpmcm9tIHNpdHJlcGMyLmd1aS5yZXZpZXcucmV2aWV3X3dvcmtzcGFjZSBpbXBvcnQgUmV2aWV3V29ya3NwYWNlCgoKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiMgTWFpbiBXaW5kb3cKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgpjbGFzcyBNYWluV2luZG93KFFNYWluV2luZG93KToKICAgICIiIgogICAgTWFpbiBhcHBsaWNhdGlvbiB3aW5kb3cgZm9yIHNpdHJlcGMyIEdVSS4KCiAgICBSZXNwb25zaWJpbGl0aWVzOgogICAgLSBPd24gd29ya3NwYWNlIGxpZmVjeWNsZQogICAgLSBIb3N0IHdvcmtzcGFjZSBzdGFjawogICAgLSBDb29yZGluYXRlIGV4cGxpY2l0IG5hdmlnYXRpb24KICAgICIiIgoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHBhcmVudDogT3B0aW9uYWxbUVdpZGdldF0gPSBOb25lKSAtPiBOb25lOgogICAgICAgIHN1cGVyKCkuX19pbml0X18ocGFyZW50KQoKICAgICAgICBzZWxmLnNldFdpbmRvd1RpdGxlKCJzaXRyZXBjMiIpCiAgICAgICAgc2VsZi5yZXNpemUoMTQwMCwgOTAwKQoKICAgICAgICBzZWxmLl9idWlsZF91aSgpCiAgICAgICAgc2VsZi5fd2lyZV9zaWduYWxzKCkKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBVSQogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBkZWYgX2J1aWxkX3VpKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgc2VsZi53b3Jrc3BhY2Vfc3RhY2sgPSBRU3RhY2tlZFdpZGdldCgpCiAgICAgICAgc2VsZi5zZXRDZW50cmFsV2lkZ2V0KHNlbGYud29ya3NwYWNlX3N0YWNrKQoKICAgICAgICBzZWxmLmluZ2VzdF93b3Jrc3BhY2UgPSBJbmdlc3RXb3Jrc3BhY2Uoc2VsZikKICAgICAgICBzZWxmLnJldmlld193b3Jrc3BhY2UgPSBSZXZpZXdXb3Jrc3BhY2Uoc2VsZikKCiAgICAgICAgc2VsZi53b3Jrc3BhY2Vfc3RhY2suYWRkV2lkZ2V0KHNlbGYuaW5nZXN0X3dvcmtzcGFjZSkKICAgICAgICBzZWxmLndvcmtzcGFjZV9zdGFjay5hZGRXaWRnZXQoc2VsZi5yZXZpZXdfd29ya3NwYWNlKQoKICAgICAgICAjIPCflJcgbmF2aWdhdGlvbiB3aXJpbmcKICAgICAgICBzZWxmLmluZ2VzdF93b3Jrc3BhY2UucmV2aWV3X3JlcXVlc3RlZC5jb25uZWN0KHNlbGYuc2hvd19yZXZpZXcpCgogICAgICAgIHNlbGYud29ya3NwYWNlX3N0YWNrLnNldEN1cnJlbnRXaWRnZXQoc2VsZi5pbmdlc3Rfd29ya3NwYWNlKQoKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBXaXJpbmcKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIF93aXJlX3NpZ25hbHMoc2VsZikgLT4gTm9uZToKICAgICAgICBzZWxmLmluZ2VzdF93b3Jrc3BhY2UuZXh0cmFjdGlvbl9jb21wbGV0ZWQuY29ubmVjdCgKICAgICAgICAgICAgc2VsZi5zaG93X3JldmlldwogICAgICAgICkKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBOYXZpZ2F0aW9uCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGRlZiBzaG93X2luZ2VzdChzZWxmKSAtPiBOb25lOgogICAgICAgIHNlbGYud29ya3NwYWNlX3N0YWNrLnNldEN1cnJlbnRXaWRnZXQoc2VsZi5pbmdlc3Rfd29ya3NwYWNlKQoKICAgIGRlZiBzaG93X3JldmlldyhzZWxmKSAtPiBOb25lOgogICAgICAgICMgUmVmcmVzaCByZXZpZXcgbGlzdCBpbiBjYXNlIHN0YXRlIGNoYW5nZWQKICAgICAgICBzZWxmLnJldmlld193b3Jrc3BhY2UuX2xvYWRfcG9zdHMoKQogICAgICAgIHNlbGYud29ya3NwYWNlX3N0YWNrLnNldEN1cnJlbnRXaWRnZXQoc2VsZi5yZXZpZXdfd29ya3NwYWNlKQoAAAAAAAAAAJ4JAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAngYAAAAAAACGBAAAAAAAAAAAAAAAAPC/"
				],
				[
					15,
					1,
					"paste",
					null,
					"AQAAANYIAAAAAAAANgkAAAAAAADIAAAAICAgIGRlZiBzaG93X3JldmlldyhzZWxmKSAtPiBOb25lOgogICAgICAgICMgUmVmcmVzaCByZXZpZXcgbGlzdCBpbiBjYXNlIHN0YXRlIGNoYW5nZWQKICAgICAgICBzZWxmLnJldmlld193b3Jrc3BhY2UuX2xvYWRfcG9zdHMoKQogICAgICAgIHNlbGYud29ya3NwYWNlX3N0YWNrLnNldEN1cnJlbnRXaWRnZXQoc2VsZi5yZXZpZXdfd29ya3NwYWNlKQo",
					"AQAAAAAAAAABAAAA1ggAAAAAAACeCQAAAAAAAAAAAAAAAPC/"
				],
				[
					18,
					1,
					"indent",
					null,
					"AgAAANYIAAAAAAAA2ggAAAAAAAAAAAAA+QgAAAAAAAD9CAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAANgkAAAAAAADeCAAAAAAAAAAAAAAAAPC/"
				],
				[
					19,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABBCQAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSB0eXBpbmcgaW1wb3J0IE9wdGlvbmFsCgpmcm9tIFB5U2lkZTYuUXRDb3JlIGltcG9ydCBRdApmcm9tIFB5U2lkZTYuUXRXaWRnZXRzIGltcG9ydCAoCiAgICBRTWFpbldpbmRvdywKICAgIFFXaWRnZXQsCiAgICBRU3RhY2tlZFdpZGdldCwKKQoKZnJvbSBzaXRyZXBjMi5ndWkuaW5nZXN0LmluZ2VzdF93b3Jrc3BhY2UgaW1wb3J0IEluZ2VzdFdvcmtzcGFjZQpmcm9tIHNpdHJlcGMyLmd1aS5yZXZpZXcucmV2aWV3X3dvcmtzcGFjZSBpbXBvcnQgUmV2aWV3V29ya3NwYWNlCgoKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiMgTWFpbiBXaW5kb3cKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgpjbGFzcyBNYWluV2luZG93KFFNYWluV2luZG93KToKICAgICIiIgogICAgTWFpbiBhcHBsaWNhdGlvbiB3aW5kb3cgZm9yIHNpdHJlcGMyIEdVSS4KCiAgICBSZXNwb25zaWJpbGl0aWVzOgogICAgLSBPd24gd29ya3NwYWNlIGxpZmVjeWNsZQogICAgLSBIb3N0IHdvcmtzcGFjZSBzdGFjawogICAgLSBDb29yZGluYXRlIGV4cGxpY2l0IG5hdmlnYXRpb24KICAgICIiIgoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHBhcmVudDogT3B0aW9uYWxbUVdpZGdldF0gPSBOb25lKSAtPiBOb25lOgogICAgICAgIHN1cGVyKCkuX19pbml0X18ocGFyZW50KQoKICAgICAgICBzZWxmLnNldFdpbmRvd1RpdGxlKCJzaXRyZXBjMiIpCiAgICAgICAgc2VsZi5yZXNpemUoMTQwMCwgOTAwKQoKICAgICAgICBzZWxmLl9idWlsZF91aSgpCiAgICAgICAgc2VsZi5fd2lyZV9zaWduYWxzKCkKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBVSQogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBkZWYgX2J1aWxkX3VpKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgc2VsZi53b3Jrc3BhY2Vfc3RhY2sgPSBRU3RhY2tlZFdpZGdldCgpCiAgICAgICAgc2VsZi5zZXRDZW50cmFsV2lkZ2V0KHNlbGYud29ya3NwYWNlX3N0YWNrKQoKICAgICAgICBzZWxmLmluZ2VzdF93b3Jrc3BhY2UgPSBJbmdlc3RXb3Jrc3BhY2Uoc2VsZikKICAgICAgICBzZWxmLnJldmlld193b3Jrc3BhY2UgPSBSZXZpZXdXb3Jrc3BhY2Uoc2VsZikKCiAgICAgICAgc2VsZi53b3Jrc3BhY2Vfc3RhY2suYWRkV2lkZ2V0KHNlbGYuaW5nZXN0X3dvcmtzcGFjZSkKICAgICAgICBzZWxmLndvcmtzcGFjZV9zdGFjay5hZGRXaWRnZXQoc2VsZi5yZXZpZXdfd29ya3NwYWNlKQoKICAgICAgICAjIPCflJcgbmF2aWdhdGlvbiB3aXJpbmcKICAgICAgICBzZWxmLmluZ2VzdF93b3Jrc3BhY2UucmV2aWV3X3JlcXVlc3RlZC5jb25uZWN0KHNlbGYuc2hvd19yZXZpZXcpCgogICAgICAgIHNlbGYud29ya3NwYWNlX3N0YWNrLnNldEN1cnJlbnRXaWRnZXQoc2VsZi5pbmdlc3Rfd29ya3NwYWNlKQoKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBXaXJpbmcKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIF93aXJlX3NpZ25hbHMoc2VsZikgLT4gTm9uZToKICAgICAgICBzZWxmLmluZ2VzdF93b3Jrc3BhY2UuZXh0cmFjdGlvbl9jb21wbGV0ZWQuY29ubmVjdCgKICAgICAgICAgICAgc2VsZi5zaG93X3JldmlldwogICAgICAgICkKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBOYXZpZ2F0aW9uCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGRlZiBzaG93X2luZ2VzdChzZWxmKSAtPiBOb25lOgogICAgICAgIHNlbGYud29ya3NwYWNlX3N0YWNrLnNldEN1cnJlbnRXaWRnZXQoc2VsZi5pbmdlc3Rfd29ya3NwYWNlKQoKICAgIGRlZiBzaG93X3JldmlldyhzZWxmKSAtPiBOb25lOgogICAgICAgIHNlbGYud29ya3NwYWNlX3N0YWNrLnNldEN1cnJlbnRXaWRnZXQoc2VsZi5yZXZpZXdfd29ya3NwYWNlKQoAAAAAAAAAAD4JAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAPgkAAAAAAADiCAAAAAAAAAAAAAAAAPC/"
				],
				[
					27,
					1,
					"paste",
					null,
					"AQAAAF8AAAAAAAAA5gAAAAAAAABTAAAAZnJvbSBQeVNpZGU2LlF0V2lkZ2V0cyBpbXBvcnQgKAogICAgUU1haW5XaW5kb3csCiAgICBRV2lkZ2V0LAogICAgUVN0YWNrZWRXaWRnZXQsCik",
					"AQAAAAAAAAABAAAAsgAAAAAAAABfAAAAAAAAAAAAAAAAAPC/"
				],
				[
					28,
					1,
					"left_delete",
					null,
					"AQAAAOUAAAAAAAAA5QAAAAAAAAABAAAACg",
					"AQAAAAAAAAABAAAA5gAAAAAAAADmAAAAAAAAAAAAAAAAAPC/"
				],
				[
					29,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAB0CQAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSB0eXBpbmcgaW1wb3J0IE9wdGlvbmFsCgpmcm9tIFB5U2lkZTYuUXRDb3JlIGltcG9ydCBRdApmcm9tIFB5U2lkZTYuUXRXaWRnZXRzIGltcG9ydCAoCiAgICBRTWFpbldpbmRvdywKICAgIFFXaWRnZXQsCiAgICBRU3RhY2tlZFdpZGdldCwKICAgIFFWQm94TGF5b3V0LAogICAgUUhCb3hMYXlvdXQsCiAgICBRUHVzaEJ1dHRvbiwKKQoKZnJvbSBzaXRyZXBjMi5ndWkuaW5nZXN0LmluZ2VzdF93b3Jrc3BhY2UgaW1wb3J0IEluZ2VzdFdvcmtzcGFjZQpmcm9tIHNpdHJlcGMyLmd1aS5yZXZpZXcucmV2aWV3X3dvcmtzcGFjZSBpbXBvcnQgUmV2aWV3V29ya3NwYWNlCgoKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiMgTWFpbiBXaW5kb3cKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgpjbGFzcyBNYWluV2luZG93KFFNYWluV2luZG93KToKICAgICIiIgogICAgTWFpbiBhcHBsaWNhdGlvbiB3aW5kb3cgZm9yIHNpdHJlcGMyIEdVSS4KCiAgICBSZXNwb25zaWJpbGl0aWVzOgogICAgLSBPd24gd29ya3NwYWNlIGxpZmVjeWNsZQogICAgLSBIb3N0IHdvcmtzcGFjZSBzdGFjawogICAgLSBDb29yZGluYXRlIGV4cGxpY2l0IG5hdmlnYXRpb24KICAgICIiIgoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHBhcmVudDogT3B0aW9uYWxbUVdpZGdldF0gPSBOb25lKSAtPiBOb25lOgogICAgICAgIHN1cGVyKCkuX19pbml0X18ocGFyZW50KQoKICAgICAgICBzZWxmLnNldFdpbmRvd1RpdGxlKCJzaXRyZXBjMiIpCiAgICAgICAgc2VsZi5yZXNpemUoMTQwMCwgOTAwKQoKICAgICAgICBzZWxmLl9idWlsZF91aSgpCiAgICAgICAgc2VsZi5fd2lyZV9zaWduYWxzKCkKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBVSQogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBkZWYgX2J1aWxkX3VpKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgc2VsZi53b3Jrc3BhY2Vfc3RhY2sgPSBRU3RhY2tlZFdpZGdldCgpCiAgICAgICAgc2VsZi5zZXRDZW50cmFsV2lkZ2V0KHNlbGYud29ya3NwYWNlX3N0YWNrKQoKICAgICAgICBzZWxmLmluZ2VzdF93b3Jrc3BhY2UgPSBJbmdlc3RXb3Jrc3BhY2Uoc2VsZikKICAgICAgICBzZWxmLnJldmlld193b3Jrc3BhY2UgPSBSZXZpZXdXb3Jrc3BhY2Uoc2VsZikKCiAgICAgICAgc2VsZi53b3Jrc3BhY2Vfc3RhY2suYWRkV2lkZ2V0KHNlbGYuaW5nZXN0X3dvcmtzcGFjZSkKICAgICAgICBzZWxmLndvcmtzcGFjZV9zdGFjay5hZGRXaWRnZXQoc2VsZi5yZXZpZXdfd29ya3NwYWNlKQoKICAgICAgICAjIPCflJcgbmF2aWdhdGlvbiB3aXJpbmcKICAgICAgICBzZWxmLmluZ2VzdF93b3Jrc3BhY2UucmV2aWV3X3JlcXVlc3RlZC5jb25uZWN0KHNlbGYuc2hvd19yZXZpZXcpCgogICAgICAgIHNlbGYud29ya3NwYWNlX3N0YWNrLnNldEN1cnJlbnRXaWRnZXQoc2VsZi5pbmdlc3Rfd29ya3NwYWNlKQoKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBXaXJpbmcKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIF93aXJlX3NpZ25hbHMoc2VsZikgLT4gTm9uZToKICAgICAgICBzZWxmLmluZ2VzdF93b3Jrc3BhY2UuZXh0cmFjdGlvbl9jb21wbGV0ZWQuY29ubmVjdCgKICAgICAgICAgICAgc2VsZi5zaG93X3JldmlldwogICAgICAgICkKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBOYXZpZ2F0aW9uCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGRlZiBzaG93X2luZ2VzdChzZWxmKSAtPiBOb25lOgogICAgICAgIHNlbGYud29ya3NwYWNlX3N0YWNrLnNldEN1cnJlbnRXaWRnZXQoc2VsZi5pbmdlc3Rfd29ya3NwYWNlKQoKICAgIGRlZiBzaG93X3JldmlldyhzZWxmKSAtPiBOb25lOgogICAgICAgIHNlbGYud29ya3NwYWNlX3N0YWNrLnNldEN1cnJlbnRXaWRnZXQoc2VsZi5yZXZpZXdfd29ya3NwYWNlKQoAAAAAAAAAAHEJAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA5QAAAAAAAADlAAAAAAAAAAAAAAAAAPC/"
				],
				[
					34,
					1,
					"paste",
					null,
					"AQAAALQEAAAAAAAARAoAAAAAAAAgAgAAICAgIGRlZiBfYnVpbGRfdWkoc2VsZikgLT4gTm9uZToKICAgICAgICBzZWxmLndvcmtzcGFjZV9zdGFjayA9IFFTdGFja2VkV2lkZ2V0KCkKICAgICAgICBzZWxmLnNldENlbnRyYWxXaWRnZXQoc2VsZi53b3Jrc3BhY2Vfc3RhY2spCgogICAgICAgIHNlbGYuaW5nZXN0X3dvcmtzcGFjZSA9IEluZ2VzdFdvcmtzcGFjZShzZWxmKQogICAgICAgIHNlbGYucmV2aWV3X3dvcmtzcGFjZSA9IFJldmlld1dvcmtzcGFjZShzZWxmKQoKICAgICAgICBzZWxmLndvcmtzcGFjZV9zdGFjay5hZGRXaWRnZXQoc2VsZi5pbmdlc3Rfd29ya3NwYWNlKQogICAgICAgIHNlbGYud29ya3NwYWNlX3N0YWNrLmFkZFdpZGdldChzZWxmLnJldmlld193b3Jrc3BhY2UpCgogICAgICAgICMg8J+UlyBuYXZpZ2F0aW9uIHdpcmluZwogICAgICAgIHNlbGYuaW5nZXN0X3dvcmtzcGFjZS5yZXZpZXdfcmVxdWVzdGVkLmNvbm5lY3Qoc2VsZi5zaG93X3JldmlldykKCiAgICAgICAgc2VsZi53b3Jrc3BhY2Vfc3RhY2suc2V0Q3VycmVudFdpZGdldChzZWxmLmluZ2VzdF93b3Jrc3BhY2UpCg",
					"AQAAAAAAAAABAAAA0QYAAAAAAAC0BAAAAAAAAAAAAAAAAPC/"
				],
				[
					37,
					1,
					"indent",
					null,
					"IgAAALQEAAAAAAAAuAQAAAAAAAAAAAAA1QQAAAAAAADZBAAAAAAAAAAAAAD1BAAAAAAAAPkEAAAAAAAAAAAAABsFAAAAAAAAHwUAAAAAAAAAAAAASQUAAAAAAABNBQAAAAAAAAAAAABnBQAAAAAAAGsFAAAAAAAAAAAAAKQFAAAAAAAAqAUAAAAAAAAAAAAAwQUAAAAAAADFBQAAAAAAAAAAAAD/BQAAAAAAAAMGAAAAAAAAAAAAACAGAAAAAAAAJAYAAAAAAAAAAAAAUQYAAAAAAABVBgAAAAAAAAAAAACBBgAAAAAAAIUGAAAAAAAAAAAAALIGAAAAAAAAtgYAAAAAAAAAAAAA6QYAAAAAAADtBgAAAAAAAAAAAAAMBwAAAAAAABAHAAAAAAAAAAAAACsHAAAAAAAALwcAAAAAAAAAAAAAVQcAAAAAAABZBwAAAAAAAAAAAACBBwAAAAAAAIUHAAAAAAAAAAAAAK0HAAAAAAAAsQcAAAAAAAAAAAAAzAcAAAAAAADQBwAAAAAAAAAAAADwBwAAAAAAAPQHAAAAAAAAAAAAAC0IAAAAAAAAMQgAAAAAAAAAAAAARwgAAAAAAABLCAAAAAAAAAAAAACFCAAAAAAAAIkIAAAAAAAAAAAAALUIAAAAAAAAuQgAAAAAAAAAAAAA5QgAAAAAAADpCAAAAAAAAAAAAAANCQAAAAAAABEJAAAAAAAAAAAAAEoJAAAAAAAATgkAAAAAAAAAAAAAXwkAAAAAAABjCQAAAAAAAAAAAACdCQAAAAAAAKEJAAAAAAAAAAAAANMJAAAAAAAA1wkAAAAAAAAAAAAACgoAAAAAAAAOCgAAAAAAAAAAAABICgAAAAAAAEwKAAAAAAAAAAAAAIcKAAAAAAAAiwoAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAARAoAAAAAAAC1BAAAAAAAAAAAAAAAAPC/"
				],
				[
					38,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABsDQAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSB0eXBpbmcgaW1wb3J0IE9wdGlvbmFsCgpmcm9tIFB5U2lkZTYuUXRDb3JlIGltcG9ydCBRdApmcm9tIFB5U2lkZTYuUXRXaWRnZXRzIGltcG9ydCAoCiAgICBRTWFpbldpbmRvdywKICAgIFFXaWRnZXQsCiAgICBRU3RhY2tlZFdpZGdldCwKICAgIFFWQm94TGF5b3V0LAogICAgUUhCb3hMYXlvdXQsCiAgICBRUHVzaEJ1dHRvbiwKKQoKZnJvbSBzaXRyZXBjMi5ndWkuaW5nZXN0LmluZ2VzdF93b3Jrc3BhY2UgaW1wb3J0IEluZ2VzdFdvcmtzcGFjZQpmcm9tIHNpdHJlcGMyLmd1aS5yZXZpZXcucmV2aWV3X3dvcmtzcGFjZSBpbXBvcnQgUmV2aWV3V29ya3NwYWNlCgoKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiMgTWFpbiBXaW5kb3cKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgpjbGFzcyBNYWluV2luZG93KFFNYWluV2luZG93KToKICAgICIiIgogICAgTWFpbiBhcHBsaWNhdGlvbiB3aW5kb3cgZm9yIHNpdHJlcGMyIEdVSS4KCiAgICBSZXNwb25zaWJpbGl0aWVzOgogICAgLSBPd24gd29ya3NwYWNlIGxpZmVjeWNsZQogICAgLSBIb3N0IHdvcmtzcGFjZSBzdGFjawogICAgLSBDb29yZGluYXRlIGV4cGxpY2l0IG5hdmlnYXRpb24KICAgICIiIgoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHBhcmVudDogT3B0aW9uYWxbUVdpZGdldF0gPSBOb25lKSAtPiBOb25lOgogICAgICAgIHN1cGVyKCkuX19pbml0X18ocGFyZW50KQoKICAgICAgICBzZWxmLnNldFdpbmRvd1RpdGxlKCJzaXRyZXBjMiIpCiAgICAgICAgc2VsZi5yZXNpemUoMTQwMCwgOTAwKQoKICAgICAgICBzZWxmLl9idWlsZF91aSgpCiAgICAgICAgc2VsZi5fd2lyZV9zaWduYWxzKCkKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBVSQogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBkZWYgX2J1aWxkX3VpKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgY2VudHJhbCA9IFFXaWRnZXQoc2VsZikKICAgICAgICBsYXlvdXQgPSBRVkJveExheW91dChjZW50cmFsKQogICAgICAgIGxheW91dC5zZXRDb250ZW50c01hcmdpbnMoMCwgMCwgMCwgMCkKICAgICAgICBsYXlvdXQuc2V0U3BhY2luZygwKQoKICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgIyBXb3Jrc3BhY2Ugc3dpdGNoZXIKICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgICAgIHN3aXRjaGVyID0gUUhCb3hMYXlvdXQoKQogICAgICAgIHN3aXRjaGVyLnNldENvbnRlbnRzTWFyZ2lucyg4LCA2LCA4LCA2KQoKICAgICAgICBzZWxmLmJ0bl9pbmdlc3QgPSBRUHVzaEJ1dHRvbigiSW5nZXN0IikKICAgICAgICBzZWxmLmJ0bl9yZXZpZXcgPSBRUHVzaEJ1dHRvbigiUmV2aWV3IikKCiAgICAgICAgZm9yIGJ0biBpbiAoc2VsZi5idG5faW5nZXN0LCBzZWxmLmJ0bl9yZXZpZXcpOgogICAgICAgICAgICBidG4uc2V0Q2hlY2thYmxlKFRydWUpCiAgICAgICAgICAgIGJ0bi5zZXRGbGF0KFRydWUpCgogICAgICAgIHNlbGYuYnRuX2luZ2VzdC5zZXRDaGVja2VkKFRydWUpCgogICAgICAgIHN3aXRjaGVyLmFkZFdpZGdldChzZWxmLmJ0bl9pbmdlc3QpCiAgICAgICAgc3dpdGNoZXIuYWRkV2lkZ2V0KHNlbGYuYnRuX3JldmlldykKICAgICAgICBzd2l0Y2hlci5hZGRTdHJldGNoKCkKCiAgICAgICAgbGF5b3V0LmFkZExheW91dChzd2l0Y2hlcikKCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgICMgV29ya3NwYWNlIHN0YWNrCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgICAgICBzZWxmLndvcmtzcGFjZV9zdGFjayA9IFFTdGFja2VkV2lkZ2V0KCkKICAgICAgICBsYXlvdXQuYWRkV2lkZ2V0KHNlbGYud29ya3NwYWNlX3N0YWNrKQoKICAgICAgICBzZWxmLnNldENlbnRyYWxXaWRnZXQoY2VudHJhbCkKCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgICMgV29ya3NwYWNlcwogICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICAgICAgc2VsZi5pbmdlc3Rfd29ya3NwYWNlID0gSW5nZXN0V29ya3NwYWNlKHNlbGYpCiAgICAgICAgc2VsZi5yZXZpZXdfd29ya3NwYWNlID0gUmV2aWV3V29ya3NwYWNlKHNlbGYpCgogICAgICAgIHNlbGYud29ya3NwYWNlX3N0YWNrLmFkZFdpZGdldChzZWxmLmluZ2VzdF93b3Jrc3BhY2UpCiAgICAgICAgc2VsZi53b3Jrc3BhY2Vfc3RhY2suYWRkV2lkZ2V0KHNlbGYucmV2aWV3X3dvcmtzcGFjZSkKCiAgICAgICAgc2VsZi53b3Jrc3BhY2Vfc3RhY2suc2V0Q3VycmVudFdpZGdldChzZWxmLmluZ2VzdF93b3Jrc3BhY2UpCgoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIFdpcmluZwogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBkZWYgX3dpcmVfc2lnbmFscyhzZWxmKSAtPiBOb25lOgogICAgICAgIHNlbGYuaW5nZXN0X3dvcmtzcGFjZS5leHRyYWN0aW9uX2NvbXBsZXRlZC5jb25uZWN0KAogICAgICAgICAgICBzZWxmLnNob3dfcmV2aWV3CiAgICAgICAgKQoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIE5hdmlnYXRpb24KICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIHNob3dfaW5nZXN0KHNlbGYpIC0+IE5vbmU6CiAgICAgICAgc2VsZi53b3Jrc3BhY2Vfc3RhY2suc2V0Q3VycmVudFdpZGdldChzZWxmLmluZ2VzdF93b3Jrc3BhY2UpCgogICAgZGVmIHNob3dfcmV2aWV3KHNlbGYpIC0+IE5vbmU6CiAgICAgICAgc2VsZi53b3Jrc3BhY2Vfc3RhY2suc2V0Q3VycmVudFdpZGdldChzZWxmLnJldmlld193b3Jrc3BhY2UpCgAAAAAAAAAAbA0AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAzAoAAAAAAAC5BAAAAAAAAAAAAAAAAPC/"
				],
				[
					41,
					1,
					"paste",
					null,
					"AQAAAG4LAAAAAAAA+wsAAAAAAACHAAAAICAgIGRlZiBfd2lyZV9zaWduYWxzKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgc2VsZi5pbmdlc3Rfd29ya3NwYWNlLmV4dHJhY3Rpb25fY29tcGxldGVkLmNvbm5lY3QoCiAgICAgICAgICAgIHNlbGYuc2hvd19yZXZpZXcKICAgICAgICAp",
					"AQAAAAAAAAABAAAA9QsAAAAAAABuCwAAAAAAAAAAAAAAAPC/"
				],
				[
					44,
					1,
					"indent",
					null,
					"AwAAAG4LAAAAAAAAcgsAAAAAAAAAAAAAkwsAAAAAAACXCwAAAAAAAAAAAADNCwAAAAAAANELAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA+wsAAAAAAABuCwAAAAAAAAAAAAAAAPC/"
				],
				[
					45,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAB+DQAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSB0eXBpbmcgaW1wb3J0IE9wdGlvbmFsCgpmcm9tIFB5U2lkZTYuUXRDb3JlIGltcG9ydCBRdApmcm9tIFB5U2lkZTYuUXRXaWRnZXRzIGltcG9ydCAoCiAgICBRTWFpbldpbmRvdywKICAgIFFXaWRnZXQsCiAgICBRU3RhY2tlZFdpZGdldCwKICAgIFFWQm94TGF5b3V0LAogICAgUUhCb3hMYXlvdXQsCiAgICBRUHVzaEJ1dHRvbiwKKQoKZnJvbSBzaXRyZXBjMi5ndWkuaW5nZXN0LmluZ2VzdF93b3Jrc3BhY2UgaW1wb3J0IEluZ2VzdFdvcmtzcGFjZQpmcm9tIHNpdHJlcGMyLmd1aS5yZXZpZXcucmV2aWV3X3dvcmtzcGFjZSBpbXBvcnQgUmV2aWV3V29ya3NwYWNlCgoKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiMgTWFpbiBXaW5kb3cKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgpjbGFzcyBNYWluV2luZG93KFFNYWluV2luZG93KToKICAgICIiIgogICAgTWFpbiBhcHBsaWNhdGlvbiB3aW5kb3cgZm9yIHNpdHJlcGMyIEdVSS4KCiAgICBSZXNwb25zaWJpbGl0aWVzOgogICAgLSBPd24gd29ya3NwYWNlIGxpZmVjeWNsZQogICAgLSBIb3N0IHdvcmtzcGFjZSBzdGFjawogICAgLSBDb29yZGluYXRlIGV4cGxpY2l0IG5hdmlnYXRpb24KICAgICIiIgoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHBhcmVudDogT3B0aW9uYWxbUVdpZGdldF0gPSBOb25lKSAtPiBOb25lOgogICAgICAgIHN1cGVyKCkuX19pbml0X18ocGFyZW50KQoKICAgICAgICBzZWxmLnNldFdpbmRvd1RpdGxlKCJzaXRyZXBjMiIpCiAgICAgICAgc2VsZi5yZXNpemUoMTQwMCwgOTAwKQoKICAgICAgICBzZWxmLl9idWlsZF91aSgpCiAgICAgICAgc2VsZi5fd2lyZV9zaWduYWxzKCkKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBVSQogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBkZWYgX2J1aWxkX3VpKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgY2VudHJhbCA9IFFXaWRnZXQoc2VsZikKICAgICAgICBsYXlvdXQgPSBRVkJveExheW91dChjZW50cmFsKQogICAgICAgIGxheW91dC5zZXRDb250ZW50c01hcmdpbnMoMCwgMCwgMCwgMCkKICAgICAgICBsYXlvdXQuc2V0U3BhY2luZygwKQoKICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgIyBXb3Jrc3BhY2Ugc3dpdGNoZXIKICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgICAgIHN3aXRjaGVyID0gUUhCb3hMYXlvdXQoKQogICAgICAgIHN3aXRjaGVyLnNldENvbnRlbnRzTWFyZ2lucyg4LCA2LCA4LCA2KQoKICAgICAgICBzZWxmLmJ0bl9pbmdlc3QgPSBRUHVzaEJ1dHRvbigiSW5nZXN0IikKICAgICAgICBzZWxmLmJ0bl9yZXZpZXcgPSBRUHVzaEJ1dHRvbigiUmV2aWV3IikKCiAgICAgICAgZm9yIGJ0biBpbiAoc2VsZi5idG5faW5nZXN0LCBzZWxmLmJ0bl9yZXZpZXcpOgogICAgICAgICAgICBidG4uc2V0Q2hlY2thYmxlKFRydWUpCiAgICAgICAgICAgIGJ0bi5zZXRGbGF0KFRydWUpCgogICAgICAgIHNlbGYuYnRuX2luZ2VzdC5zZXRDaGVja2VkKFRydWUpCgogICAgICAgIHN3aXRjaGVyLmFkZFdpZGdldChzZWxmLmJ0bl9pbmdlc3QpCiAgICAgICAgc3dpdGNoZXIuYWRkV2lkZ2V0KHNlbGYuYnRuX3JldmlldykKICAgICAgICBzd2l0Y2hlci5hZGRTdHJldGNoKCkKCiAgICAgICAgbGF5b3V0LmFkZExheW91dChzd2l0Y2hlcikKCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgICMgV29ya3NwYWNlIHN0YWNrCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgICAgICBzZWxmLndvcmtzcGFjZV9zdGFjayA9IFFTdGFja2VkV2lkZ2V0KCkKICAgICAgICBsYXlvdXQuYWRkV2lkZ2V0KHNlbGYud29ya3NwYWNlX3N0YWNrKQoKICAgICAgICBzZWxmLnNldENlbnRyYWxXaWRnZXQoY2VudHJhbCkKCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgICMgV29ya3NwYWNlcwogICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICAgICAgc2VsZi5pbmdlc3Rfd29ya3NwYWNlID0gSW5nZXN0V29ya3NwYWNlKHNlbGYpCiAgICAgICAgc2VsZi5yZXZpZXdfd29ya3NwYWNlID0gUmV2aWV3V29ya3NwYWNlKHNlbGYpCgogICAgICAgIHNlbGYud29ya3NwYWNlX3N0YWNrLmFkZFdpZGdldChzZWxmLmluZ2VzdF93b3Jrc3BhY2UpCiAgICAgICAgc2VsZi53b3Jrc3BhY2Vfc3RhY2suYWRkV2lkZ2V0KHNlbGYucmV2aWV3X3dvcmtzcGFjZSkKCiAgICAgICAgc2VsZi53b3Jrc3BhY2Vfc3RhY2suc2V0Q3VycmVudFdpZGdldChzZWxmLmluZ2VzdF93b3Jrc3BhY2UpCgoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIFdpcmluZwogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBkZWYgX3dpcmVfc2lnbmFscyhzZWxmKSAtPiBOb25lOgogICAgICAgIHNlbGYuYnRuX2luZ2VzdC5jbGlja2VkLmNvbm5lY3Qoc2VsZi5zaG93X2luZ2VzdCkKICAgICAgICBzZWxmLmJ0bl9yZXZpZXcuY2xpY2tlZC5jb25uZWN0KHNlbGYuc2hvd19yZXZpZXcpCgoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIE5hdmlnYXRpb24KICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIHNob3dfaW5nZXN0KHNlbGYpIC0+IE5vbmU6CiAgICAgICAgc2VsZi53b3Jrc3BhY2Vfc3RhY2suc2V0Q3VycmVudFdpZGdldChzZWxmLmluZ2VzdF93b3Jrc3BhY2UpCgogICAgZGVmIHNob3dfcmV2aWV3KHNlbGYpIC0+IE5vbmU6CiAgICAgICAgc2VsZi53b3Jrc3BhY2Vfc3RhY2suc2V0Q3VycmVudFdpZGdldChzZWxmLnJldmlld193b3Jrc3BhY2UpCgAAAAAAAAAAfg0AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAABwwAAAAAAABuCwAAAAAAAAAAAAAAAPC/"
				],
				[
					48,
					1,
					"paste",
					null,
					"AQAAAK0MAAAAAAAAUw4AAAAAAADRAAAAICAgIGRlZiBzaG93X2luZ2VzdChzZWxmKSAtPiBOb25lOgogICAgICAgIHNlbGYud29ya3NwYWNlX3N0YWNrLnNldEN1cnJlbnRXaWRnZXQoc2VsZi5pbmdlc3Rfd29ya3NwYWNlKQoKICAgIGRlZiBzaG93X3JldmlldyhzZWxmKSAtPiBOb25lOgogICAgICAgIHNlbGYud29ya3NwYWNlX3N0YWNrLnNldEN1cnJlbnRXaWRnZXQoc2VsZi5yZXZpZXdfd29ya3NwYWNlKQo",
					"AQAAAAAAAAABAAAArQwAAAAAAAB+DQAAAAAAAAAAAAAAAPC/"
				],
				[
					51,
					1,
					"indent",
					null,
					"CgAAAK0MAAAAAAAAsQwAAAAAAAAAAAAA0AwAAAAAAADUDAAAAAAAAAAAAAD5DAAAAAAAAP0MAAAAAAAAAAAAACMNAAAAAAAAJw0AAAAAAAAAAAAAaQ0AAAAAAABtDQAAAAAAAAAAAACMDQAAAAAAAJANAAAAAAAAAAAAALYNAAAAAAAAug0AAAAAAAAAAAAA4A0AAAAAAADkDQAAAAAAAAAAAAAJDgAAAAAAAA0OAAAAAAAAAAAAADYOAAAAAAAAOg4AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAUw4AAAAAAACzDAAAAAAAAAAAAAAAAPC/"
				],
				[
					52,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAB7DgAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSB0eXBpbmcgaW1wb3J0IE9wdGlvbmFsCgpmcm9tIFB5U2lkZTYuUXRDb3JlIGltcG9ydCBRdApmcm9tIFB5U2lkZTYuUXRXaWRnZXRzIGltcG9ydCAoCiAgICBRTWFpbldpbmRvdywKICAgIFFXaWRnZXQsCiAgICBRU3RhY2tlZFdpZGdldCwKICAgIFFWQm94TGF5b3V0LAogICAgUUhCb3hMYXlvdXQsCiAgICBRUHVzaEJ1dHRvbiwKKQoKZnJvbSBzaXRyZXBjMi5ndWkuaW5nZXN0LmluZ2VzdF93b3Jrc3BhY2UgaW1wb3J0IEluZ2VzdFdvcmtzcGFjZQpmcm9tIHNpdHJlcGMyLmd1aS5yZXZpZXcucmV2aWV3X3dvcmtzcGFjZSBpbXBvcnQgUmV2aWV3V29ya3NwYWNlCgoKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiMgTWFpbiBXaW5kb3cKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgpjbGFzcyBNYWluV2luZG93KFFNYWluV2luZG93KToKICAgICIiIgogICAgTWFpbiBhcHBsaWNhdGlvbiB3aW5kb3cgZm9yIHNpdHJlcGMyIEdVSS4KCiAgICBSZXNwb25zaWJpbGl0aWVzOgogICAgLSBPd24gd29ya3NwYWNlIGxpZmVjeWNsZQogICAgLSBIb3N0IHdvcmtzcGFjZSBzdGFjawogICAgLSBDb29yZGluYXRlIGV4cGxpY2l0IG5hdmlnYXRpb24KICAgICIiIgoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHBhcmVudDogT3B0aW9uYWxbUVdpZGdldF0gPSBOb25lKSAtPiBOb25lOgogICAgICAgIHN1cGVyKCkuX19pbml0X18ocGFyZW50KQoKICAgICAgICBzZWxmLnNldFdpbmRvd1RpdGxlKCJzaXRyZXBjMiIpCiAgICAgICAgc2VsZi5yZXNpemUoMTQwMCwgOTAwKQoKICAgICAgICBzZWxmLl9idWlsZF91aSgpCiAgICAgICAgc2VsZi5fd2lyZV9zaWduYWxzKCkKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBVSQogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBkZWYgX2J1aWxkX3VpKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgY2VudHJhbCA9IFFXaWRnZXQoc2VsZikKICAgICAgICBsYXlvdXQgPSBRVkJveExheW91dChjZW50cmFsKQogICAgICAgIGxheW91dC5zZXRDb250ZW50c01hcmdpbnMoMCwgMCwgMCwgMCkKICAgICAgICBsYXlvdXQuc2V0U3BhY2luZygwKQoKICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgIyBXb3Jrc3BhY2Ugc3dpdGNoZXIKICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgICAgIHN3aXRjaGVyID0gUUhCb3hMYXlvdXQoKQogICAgICAgIHN3aXRjaGVyLnNldENvbnRlbnRzTWFyZ2lucyg4LCA2LCA4LCA2KQoKICAgICAgICBzZWxmLmJ0bl9pbmdlc3QgPSBRUHVzaEJ1dHRvbigiSW5nZXN0IikKICAgICAgICBzZWxmLmJ0bl9yZXZpZXcgPSBRUHVzaEJ1dHRvbigiUmV2aWV3IikKCiAgICAgICAgZm9yIGJ0biBpbiAoc2VsZi5idG5faW5nZXN0LCBzZWxmLmJ0bl9yZXZpZXcpOgogICAgICAgICAgICBidG4uc2V0Q2hlY2thYmxlKFRydWUpCiAgICAgICAgICAgIGJ0bi5zZXRGbGF0KFRydWUpCgogICAgICAgIHNlbGYuYnRuX2luZ2VzdC5zZXRDaGVja2VkKFRydWUpCgogICAgICAgIHN3aXRjaGVyLmFkZFdpZGdldChzZWxmLmJ0bl9pbmdlc3QpCiAgICAgICAgc3dpdGNoZXIuYWRkV2lkZ2V0KHNlbGYuYnRuX3JldmlldykKICAgICAgICBzd2l0Y2hlci5hZGRTdHJldGNoKCkKCiAgICAgICAgbGF5b3V0LmFkZExheW91dChzd2l0Y2hlcikKCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgICMgV29ya3NwYWNlIHN0YWNrCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgICAgICBzZWxmLndvcmtzcGFjZV9zdGFjayA9IFFTdGFja2VkV2lkZ2V0KCkKICAgICAgICBsYXlvdXQuYWRkV2lkZ2V0KHNlbGYud29ya3NwYWNlX3N0YWNrKQoKICAgICAgICBzZWxmLnNldENlbnRyYWxXaWRnZXQoY2VudHJhbCkKCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgICMgV29ya3NwYWNlcwogICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICAgICAgc2VsZi5pbmdlc3Rfd29ya3NwYWNlID0gSW5nZXN0V29ya3NwYWNlKHNlbGYpCiAgICAgICAgc2VsZi5yZXZpZXdfd29ya3NwYWNlID0gUmV2aWV3V29ya3NwYWNlKHNlbGYpCgogICAgICAgIHNlbGYud29ya3NwYWNlX3N0YWNrLmFkZFdpZGdldChzZWxmLmluZ2VzdF93b3Jrc3BhY2UpCiAgICAgICAgc2VsZi53b3Jrc3BhY2Vfc3RhY2suYWRkV2lkZ2V0KHNlbGYucmV2aWV3X3dvcmtzcGFjZSkKCiAgICAgICAgc2VsZi53b3Jrc3BhY2Vfc3RhY2suc2V0Q3VycmVudFdpZGdldChzZWxmLmluZ2VzdF93b3Jrc3BhY2UpCgoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIFdpcmluZwogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBkZWYgX3dpcmVfc2lnbmFscyhzZWxmKSAtPiBOb25lOgogICAgICAgIHNlbGYuYnRuX2luZ2VzdC5jbGlja2VkLmNvbm5lY3Qoc2VsZi5zaG93X2luZ2VzdCkKICAgICAgICBzZWxmLmJ0bl9yZXZpZXcuY2xpY2tlZC5jb25uZWN0KHNlbGYuc2hvd19yZXZpZXcpCgoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIE5hdmlnYXRpb24KICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIHNob3dfaW5nZXN0KHNlbGYpIC0+IE5vbmU6CiAgICAgICAgc2VsZi5idG5faW5nZXN0LnNldENoZWNrZWQoVHJ1ZSkKICAgICAgICBzZWxmLmJ0bl9yZXZpZXcuc2V0Q2hlY2tlZChGYWxzZSkKICAgICAgICBzZWxmLndvcmtzcGFjZV9zdGFjay5zZXRDdXJyZW50V2lkZ2V0KHNlbGYuaW5nZXN0X3dvcmtzcGFjZSkKCiAgICBkZWYgc2hvd19yZXZpZXcoc2VsZikgLT4gTm9uZToKICAgICAgICBzZWxmLmJ0bl9pbmdlc3Quc2V0Q2hlY2tlZChGYWxzZSkKICAgICAgICBzZWxmLmJ0bl9yZXZpZXcuc2V0Q2hlY2tlZChUcnVlKQoKICAgICAgICAjIHJlZnJlc2ggcmV2aWV3IGRhdGEgZXZlcnkgdGltZQogICAgICAgIHNlbGYucmV2aWV3X3dvcmtzcGFjZS5fbG9hZF9wb3N0cygpCgogICAgICAgIHNlbGYud29ya3NwYWNlX3N0YWNrLnNldEN1cnJlbnRXaWRnZXQoc2VsZi5yZXZpZXdfd29ya3NwYWNlKQoAAAAAAAAAAHsOAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAew4AAAAAAAC3DAAAAAAAAAAAAAAAAPC/"
				],
				[
					53,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAB7DgAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSB0eXBpbmcgaW1wb3J0IE9wdGlvbmFsCgpmcm9tIFB5U2lkZTYuUXRDb3JlIGltcG9ydCBRdApmcm9tIFB5U2lkZTYuUXRXaWRnZXRzIGltcG9ydCAoCiAgICBRTWFpbldpbmRvdywKICAgIFFXaWRnZXQsCiAgICBRU3RhY2tlZFdpZGdldCwKICAgIFFWQm94TGF5b3V0LAogICAgUUhCb3hMYXlvdXQsCiAgICBRUHVzaEJ1dHRvbiwKKQoKZnJvbSBzaXRyZXBjMi5ndWkuaW5nZXN0LmluZ2VzdF93b3Jrc3BhY2UgaW1wb3J0IEluZ2VzdFdvcmtzcGFjZQpmcm9tIHNpdHJlcGMyLmd1aS5yZXZpZXcucmV2aWV3X3dvcmtzcGFjZSBpbXBvcnQgUmV2aWV3V29ya3NwYWNlCgoKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiMgTWFpbiBXaW5kb3cKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgpjbGFzcyBNYWluV2luZG93KFFNYWluV2luZG93KToKICAgICIiIgogICAgTWFpbiBhcHBsaWNhdGlvbiB3aW5kb3cgZm9yIHNpdHJlcGMyIEdVSS4KCiAgICBSZXNwb25zaWJpbGl0aWVzOgogICAgLSBPd24gd29ya3NwYWNlIGxpZmVjeWNsZQogICAgLSBIb3N0IHdvcmtzcGFjZSBzdGFjawogICAgLSBDb29yZGluYXRlIGV4cGxpY2l0IG5hdmlnYXRpb24KICAgICIiIgoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHBhcmVudDogT3B0aW9uYWxbUVdpZGdldF0gPSBOb25lKSAtPiBOb25lOgogICAgICAgIHN1cGVyKCkuX19pbml0X18ocGFyZW50KQoKICAgICAgICBzZWxmLnNldFdpbmRvd1RpdGxlKCJzaXRyZXBjMiIpCiAgICAgICAgc2VsZi5yZXNpemUoMTQwMCwgOTAwKQoKICAgICAgICBzZWxmLl9idWlsZF91aSgpCiAgICAgICAgc2VsZi5fd2lyZV9zaWduYWxzKCkKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBVSQogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBkZWYgX2J1aWxkX3VpKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgY2VudHJhbCA9IFFXaWRnZXQoc2VsZikKICAgICAgICBsYXlvdXQgPSBRVkJveExheW91dChjZW50cmFsKQogICAgICAgIGxheW91dC5zZXRDb250ZW50c01hcmdpbnMoMCwgMCwgMCwgMCkKICAgICAgICBsYXlvdXQuc2V0U3BhY2luZygwKQoKICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgIyBXb3Jrc3BhY2Ugc3dpdGNoZXIKICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgICAgIHN3aXRjaGVyID0gUUhCb3hMYXlvdXQoKQogICAgICAgIHN3aXRjaGVyLnNldENvbnRlbnRzTWFyZ2lucyg4LCA2LCA4LCA2KQoKICAgICAgICBzZWxmLmJ0bl9pbmdlc3QgPSBRUHVzaEJ1dHRvbigiSW5nZXN0IikKICAgICAgICBzZWxmLmJ0bl9yZXZpZXcgPSBRUHVzaEJ1dHRvbigiUmV2aWV3IikKCiAgICAgICAgZm9yIGJ0biBpbiAoc2VsZi5idG5faW5nZXN0LCBzZWxmLmJ0bl9yZXZpZXcpOgogICAgICAgICAgICBidG4uc2V0Q2hlY2thYmxlKFRydWUpCiAgICAgICAgICAgIGJ0bi5zZXRGbGF0KFRydWUpCgogICAgICAgIHNlbGYuYnRuX2luZ2VzdC5zZXRDaGVja2VkKFRydWUpCgogICAgICAgIHN3aXRjaGVyLmFkZFdpZGdldChzZWxmLmJ0bl9pbmdlc3QpCiAgICAgICAgc3dpdGNoZXIuYWRkV2lkZ2V0KHNlbGYuYnRuX3JldmlldykKICAgICAgICBzd2l0Y2hlci5hZGRTdHJldGNoKCkKCiAgICAgICAgbGF5b3V0LmFkZExheW91dChzd2l0Y2hlcikKCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgICMgV29ya3NwYWNlIHN0YWNrCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgICAgICBzZWxmLndvcmtzcGFjZV9zdGFjayA9IFFTdGFja2VkV2lkZ2V0KCkKICAgICAgICBsYXlvdXQuYWRkV2lkZ2V0KHNlbGYud29ya3NwYWNlX3N0YWNrKQoKICAgICAgICBzZWxmLnNldENlbnRyYWxXaWRnZXQoY2VudHJhbCkKCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgICMgV29ya3NwYWNlcwogICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICAgICAgc2VsZi5pbmdlc3Rfd29ya3NwYWNlID0gSW5nZXN0V29ya3NwYWNlKHNlbGYpCiAgICAgICAgc2VsZi5yZXZpZXdfd29ya3NwYWNlID0gUmV2aWV3V29ya3NwYWNlKHNlbGYpCgogICAgICAgIHNlbGYud29ya3NwYWNlX3N0YWNrLmFkZFdpZGdldChzZWxmLmluZ2VzdF93b3Jrc3BhY2UpCiAgICAgICAgc2VsZi53b3Jrc3BhY2Vfc3RhY2suYWRkV2lkZ2V0KHNlbGYucmV2aWV3X3dvcmtzcGFjZSkKCiAgICAgICAgc2VsZi53b3Jrc3BhY2Vfc3RhY2suc2V0Q3VycmVudFdpZGdldChzZWxmLmluZ2VzdF93b3Jrc3BhY2UpCgoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIFdpcmluZwogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBkZWYgX3dpcmVfc2lnbmFscyhzZWxmKSAtPiBOb25lOgogICAgICAgIHNlbGYuYnRuX2luZ2VzdC5jbGlja2VkLmNvbm5lY3Qoc2VsZi5zaG93X2luZ2VzdCkKICAgICAgICBzZWxmLmJ0bl9yZXZpZXcuY2xpY2tlZC5jb25uZWN0KHNlbGYuc2hvd19yZXZpZXcpCgoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIE5hdmlnYXRpb24KICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIHNob3dfaW5nZXN0KHNlbGYpIC0+IE5vbmU6CiAgICAgICAgc2VsZi5idG5faW5nZXN0LnNldENoZWNrZWQoVHJ1ZSkKICAgICAgICBzZWxmLmJ0bl9yZXZpZXcuc2V0Q2hlY2tlZChGYWxzZSkKICAgICAgICBzZWxmLndvcmtzcGFjZV9zdGFjay5zZXRDdXJyZW50V2lkZ2V0KHNlbGYuaW5nZXN0X3dvcmtzcGFjZSkKCiAgICBkZWYgc2hvd19yZXZpZXcoc2VsZikgLT4gTm9uZToKICAgICAgICBzZWxmLmJ0bl9pbmdlc3Quc2V0Q2hlY2tlZChGYWxzZSkKICAgICAgICBzZWxmLmJ0bl9yZXZpZXcuc2V0Q2hlY2tlZChUcnVlKQoKICAgICAgICAjIHJlZnJlc2ggcmV2aWV3IGRhdGEgZXZlcnkgdGltZQogICAgICAgIHNlbGYucmV2aWV3X3dvcmtzcGFjZS5fbG9hZF9wb3N0cygpCgogICAgICAgIHNlbGYud29ya3NwYWNlX3N0YWNrLnNldEN1cnJlbnRXaWRnZXQoc2VsZi5yZXZpZXdfd29ya3NwYWNlKQoAAAAAAAAAAHsOAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAew4AAAAAAAC3DAAAAAAAAAAAAAAAAPC/"
				],
				[
					60,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AQAAAOUAAAAAAAAA5gAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA5QAAAAAAAADlAAAAAAAAAAAAAAAAAPC/"
				],
				[
					61,
					1,
					"paste",
					null,
					"AQAAAOYAAAAAAAAAFgEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA5gAAAAAAAADmAAAAAAAAAAAAAAAAAPC/"
				],
				[
					64,
					1,
					"insert",
					{
						"characters": "\nQToolb"
					},
					"BwAAAOMAAAAAAAAA6AAAAAAAAAAAAAAA6AAAAAAAAADpAAAAAAAAAAAAAADpAAAAAAAAAOoAAAAAAAAAAAAAAOoAAAAAAAAA6wAAAAAAAAAAAAAA6wAAAAAAAADsAAAAAAAAAAAAAADsAAAAAAAAAO0AAAAAAAAAAAAAAO0AAAAAAAAA7gAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA4wAAAAAAAADjAAAAAAAAAAAAAAAAAPC/"
				],
				[
					65,
					1,
					"insert_completion",
					{
						"completion": "QToolBar",
						"format": "text",
						"keep_prefix": false,
						"must_insert": false,
						"trigger": "QToolBar"
					},
					"AgAAAOgAAAAAAAAA6AAAAAAAAAAGAAAAUVRvb2xi6AAAAAAAAADwAAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA7gAAAAAAAADuAAAAAAAAAAAAAAAAAPC/"
				],
				[
					66,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AQAAAPAAAAAAAAAA9QAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA8AAAAAAAAADwAAAAAAAAAAAAAAAAAPC/"
				],
				[
					67,
					2,
					"left_delete",
					null,
					"AgAAAPEAAAAAAAAA8QAAAAAAAAAEAAAAICAgIPAAAAAAAAAA8AAAAAAAAAABAAAACg",
					"AQAAAAAAAAABAAAA9QAAAAAAAAD1AAAAAAAAAAAAAAAAAPC/"
				],
				[
					68,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAAPAAAAAAAAAA8QAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA8AAAAAAAAADwAAAAAAAAAAAAAAAAAPC/"
				],
				[
					69,
					1,
					"insert",
					{
						"characters": "\nQAction"
					},
					"CAAAAPEAAAAAAAAA9gAAAAAAAAAAAAAA9gAAAAAAAAD3AAAAAAAAAAAAAAD3AAAAAAAAAPgAAAAAAAAAAAAAAPgAAAAAAAAA+QAAAAAAAAAAAAAA+QAAAAAAAAD6AAAAAAAAAAAAAAD6AAAAAAAAAPsAAAAAAAAAAAAAAPsAAAAAAAAA/AAAAAAAAAAAAAAA/AAAAAAAAAD9AAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA8QAAAAAAAADxAAAAAAAAAAAAAAAAAPC/"
				],
				[
					72,
					2,
					"left_delete",
					null,
					"AgAAAAABAAAAAAAAAAEAAAAAAAAvAAAAZnJvbSBQeVNpZGU2LlF0V2lkZ2V0cyBpbXBvcnQgUVRvb2xCYXIsIFFBY3Rpb27/AAAAAAAAAP8AAAAAAAAAAQAAAAo",
					"AQAAAAAAAAABAAAALwEAAAAAAAAAAQAAAAAAAAAAAAAAAPC/"
				],
				[
					75,
					1,
					"left_delete",
					null,
					"AQAAAP8AAAAAAAAA/wAAAAAAAAABAAAACg",
					"AQAAAAAAAAABAAAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAPC/"
				],
				[
					76,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACVDgAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSB0eXBpbmcgaW1wb3J0IE9wdGlvbmFsCgpmcm9tIFB5U2lkZTYuUXRDb3JlIGltcG9ydCBRdApmcm9tIFB5U2lkZTYuUXRXaWRnZXRzIGltcG9ydCAoCiAgICBRTWFpbldpbmRvdywKICAgIFFXaWRnZXQsCiAgICBRU3RhY2tlZFdpZGdldCwKICAgIFFWQm94TGF5b3V0LAogICAgUUhCb3hMYXlvdXQsCiAgICBRUHVzaEJ1dHRvbiwKICAgIFFUb29sQmFyLAogICAgUUFjdGlvbgopCgpmcm9tIHNpdHJlcGMyLmd1aS5pbmdlc3QuaW5nZXN0X3dvcmtzcGFjZSBpbXBvcnQgSW5nZXN0V29ya3NwYWNlCmZyb20gc2l0cmVwYzIuZ3VpLnJldmlldy5yZXZpZXdfd29ya3NwYWNlIGltcG9ydCBSZXZpZXdXb3Jrc3BhY2UKCgojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KIyBNYWluIFdpbmRvdwojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCmNsYXNzIE1haW5XaW5kb3coUU1haW5XaW5kb3cpOgogICAgIiIiCiAgICBNYWluIGFwcGxpY2F0aW9uIHdpbmRvdyBmb3Igc2l0cmVwYzIgR1VJLgoKICAgIFJlc3BvbnNpYmlsaXRpZXM6CiAgICAtIE93biB3b3Jrc3BhY2UgbGlmZWN5Y2xlCiAgICAtIEhvc3Qgd29ya3NwYWNlIHN0YWNrCiAgICAtIENvb3JkaW5hdGUgZXhwbGljaXQgbmF2aWdhdGlvbgogICAgIiIiCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBkZWYgX19pbml0X18oc2VsZiwgcGFyZW50OiBPcHRpb25hbFtRV2lkZ2V0XSA9IE5vbmUpIC0+IE5vbmU6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXyhwYXJlbnQpCgogICAgICAgIHNlbGYuc2V0V2luZG93VGl0bGUoInNpdHJlcGMyIikKICAgICAgICBzZWxmLnJlc2l6ZSgxNDAwLCA5MDApCgogICAgICAgIHNlbGYuX2J1aWxkX3VpKCkKICAgICAgICBzZWxmLl93aXJlX3NpZ25hbHMoKQoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIFVJCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGRlZiBfYnVpbGRfdWkoc2VsZikgLT4gTm9uZToKICAgICAgICBjZW50cmFsID0gUVdpZGdldChzZWxmKQogICAgICAgIGxheW91dCA9IFFWQm94TGF5b3V0KGNlbnRyYWwpCiAgICAgICAgbGF5b3V0LnNldENvbnRlbnRzTWFyZ2lucygwLCAwLCAwLCAwKQogICAgICAgIGxheW91dC5zZXRTcGFjaW5nKDApCgogICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICAjIFdvcmtzcGFjZSBzd2l0Y2hlcgogICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICAgICAgc3dpdGNoZXIgPSBRSEJveExheW91dCgpCiAgICAgICAgc3dpdGNoZXIuc2V0Q29udGVudHNNYXJnaW5zKDgsIDYsIDgsIDYpCgogICAgICAgIHNlbGYuYnRuX2luZ2VzdCA9IFFQdXNoQnV0dG9uKCJJbmdlc3QiKQogICAgICAgIHNlbGYuYnRuX3JldmlldyA9IFFQdXNoQnV0dG9uKCJSZXZpZXciKQoKICAgICAgICBmb3IgYnRuIGluIChzZWxmLmJ0bl9pbmdlc3QsIHNlbGYuYnRuX3Jldmlldyk6CiAgICAgICAgICAgIGJ0bi5zZXRDaGVja2FibGUoVHJ1ZSkKICAgICAgICAgICAgYnRuLnNldEZsYXQoVHJ1ZSkKCiAgICAgICAgc2VsZi5idG5faW5nZXN0LnNldENoZWNrZWQoVHJ1ZSkKCiAgICAgICAgc3dpdGNoZXIuYWRkV2lkZ2V0KHNlbGYuYnRuX2luZ2VzdCkKICAgICAgICBzd2l0Y2hlci5hZGRXaWRnZXQoc2VsZi5idG5fcmV2aWV3KQogICAgICAgIHN3aXRjaGVyLmFkZFN0cmV0Y2goKQoKICAgICAgICBsYXlvdXQuYWRkTGF5b3V0KHN3aXRjaGVyKQoKICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgIyBXb3Jrc3BhY2Ugc3RhY2sKICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgICAgIHNlbGYud29ya3NwYWNlX3N0YWNrID0gUVN0YWNrZWRXaWRnZXQoKQogICAgICAgIGxheW91dC5hZGRXaWRnZXQoc2VsZi53b3Jrc3BhY2Vfc3RhY2spCgogICAgICAgIHNlbGYuc2V0Q2VudHJhbFdpZGdldChjZW50cmFsKQoKICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgIyBXb3Jrc3BhY2VzCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgICAgICBzZWxmLmluZ2VzdF93b3Jrc3BhY2UgPSBJbmdlc3RXb3Jrc3BhY2Uoc2VsZikKICAgICAgICBzZWxmLnJldmlld193b3Jrc3BhY2UgPSBSZXZpZXdXb3Jrc3BhY2Uoc2VsZikKCiAgICAgICAgc2VsZi53b3Jrc3BhY2Vfc3RhY2suYWRkV2lkZ2V0KHNlbGYuaW5nZXN0X3dvcmtzcGFjZSkKICAgICAgICBzZWxmLndvcmtzcGFjZV9zdGFjay5hZGRXaWRnZXQoc2VsZi5yZXZpZXdfd29ya3NwYWNlKQoKICAgICAgICBzZWxmLndvcmtzcGFjZV9zdGFjay5zZXRDdXJyZW50V2lkZ2V0KHNlbGYuaW5nZXN0X3dvcmtzcGFjZSkKCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICMgV2lyaW5nCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGRlZiBfd2lyZV9zaWduYWxzKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgc2VsZi5idG5faW5nZXN0LmNsaWNrZWQuY29ubmVjdChzZWxmLnNob3dfaW5nZXN0KQogICAgICAgIHNlbGYuYnRuX3Jldmlldy5jbGlja2VkLmNvbm5lY3Qoc2VsZi5zaG93X3JldmlldykKCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICMgTmF2aWdhdGlvbgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBkZWYgc2hvd19pbmdlc3Qoc2VsZikgLT4gTm9uZToKICAgICAgICBzZWxmLmJ0bl9pbmdlc3Quc2V0Q2hlY2tlZChUcnVlKQogICAgICAgIHNlbGYuYnRuX3Jldmlldy5zZXRDaGVja2VkKEZhbHNlKQogICAgICAgIHNlbGYud29ya3NwYWNlX3N0YWNrLnNldEN1cnJlbnRXaWRnZXQoc2VsZi5pbmdlc3Rfd29ya3NwYWNlKQoKICAgIGRlZiBzaG93X3JldmlldyhzZWxmKSAtPiBOb25lOgogICAgICAgIHNlbGYuYnRuX2luZ2VzdC5zZXRDaGVja2VkKEZhbHNlKQogICAgICAgIHNlbGYuYnRuX3Jldmlldy5zZXRDaGVja2VkKFRydWUpCgogICAgICAgICMgcmVmcmVzaCByZXZpZXcgZGF0YSBldmVyeSB0aW1lCiAgICAgICAgc2VsZi5yZXZpZXdfd29ya3NwYWNlLl9sb2FkX3Bvc3RzKCkKCiAgICAgICAgc2VsZi53b3Jrc3BhY2Vfc3RhY2suc2V0Q3VycmVudFdpZGdldChzZWxmLnJldmlld193b3Jrc3BhY2UpCgAAAAAAAAAAlQ4AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA/wAAAAAAAAD/AAAAAAAAAAAAAAAAAPC/"
				],
				[
					79,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AQAAAOcKAAAAAAAA6AoAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA5woAAAAAAADnCgAAAAAAAAAAAAAAAPC/"
				],
				[
					80,
					1,
					"paste",
					null,
					"AQAAAOgKAAAAAAAANQ0AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA6AoAAAAAAADoCgAAAAAAAAAAAAAAAPC/"
				],
				[
					83,
					1,
					"indent",
					null,
					"DgAAAOgKAAAAAAAA7AoAAAAAAAAAAAAAGAsAAAAAAAAcCwAAAAAAAAAAAABHCwAAAAAAAEsLAAAAAAAAAAAAAGkLAAAAAAAAbQsAAAAAAAAAAAAAiwsAAAAAAACPCwAAAAAAAAAAAADACwAAAAAAAMQLAAAAAAAAAAAAAO8LAAAAAAAA8wsAAAAAAAAAAAAAJAwAAAAAAAAoDAAAAAAAAAAAAABTDAAAAAAAAFcMAAAAAAAAAAAAAIEMAAAAAAAAhQwAAAAAAAAAAAAAsAwAAAAAAAC0DAAAAAAAAAAAAADCDAAAAAAAAMYMAAAAAAAAAAAAAO8MAAAAAAAA8wwAAAAAAAAAAAAALg0AAAAAAAAyDQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAANQ0AAAAAAADyCgAAAAAAAAAAAAAAAPC/"
				],
				[
					84,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAbEQAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSB0eXBpbmcgaW1wb3J0IE9wdGlvbmFsCgpmcm9tIFB5U2lkZTYuUXRDb3JlIGltcG9ydCBRdApmcm9tIFB5U2lkZTYuUXRXaWRnZXRzIGltcG9ydCAoCiAgICBRTWFpbldpbmRvdywKICAgIFFXaWRnZXQsCiAgICBRU3RhY2tlZFdpZGdldCwKICAgIFFWQm94TGF5b3V0LAogICAgUUhCb3hMYXlvdXQsCiAgICBRUHVzaEJ1dHRvbiwKICAgIFFUb29sQmFyLAogICAgUUFjdGlvbgopCgpmcm9tIHNpdHJlcGMyLmd1aS5pbmdlc3QuaW5nZXN0X3dvcmtzcGFjZSBpbXBvcnQgSW5nZXN0V29ya3NwYWNlCmZyb20gc2l0cmVwYzIuZ3VpLnJldmlldy5yZXZpZXdfd29ya3NwYWNlIGltcG9ydCBSZXZpZXdXb3Jrc3BhY2UKCgojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KIyBNYWluIFdpbmRvdwojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCmNsYXNzIE1haW5XaW5kb3coUU1haW5XaW5kb3cpOgogICAgIiIiCiAgICBNYWluIGFwcGxpY2F0aW9uIHdpbmRvdyBmb3Igc2l0cmVwYzIgR1VJLgoKICAgIFJlc3BvbnNpYmlsaXRpZXM6CiAgICAtIE93biB3b3Jrc3BhY2UgbGlmZWN5Y2xlCiAgICAtIEhvc3Qgd29ya3NwYWNlIHN0YWNrCiAgICAtIENvb3JkaW5hdGUgZXhwbGljaXQgbmF2aWdhdGlvbgogICAgIiIiCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBkZWYgX19pbml0X18oc2VsZiwgcGFyZW50OiBPcHRpb25hbFtRV2lkZ2V0XSA9IE5vbmUpIC0+IE5vbmU6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXyhwYXJlbnQpCgogICAgICAgIHNlbGYuc2V0V2luZG93VGl0bGUoInNpdHJlcGMyIikKICAgICAgICBzZWxmLnJlc2l6ZSgxNDAwLCA5MDApCgogICAgICAgIHNlbGYuX2J1aWxkX3VpKCkKICAgICAgICBzZWxmLl93aXJlX3NpZ25hbHMoKQoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIFVJCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGRlZiBfYnVpbGRfdWkoc2VsZikgLT4gTm9uZToKICAgICAgICBjZW50cmFsID0gUVdpZGdldChzZWxmKQogICAgICAgIGxheW91dCA9IFFWQm94TGF5b3V0KGNlbnRyYWwpCiAgICAgICAgbGF5b3V0LnNldENvbnRlbnRzTWFyZ2lucygwLCAwLCAwLCAwKQogICAgICAgIGxheW91dC5zZXRTcGFjaW5nKDApCgogICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICAjIFdvcmtzcGFjZSBzd2l0Y2hlcgogICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICAgICAgc3dpdGNoZXIgPSBRSEJveExheW91dCgpCiAgICAgICAgc3dpdGNoZXIuc2V0Q29udGVudHNNYXJnaW5zKDgsIDYsIDgsIDYpCgogICAgICAgIHNlbGYuYnRuX2luZ2VzdCA9IFFQdXNoQnV0dG9uKCJJbmdlc3QiKQogICAgICAgIHNlbGYuYnRuX3JldmlldyA9IFFQdXNoQnV0dG9uKCJSZXZpZXciKQoKICAgICAgICBmb3IgYnRuIGluIChzZWxmLmJ0bl9pbmdlc3QsIHNlbGYuYnRuX3Jldmlldyk6CiAgICAgICAgICAgIGJ0bi5zZXRDaGVja2FibGUoVHJ1ZSkKICAgICAgICAgICAgYnRuLnNldEZsYXQoVHJ1ZSkKCiAgICAgICAgc2VsZi5idG5faW5nZXN0LnNldENoZWNrZWQoVHJ1ZSkKCiAgICAgICAgc3dpdGNoZXIuYWRkV2lkZ2V0KHNlbGYuYnRuX2luZ2VzdCkKICAgICAgICBzd2l0Y2hlci5hZGRXaWRnZXQoc2VsZi5idG5fcmV2aWV3KQogICAgICAgIHN3aXRjaGVyLmFkZFN0cmV0Y2goKQoKICAgICAgICBsYXlvdXQuYWRkTGF5b3V0KHN3aXRjaGVyKQoKICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgIyBXb3Jrc3BhY2Ugc3RhY2sKICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgICAgIHNlbGYud29ya3NwYWNlX3N0YWNrID0gUVN0YWNrZWRXaWRnZXQoKQogICAgICAgIGxheW91dC5hZGRXaWRnZXQoc2VsZi53b3Jrc3BhY2Vfc3RhY2spCgogICAgICAgIHNlbGYuc2V0Q2VudHJhbFdpZGdldChjZW50cmFsKQoKICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgIyBXb3Jrc3BhY2VzCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgICAgICBzZWxmLmluZ2VzdF93b3Jrc3BhY2UgPSBJbmdlc3RXb3Jrc3BhY2Uoc2VsZikKICAgICAgICBzZWxmLnJldmlld193b3Jrc3BhY2UgPSBSZXZpZXdXb3Jrc3BhY2Uoc2VsZikKCiAgICAgICAgc2VsZi53b3Jrc3BhY2Vfc3RhY2suYWRkV2lkZ2V0KHNlbGYuaW5nZXN0X3dvcmtzcGFjZSkKICAgICAgICBzZWxmLndvcmtzcGFjZV9zdGFjay5hZGRXaWRnZXQoc2VsZi5yZXZpZXdfd29ya3NwYWNlKQoKICAgICAgICBzZWxmLndvcmtzcGFjZV9zdGFjay5zZXRDdXJyZW50V2lkZ2V0KHNlbGYuaW5nZXN0X3dvcmtzcGFjZSkKCgogICAgZGVmIF9idWlsZF93b3Jrc3BhY2VfdG9vbGJhcihzZWxmKSAtPiBOb25lOgogICAgICAgIHRvb2xiYXIgPSBRVG9vbEJhcigiV29ya3NwYWNlcyIsIHNlbGYpCiAgICAgICAgdG9vbGJhci5zZXRNb3ZhYmxlKEZhbHNlKQogICAgICAgIHNlbGYuYWRkVG9vbEJhcih0b29sYmFyKQoKICAgICAgICBzZWxmLmFjdGlvbl9pbmdlc3QgPSBRQWN0aW9uKCJJbmdlc3QiLCBzZWxmKQogICAgICAgIHNlbGYuYWN0aW9uX2luZ2VzdC5zZXRDaGVja2FibGUoVHJ1ZSkKCiAgICAgICAgc2VsZi5hY3Rpb25fcmV2aWV3ID0gUUFjdGlvbigiUmV2aWV3Iiwgc2VsZikKICAgICAgICBzZWxmLmFjdGlvbl9yZXZpZXcuc2V0Q2hlY2thYmxlKFRydWUpCgogICAgICAgIHRvb2xiYXIuYWRkQWN0aW9uKHNlbGYuYWN0aW9uX2luZ2VzdCkKICAgICAgICB0b29sYmFyLmFkZEFjdGlvbihzZWxmLmFjdGlvbl9yZXZpZXcpCgogICAgICAgICMgRGVmYXVsdAogICAgICAgIHNlbGYuYWN0aW9uX2luZ2VzdC5zZXRDaGVja2VkKFRydWUpCgogICAgICAgIHNlbGYuYWN0aW9uX2luZ2VzdC50cmlnZ2VyZWQuY29ubmVjdChzZWxmLnNob3dfaW5nZXN0KQogICAgICAgIHNlbGYuYWN0aW9uX3Jldmlldy50cmlnZ2VyZWQuY29ubmVjdChzZWxmLnNob3dfcmV2aWV3KQoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIFdpcmluZwogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBkZWYgX3dpcmVfc2lnbmFscyhzZWxmKSAtPiBOb25lOgogICAgICAgIHNlbGYuYnRuX2luZ2VzdC5jbGlja2VkLmNvbm5lY3Qoc2VsZi5zaG93X2luZ2VzdCkKICAgICAgICBzZWxmLmJ0bl9yZXZpZXcuY2xpY2tlZC5jb25uZWN0KHNlbGYuc2hvd19yZXZpZXcpCgoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIE5hdmlnYXRpb24KICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIHNob3dfaW5nZXN0KHNlbGYpIC0+IE5vbmU6CiAgICAgICAgc2VsZi5idG5faW5nZXN0LnNldENoZWNrZWQoVHJ1ZSkKICAgICAgICBzZWxmLmJ0bl9yZXZpZXcuc2V0Q2hlY2tlZChGYWxzZSkKICAgICAgICBzZWxmLndvcmtzcGFjZV9zdGFjay5zZXRDdXJyZW50V2lkZ2V0KHNlbGYuaW5nZXN0X3dvcmtzcGFjZSkKCiAgICBkZWYgc2hvd19yZXZpZXcoc2VsZikgLT4gTm9uZToKICAgICAgICBzZWxmLmJ0bl9pbmdlc3Quc2V0Q2hlY2tlZChGYWxzZSkKICAgICAgICBzZWxmLmJ0bl9yZXZpZXcuc2V0Q2hlY2tlZChUcnVlKQoKICAgICAgICAjIHJlZnJlc2ggcmV2aWV3IGRhdGEgZXZlcnkgdGltZQogICAgICAgIHNlbGYucmV2aWV3X3dvcmtzcGFjZS5fbG9hZF9wb3N0cygpCgogICAgICAgIHNlbGYud29ya3NwYWNlX3N0YWNrLnNldEN1cnJlbnRXaWRnZXQoc2VsZi5yZXZpZXdfd29ya3NwYWNlKQoAAAAAAAAAABsRAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAbQ0AAAAAAAD2CgAAAAAAAAAAAAAAAPC/"
				],
				[
					97,
					1,
					"paste",
					null,
					"AQAAAM4EAAAAAAAAiAYAAAAAAAAYBgAAICAgIGRlZiBfYnVpbGRfdWkoc2VsZikgLT4gTm9uZToKICAgICAgICBjZW50cmFsID0gUVdpZGdldChzZWxmKQogICAgICAgIGxheW91dCA9IFFWQm94TGF5b3V0KGNlbnRyYWwpCiAgICAgICAgbGF5b3V0LnNldENvbnRlbnRzTWFyZ2lucygwLCAwLCAwLCAwKQogICAgICAgIGxheW91dC5zZXRTcGFjaW5nKDApCgogICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICAjIFdvcmtzcGFjZSBzd2l0Y2hlcgogICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICAgICAgc3dpdGNoZXIgPSBRSEJveExheW91dCgpCiAgICAgICAgc3dpdGNoZXIuc2V0Q29udGVudHNNYXJnaW5zKDgsIDYsIDgsIDYpCgogICAgICAgIHNlbGYuYnRuX2luZ2VzdCA9IFFQdXNoQnV0dG9uKCJJbmdlc3QiKQogICAgICAgIHNlbGYuYnRuX3JldmlldyA9IFFQdXNoQnV0dG9uKCJSZXZpZXciKQoKICAgICAgICBmb3IgYnRuIGluIChzZWxmLmJ0bl9pbmdlc3QsIHNlbGYuYnRuX3Jldmlldyk6CiAgICAgICAgICAgIGJ0bi5zZXRDaGVja2FibGUoVHJ1ZSkKICAgICAgICAgICAgYnRuLnNldEZsYXQoVHJ1ZSkKCiAgICAgICAgc2VsZi5idG5faW5nZXN0LnNldENoZWNrZWQoVHJ1ZSkKCiAgICAgICAgc3dpdGNoZXIuYWRkV2lkZ2V0KHNlbGYuYnRuX2luZ2VzdCkKICAgICAgICBzd2l0Y2hlci5hZGRXaWRnZXQoc2VsZi5idG5fcmV2aWV3KQogICAgICAgIHN3aXRjaGVyLmFkZFN0cmV0Y2goKQoKICAgICAgICBsYXlvdXQuYWRkTGF5b3V0KHN3aXRjaGVyKQoKICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgIyBXb3Jrc3BhY2Ugc3RhY2sKICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgICAgIHNlbGYud29ya3NwYWNlX3N0YWNrID0gUVN0YWNrZWRXaWRnZXQoKQogICAgICAgIGxheW91dC5hZGRXaWRnZXQoc2VsZi53b3Jrc3BhY2Vfc3RhY2spCgogICAgICAgIHNlbGYuc2V0Q2VudHJhbFdpZGdldChjZW50cmFsKQoKICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgIyBXb3Jrc3BhY2VzCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgICAgICBzZWxmLmluZ2VzdF93b3Jrc3BhY2UgPSBJbmdlc3RXb3Jrc3BhY2Uoc2VsZikKICAgICAgICBzZWxmLnJldmlld193b3Jrc3BhY2UgPSBSZXZpZXdXb3Jrc3BhY2Uoc2VsZikKCiAgICAgICAgc2VsZi53b3Jrc3BhY2Vfc3RhY2suYWRkV2lkZ2V0KHNlbGYuaW5nZXN0X3dvcmtzcGFjZSkKICAgICAgICBzZWxmLndvcmtzcGFjZV9zdGFjay5hZGRXaWRnZXQoc2VsZi5yZXZpZXdfd29ya3NwYWNlKQoKICAgICAgICBzZWxmLndvcmtzcGFjZV9zdGFjay5zZXRDdXJyZW50V2lkZ2V0KHNlbGYuaW5nZXN0X3dvcmtzcGFjZSkK",
					"AQAAAAAAAAABAAAA5goAAAAAAADOBAAAAAAAAAAAAAAAAPC/"
				],
				[
					100,
					1,
					"indent",
					null,
					"CQAAAM4EAAAAAAAA0gQAAAAAAAAAAAAA7wQAAAAAAADzBAAAAAAAAAAAAAAfBQAAAAAAACMFAAAAAAAAAAAAAFQFAAAAAAAAWAUAAAAAAAAAAAAAigUAAAAAAACOBQAAAAAAAAAAAADBBQAAAAAAAMUFAAAAAAAAAAAAAP8FAAAAAAAAAwYAAAAAAAAAAAAAPgYAAAAAAABCBgAAAAAAAAAAAABnBgAAAAAAAGsGAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAiAYAAAAAAADNBAAAAAAAAAAAAAAAAPC/"
				],
				[
					101,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAADhDAAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSB0eXBpbmcgaW1wb3J0IE9wdGlvbmFsCgpmcm9tIFB5U2lkZTYuUXRDb3JlIGltcG9ydCBRdApmcm9tIFB5U2lkZTYuUXRXaWRnZXRzIGltcG9ydCAoCiAgICBRTWFpbldpbmRvdywKICAgIFFXaWRnZXQsCiAgICBRU3RhY2tlZFdpZGdldCwKICAgIFFWQm94TGF5b3V0LAogICAgUUhCb3hMYXlvdXQsCiAgICBRUHVzaEJ1dHRvbiwKICAgIFFUb29sQmFyLAogICAgUUFjdGlvbgopCgpmcm9tIHNpdHJlcGMyLmd1aS5pbmdlc3QuaW5nZXN0X3dvcmtzcGFjZSBpbXBvcnQgSW5nZXN0V29ya3NwYWNlCmZyb20gc2l0cmVwYzIuZ3VpLnJldmlldy5yZXZpZXdfd29ya3NwYWNlIGltcG9ydCBSZXZpZXdXb3Jrc3BhY2UKCgojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KIyBNYWluIFdpbmRvdwojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCmNsYXNzIE1haW5XaW5kb3coUU1haW5XaW5kb3cpOgogICAgIiIiCiAgICBNYWluIGFwcGxpY2F0aW9uIHdpbmRvdyBmb3Igc2l0cmVwYzIgR1VJLgoKICAgIFJlc3BvbnNpYmlsaXRpZXM6CiAgICAtIE93biB3b3Jrc3BhY2UgbGlmZWN5Y2xlCiAgICAtIEhvc3Qgd29ya3NwYWNlIHN0YWNrCiAgICAtIENvb3JkaW5hdGUgZXhwbGljaXQgbmF2aWdhdGlvbgogICAgIiIiCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBkZWYgX19pbml0X18oc2VsZiwgcGFyZW50OiBPcHRpb25hbFtRV2lkZ2V0XSA9IE5vbmUpIC0+IE5vbmU6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXyhwYXJlbnQpCgogICAgICAgIHNlbGYuc2V0V2luZG93VGl0bGUoInNpdHJlcGMyIikKICAgICAgICBzZWxmLnJlc2l6ZSgxNDAwLCA5MDApCgogICAgICAgIHNlbGYuX2J1aWxkX3VpKCkKICAgICAgICBzZWxmLl93aXJlX3NpZ25hbHMoKQoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIFVJCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGRlZiBfYnVpbGRfdWkoc2VsZikgLT4gTm9uZToKICAgICAgICBzZWxmLndvcmtzcGFjZV9zdGFjayA9IFFTdGFja2VkV2lkZ2V0KCkKICAgICAgICBzZWxmLnNldENlbnRyYWxXaWRnZXQoc2VsZi53b3Jrc3BhY2Vfc3RhY2spCgogICAgICAgIHNlbGYuaW5nZXN0X3dvcmtzcGFjZSA9IEluZ2VzdFdvcmtzcGFjZShzZWxmKQogICAgICAgIHNlbGYucmV2aWV3X3dvcmtzcGFjZSA9IFJldmlld1dvcmtzcGFjZShzZWxmKQoKICAgICAgICBzZWxmLndvcmtzcGFjZV9zdGFjay5hZGRXaWRnZXQoc2VsZi5pbmdlc3Rfd29ya3NwYWNlKQogICAgICAgIHNlbGYud29ya3NwYWNlX3N0YWNrLmFkZFdpZGdldChzZWxmLnJldmlld193b3Jrc3BhY2UpCgogICAgICAgIHNlbGYuX2J1aWxkX3dvcmtzcGFjZV90b29sYmFyKCkKCiAgICAgICAgc2VsZi53b3Jrc3BhY2Vfc3RhY2suc2V0Q3VycmVudFdpZGdldChzZWxmLmluZ2VzdF93b3Jrc3BhY2UpCgoKICAgIGRlZiBfYnVpbGRfd29ya3NwYWNlX3Rvb2xiYXIoc2VsZikgLT4gTm9uZToKICAgICAgICB0b29sYmFyID0gUVRvb2xCYXIoIldvcmtzcGFjZXMiLCBzZWxmKQogICAgICAgIHRvb2xiYXIuc2V0TW92YWJsZShGYWxzZSkKICAgICAgICBzZWxmLmFkZFRvb2xCYXIodG9vbGJhcikKCiAgICAgICAgc2VsZi5hY3Rpb25faW5nZXN0ID0gUUFjdGlvbigiSW5nZXN0Iiwgc2VsZikKICAgICAgICBzZWxmLmFjdGlvbl9pbmdlc3Quc2V0Q2hlY2thYmxlKFRydWUpCgogICAgICAgIHNlbGYuYWN0aW9uX3JldmlldyA9IFFBY3Rpb24oIlJldmlldyIsIHNlbGYpCiAgICAgICAgc2VsZi5hY3Rpb25fcmV2aWV3LnNldENoZWNrYWJsZShUcnVlKQoKICAgICAgICB0b29sYmFyLmFkZEFjdGlvbihzZWxmLmFjdGlvbl9pbmdlc3QpCiAgICAgICAgdG9vbGJhci5hZGRBY3Rpb24oc2VsZi5hY3Rpb25fcmV2aWV3KQoKICAgICAgICAjIERlZmF1bHQKICAgICAgICBzZWxmLmFjdGlvbl9pbmdlc3Quc2V0Q2hlY2tlZChUcnVlKQoKICAgICAgICBzZWxmLmFjdGlvbl9pbmdlc3QudHJpZ2dlcmVkLmNvbm5lY3Qoc2VsZi5zaG93X2luZ2VzdCkKICAgICAgICBzZWxmLmFjdGlvbl9yZXZpZXcudHJpZ2dlcmVkLmNvbm5lY3Qoc2VsZi5zaG93X3JldmlldykKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBXaXJpbmcKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIF93aXJlX3NpZ25hbHMoc2VsZikgLT4gTm9uZToKICAgICAgICBzZWxmLmJ0bl9pbmdlc3QuY2xpY2tlZC5jb25uZWN0KHNlbGYuc2hvd19pbmdlc3QpCiAgICAgICAgc2VsZi5idG5fcmV2aWV3LmNsaWNrZWQuY29ubmVjdChzZWxmLnNob3dfcmV2aWV3KQoKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBOYXZpZ2F0aW9uCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGRlZiBzaG93X2luZ2VzdChzZWxmKSAtPiBOb25lOgogICAgICAgIHNlbGYuYnRuX2luZ2VzdC5zZXRDaGVja2VkKFRydWUpCiAgICAgICAgc2VsZi5idG5fcmV2aWV3LnNldENoZWNrZWQoRmFsc2UpCiAgICAgICAgc2VsZi53b3Jrc3BhY2Vfc3RhY2suc2V0Q3VycmVudFdpZGdldChzZWxmLmluZ2VzdF93b3Jrc3BhY2UpCgogICAgZGVmIHNob3dfcmV2aWV3KHNlbGYpIC0+IE5vbmU6CiAgICAgICAgc2VsZi5idG5faW5nZXN0LnNldENoZWNrZWQoRmFsc2UpCiAgICAgICAgc2VsZi5idG5fcmV2aWV3LnNldENoZWNrZWQoVHJ1ZSkKCiAgICAgICAgIyByZWZyZXNoIHJldmlldyBkYXRhIGV2ZXJ5IHRpbWUKICAgICAgICBzZWxmLnJldmlld193b3Jrc3BhY2UuX2xvYWRfcG9zdHMoKQoKICAgICAgICBzZWxmLndvcmtzcGFjZV9zdGFjay5zZXRDdXJyZW50V2lkZ2V0KHNlbGYucmV2aWV3X3dvcmtzcGFjZSkKAAAAAAAAAADhDAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAArAYAAAAAAADNBAAAAAAAAAAAAAAAAPC/"
				],
				[
					104,
					1,
					"paste",
					null,
					"AQAAABILAAAAAAAAdQwAAAAAAADPAQAACiAgICBkZWYgc2hvd19pbmdlc3Qoc2VsZikgLT4gTm9uZToKICAgICAgICBzZWxmLmJ0bl9pbmdlc3Quc2V0Q2hlY2tlZChUcnVlKQogICAgICAgIHNlbGYuYnRuX3Jldmlldy5zZXRDaGVja2VkKEZhbHNlKQogICAgICAgIHNlbGYud29ya3NwYWNlX3N0YWNrLnNldEN1cnJlbnRXaWRnZXQoc2VsZi5pbmdlc3Rfd29ya3NwYWNlKQoKICAgIGRlZiBzaG93X3JldmlldyhzZWxmKSAtPiBOb25lOgogICAgICAgIHNlbGYuYnRuX2luZ2VzdC5zZXRDaGVja2VkKEZhbHNlKQogICAgICAgIHNlbGYuYnRuX3Jldmlldy5zZXRDaGVja2VkKFRydWUpCgogICAgICAgICMgcmVmcmVzaCByZXZpZXcgZGF0YSBldmVyeSB0aW1lCiAgICAgICAgc2VsZi5yZXZpZXdfd29ya3NwYWNlLl9sb2FkX3Bvc3RzKCkKCiAgICAgICAgc2VsZi53b3Jrc3BhY2Vfc3RhY2suc2V0Q3VycmVudFdpZGdldChzZWxmLnJldmlld193b3Jrc3BhY2UpCg",
					"AQAAAAAAAAABAAAAEgsAAAAAAADhDAAAAAAAAAAAAAAAAPC/"
				],
				[
					107,
					1,
					"indent",
					null,
					"CAAAABILAAAAAAAAFgsAAAAAAAAAAAAANQsAAAAAAAA5CwAAAAAAAAAAAAB6CwAAAAAAAH4LAAAAAAAAAAAAAKYLAAAAAAAAqgsAAAAAAAAAAAAA1AsAAAAAAADYCwAAAAAAAAAAAAD3CwAAAAAAAPsLAAAAAAAAAAAAADwMAAAAAAAAQAwAAAAAAAAAAAAAaQwAAAAAAABtDAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAdQwAAAAAAAAeCwAAAAAAAAAAAAAAAPC/"
				],
				[
					108,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACVDAAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSB0eXBpbmcgaW1wb3J0IE9wdGlvbmFsCgpmcm9tIFB5U2lkZTYuUXRDb3JlIGltcG9ydCBRdApmcm9tIFB5U2lkZTYuUXRXaWRnZXRzIGltcG9ydCAoCiAgICBRTWFpbldpbmRvdywKICAgIFFXaWRnZXQsCiAgICBRU3RhY2tlZFdpZGdldCwKICAgIFFWQm94TGF5b3V0LAogICAgUUhCb3hMYXlvdXQsCiAgICBRUHVzaEJ1dHRvbiwKICAgIFFUb29sQmFyLAogICAgUUFjdGlvbgopCgpmcm9tIHNpdHJlcGMyLmd1aS5pbmdlc3QuaW5nZXN0X3dvcmtzcGFjZSBpbXBvcnQgSW5nZXN0V29ya3NwYWNlCmZyb20gc2l0cmVwYzIuZ3VpLnJldmlldy5yZXZpZXdfd29ya3NwYWNlIGltcG9ydCBSZXZpZXdXb3Jrc3BhY2UKCgojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KIyBNYWluIFdpbmRvdwojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCmNsYXNzIE1haW5XaW5kb3coUU1haW5XaW5kb3cpOgogICAgIiIiCiAgICBNYWluIGFwcGxpY2F0aW9uIHdpbmRvdyBmb3Igc2l0cmVwYzIgR1VJLgoKICAgIFJlc3BvbnNpYmlsaXRpZXM6CiAgICAtIE93biB3b3Jrc3BhY2UgbGlmZWN5Y2xlCiAgICAtIEhvc3Qgd29ya3NwYWNlIHN0YWNrCiAgICAtIENvb3JkaW5hdGUgZXhwbGljaXQgbmF2aWdhdGlvbgogICAgIiIiCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBkZWYgX19pbml0X18oc2VsZiwgcGFyZW50OiBPcHRpb25hbFtRV2lkZ2V0XSA9IE5vbmUpIC0+IE5vbmU6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXyhwYXJlbnQpCgogICAgICAgIHNlbGYuc2V0V2luZG93VGl0bGUoInNpdHJlcGMyIikKICAgICAgICBzZWxmLnJlc2l6ZSgxNDAwLCA5MDApCgogICAgICAgIHNlbGYuX2J1aWxkX3VpKCkKICAgICAgICBzZWxmLl93aXJlX3NpZ25hbHMoKQoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIFVJCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGRlZiBfYnVpbGRfdWkoc2VsZikgLT4gTm9uZToKICAgICAgICBzZWxmLndvcmtzcGFjZV9zdGFjayA9IFFTdGFja2VkV2lkZ2V0KCkKICAgICAgICBzZWxmLnNldENlbnRyYWxXaWRnZXQoc2VsZi53b3Jrc3BhY2Vfc3RhY2spCgogICAgICAgIHNlbGYuaW5nZXN0X3dvcmtzcGFjZSA9IEluZ2VzdFdvcmtzcGFjZShzZWxmKQogICAgICAgIHNlbGYucmV2aWV3X3dvcmtzcGFjZSA9IFJldmlld1dvcmtzcGFjZShzZWxmKQoKICAgICAgICBzZWxmLndvcmtzcGFjZV9zdGFjay5hZGRXaWRnZXQoc2VsZi5pbmdlc3Rfd29ya3NwYWNlKQogICAgICAgIHNlbGYud29ya3NwYWNlX3N0YWNrLmFkZFdpZGdldChzZWxmLnJldmlld193b3Jrc3BhY2UpCgogICAgICAgIHNlbGYuX2J1aWxkX3dvcmtzcGFjZV90b29sYmFyKCkKCiAgICAgICAgc2VsZi53b3Jrc3BhY2Vfc3RhY2suc2V0Q3VycmVudFdpZGdldChzZWxmLmluZ2VzdF93b3Jrc3BhY2UpCgoKICAgIGRlZiBfYnVpbGRfd29ya3NwYWNlX3Rvb2xiYXIoc2VsZikgLT4gTm9uZToKICAgICAgICB0b29sYmFyID0gUVRvb2xCYXIoIldvcmtzcGFjZXMiLCBzZWxmKQogICAgICAgIHRvb2xiYXIuc2V0TW92YWJsZShGYWxzZSkKICAgICAgICBzZWxmLmFkZFRvb2xCYXIodG9vbGJhcikKCiAgICAgICAgc2VsZi5hY3Rpb25faW5nZXN0ID0gUUFjdGlvbigiSW5nZXN0Iiwgc2VsZikKICAgICAgICBzZWxmLmFjdGlvbl9pbmdlc3Quc2V0Q2hlY2thYmxlKFRydWUpCgogICAgICAgIHNlbGYuYWN0aW9uX3JldmlldyA9IFFBY3Rpb24oIlJldmlldyIsIHNlbGYpCiAgICAgICAgc2VsZi5hY3Rpb25fcmV2aWV3LnNldENoZWNrYWJsZShUcnVlKQoKICAgICAgICB0b29sYmFyLmFkZEFjdGlvbihzZWxmLmFjdGlvbl9pbmdlc3QpCiAgICAgICAgdG9vbGJhci5hZGRBY3Rpb24oc2VsZi5hY3Rpb25fcmV2aWV3KQoKICAgICAgICAjIERlZmF1bHQKICAgICAgICBzZWxmLmFjdGlvbl9pbmdlc3Quc2V0Q2hlY2tlZChUcnVlKQoKICAgICAgICBzZWxmLmFjdGlvbl9pbmdlc3QudHJpZ2dlcmVkLmNvbm5lY3Qoc2VsZi5zaG93X2luZ2VzdCkKICAgICAgICBzZWxmLmFjdGlvbl9yZXZpZXcudHJpZ2dlcmVkLmNvbm5lY3Qoc2VsZi5zaG93X3JldmlldykKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBXaXJpbmcKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIF93aXJlX3NpZ25hbHMoc2VsZikgLT4gTm9uZToKICAgICAgICBzZWxmLmJ0bl9pbmdlc3QuY2xpY2tlZC5jb25uZWN0KHNlbGYuc2hvd19pbmdlc3QpCiAgICAgICAgc2VsZi5idG5fcmV2aWV3LmNsaWNrZWQuY29ubmVjdChzZWxmLnNob3dfcmV2aWV3KQoKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBOYXZpZ2F0aW9uCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgZGVmIHNob3dfaW5nZXN0KHNlbGYpIC0+IE5vbmU6CiAgICAgICAgc2VsZi53b3Jrc3BhY2Vfc3RhY2suc2V0Q3VycmVudFdpZGdldChzZWxmLmluZ2VzdF93b3Jrc3BhY2UpCiAgICAgICAgc2VsZi5hY3Rpb25faW5nZXN0LnNldENoZWNrZWQoVHJ1ZSkKICAgICAgICBzZWxmLmFjdGlvbl9yZXZpZXcuc2V0Q2hlY2tlZChGYWxzZSkKCiAgICBkZWYgc2hvd19yZXZpZXcoc2VsZikgLT4gTm9uZToKICAgICAgICBzZWxmLndvcmtzcGFjZV9zdGFjay5zZXRDdXJyZW50V2lkZ2V0KHNlbGYucmV2aWV3X3dvcmtzcGFjZSkKICAgICAgICBzZWxmLmFjdGlvbl9pbmdlc3Quc2V0Q2hlY2tlZChGYWxzZSkKICAgICAgICBzZWxmLmFjdGlvbl9yZXZpZXcuc2V0Q2hlY2tlZChUcnVlKQoAAAAAAAAAAJUMAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAlQwAAAAAAAAiCwAAAAAAAAAAAAAAAPC/"
				],
				[
					111,
					2,
					"left_delete",
					null,
					"AgAAAPIAAAAAAAAA8gAAAAAAAAALAAAAICAgIFFBY3Rpb27xAAAAAAAAAPEAAAAAAAAAAQAAAAo",
					"AQAAAAAAAAABAAAA/QAAAAAAAADyAAAAAAAAAAAAAAAAAPC/"
				],
				[
					114,
					1,
					"insert",
					{
						"characters": "\nfrom"
					},
					"BQAAAF4AAAAAAAAAXwAAAAAAAAAAAAAAXwAAAAAAAABgAAAAAAAAAAAAAABgAAAAAAAAAGEAAAAAAAAAAAAAAGEAAAAAAAAAYgAAAAAAAAAAAAAAYgAAAAAAAABjAAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAXgAAAAAAAABeAAAAAAAAAAAAAAAAAPC/"
				],
				[
					115,
					1,
					"insert",
					{
						"characters": " Pys"
					},
					"BAAAAGMAAAAAAAAAZAAAAAAAAAAAAAAAZAAAAAAAAABlAAAAAAAAAAAAAABlAAAAAAAAAGYAAAAAAAAAAAAAAGYAAAAAAAAAZwAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAYwAAAAAAAABjAAAAAAAAAAAAAAAAAPC/"
				],
				[
					116,
					1,
					"left_delete",
					null,
					"AQAAAGYAAAAAAAAAZgAAAAAAAAABAAAAcw",
					"AQAAAAAAAAABAAAAZwAAAAAAAABnAAAAAAAAAAAAAAAAAPC/"
				],
				[
					117,
					1,
					"insert",
					{
						"characters": "S"
					},
					"AQAAAGYAAAAAAAAAZwAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAZgAAAAAAAABmAAAAAAAAAAAAAAAAAPC/"
				],
				[
					118,
					1,
					"insert_completion",
					{
						"completion": "PySide6",
						"format": "text",
						"keep_prefix": false,
						"must_insert": false,
						"trigger": "PySide6"
					},
					"AgAAAGQAAAAAAAAAZAAAAAAAAAADAAAAUHlTZAAAAAAAAABrAAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAZwAAAAAAAABnAAAAAAAAAAAAAAAAAPC/"
				],
				[
					119,
					1,
					"insert",
					{
						"characters": ".QT"
					},
					"AwAAAGsAAAAAAAAAbAAAAAAAAAAAAAAAbAAAAAAAAABtAAAAAAAAAAAAAABtAAAAAAAAAG4AAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAawAAAAAAAABrAAAAAAAAAAAAAAAAAPC/"
				],
				[
					120,
					1,
					"left_delete",
					null,
					"AQAAAG0AAAAAAAAAbQAAAAAAAAABAAAAVA",
					"AQAAAAAAAAABAAAAbgAAAAAAAABuAAAAAAAAAAAAAAAAAPC/"
				],
				[
					121,
					1,
					"insert",
					{
						"characters": "tGUI"
					},
					"BAAAAG0AAAAAAAAAbgAAAAAAAAAAAAAAbgAAAAAAAABvAAAAAAAAAAAAAABvAAAAAAAAAHAAAAAAAAAAAAAAAHAAAAAAAAAAcQAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAbQAAAAAAAABtAAAAAAAAAAAAAAAAAPC/"
				],
				[
					122,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAHEAAAAAAAAAcgAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAcQAAAAAAAABxAAAAAAAAAAAAAAAAAPC/"
				],
				[
					123,
					2,
					"left_delete",
					null,
					"AgAAAHEAAAAAAAAAcQAAAAAAAAABAAAAIHAAAAAAAAAAcAAAAAAAAAABAAAASQ",
					"AQAAAAAAAAABAAAAcgAAAAAAAAByAAAAAAAAAAAAAAAAAPC/"
				],
				[
					124,
					1,
					"insert",
					{
						"characters": "I"
					},
					"AQAAAHAAAAAAAAAAcQAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAcAAAAAAAAABwAAAAAAAAAAAAAAAAAPC/"
				],
				[
					125,
					1,
					"insert",
					{
						"characters": " impr"
					},
					"BQAAAHEAAAAAAAAAcgAAAAAAAAAAAAAAcgAAAAAAAABzAAAAAAAAAAAAAABzAAAAAAAAAHQAAAAAAAAAAAAAAHQAAAAAAAAAdQAAAAAAAAAAAAAAdQAAAAAAAAB2AAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAcQAAAAAAAABxAAAAAAAAAAAAAAAAAPC/"
				],
				[
					126,
					1,
					"left_delete",
					null,
					"AQAAAHUAAAAAAAAAdQAAAAAAAAABAAAAcg",
					"AQAAAAAAAAABAAAAdgAAAAAAAAB2AAAAAAAAAAAAAAAAAPC/"
				],
				[
					127,
					1,
					"insert",
					{
						"characters": "ort"
					},
					"AwAAAHUAAAAAAAAAdgAAAAAAAAAAAAAAdgAAAAAAAAB3AAAAAAAAAAAAAAB3AAAAAAAAAHgAAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAdQAAAAAAAAB1AAAAAAAAAAAAAAAAAPC/"
				],
				[
					128,
					1,
					"insert",
					{
						"characters": " QAction"
					},
					"CAAAAHgAAAAAAAAAeQAAAAAAAAAAAAAAeQAAAAAAAAB6AAAAAAAAAAAAAAB6AAAAAAAAAHsAAAAAAAAAAAAAAHsAAAAAAAAAfAAAAAAAAAAAAAAAfAAAAAAAAAB9AAAAAAAAAAAAAAB9AAAAAAAAAH4AAAAAAAAAAAAAAH4AAAAAAAAAfwAAAAAAAAAAAAAAfwAAAAAAAACAAAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAeAAAAAAAAAB4AAAAAAAAAAAAAAAAAPC/"
				],
				[
					129,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACrDAAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSB0eXBpbmcgaW1wb3J0IE9wdGlvbmFsCgpmcm9tIFB5U2lkZTYuUXRDb3JlIGltcG9ydCBRdApmcm9tIFB5U2lkZTYuUXRHVUkgaW1wb3J0IFFBY3Rpb24KZnJvbSBQeVNpZGU2LlF0V2lkZ2V0cyBpbXBvcnQgKAogICAgUU1haW5XaW5kb3csCiAgICBRV2lkZ2V0LAogICAgUVN0YWNrZWRXaWRnZXQsCiAgICBRVkJveExheW91dCwKICAgIFFIQm94TGF5b3V0LAogICAgUVB1c2hCdXR0b24sCiAgICBRVG9vbEJhciwKKQoKZnJvbSBzaXRyZXBjMi5ndWkuaW5nZXN0LmluZ2VzdF93b3Jrc3BhY2UgaW1wb3J0IEluZ2VzdFdvcmtzcGFjZQpmcm9tIHNpdHJlcGMyLmd1aS5yZXZpZXcucmV2aWV3X3dvcmtzcGFjZSBpbXBvcnQgUmV2aWV3V29ya3NwYWNlCgoKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiMgTWFpbiBXaW5kb3cKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgpjbGFzcyBNYWluV2luZG93KFFNYWluV2luZG93KToKICAgICIiIgogICAgTWFpbiBhcHBsaWNhdGlvbiB3aW5kb3cgZm9yIHNpdHJlcGMyIEdVSS4KCiAgICBSZXNwb25zaWJpbGl0aWVzOgogICAgLSBPd24gd29ya3NwYWNlIGxpZmVjeWNsZQogICAgLSBIb3N0IHdvcmtzcGFjZSBzdGFjawogICAgLSBDb29yZGluYXRlIGV4cGxpY2l0IG5hdmlnYXRpb24KICAgICIiIgoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHBhcmVudDogT3B0aW9uYWxbUVdpZGdldF0gPSBOb25lKSAtPiBOb25lOgogICAgICAgIHN1cGVyKCkuX19pbml0X18ocGFyZW50KQoKICAgICAgICBzZWxmLnNldFdpbmRvd1RpdGxlKCJzaXRyZXBjMiIpCiAgICAgICAgc2VsZi5yZXNpemUoMTQwMCwgOTAwKQoKICAgICAgICBzZWxmLl9idWlsZF91aSgpCiAgICAgICAgc2VsZi5fd2lyZV9zaWduYWxzKCkKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBVSQogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBkZWYgX2J1aWxkX3VpKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgc2VsZi53b3Jrc3BhY2Vfc3RhY2sgPSBRU3RhY2tlZFdpZGdldCgpCiAgICAgICAgc2VsZi5zZXRDZW50cmFsV2lkZ2V0KHNlbGYud29ya3NwYWNlX3N0YWNrKQoKICAgICAgICBzZWxmLmluZ2VzdF93b3Jrc3BhY2UgPSBJbmdlc3RXb3Jrc3BhY2Uoc2VsZikKICAgICAgICBzZWxmLnJldmlld193b3Jrc3BhY2UgPSBSZXZpZXdXb3Jrc3BhY2Uoc2VsZikKCiAgICAgICAgc2VsZi53b3Jrc3BhY2Vfc3RhY2suYWRkV2lkZ2V0KHNlbGYuaW5nZXN0X3dvcmtzcGFjZSkKICAgICAgICBzZWxmLndvcmtzcGFjZV9zdGFjay5hZGRXaWRnZXQoc2VsZi5yZXZpZXdfd29ya3NwYWNlKQoKICAgICAgICBzZWxmLl9idWlsZF93b3Jrc3BhY2VfdG9vbGJhcigpCgogICAgICAgIHNlbGYud29ya3NwYWNlX3N0YWNrLnNldEN1cnJlbnRXaWRnZXQoc2VsZi5pbmdlc3Rfd29ya3NwYWNlKQoKCiAgICBkZWYgX2J1aWxkX3dvcmtzcGFjZV90b29sYmFyKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgdG9vbGJhciA9IFFUb29sQmFyKCJXb3Jrc3BhY2VzIiwgc2VsZikKICAgICAgICB0b29sYmFyLnNldE1vdmFibGUoRmFsc2UpCiAgICAgICAgc2VsZi5hZGRUb29sQmFyKHRvb2xiYXIpCgogICAgICAgIHNlbGYuYWN0aW9uX2luZ2VzdCA9IFFBY3Rpb24oIkluZ2VzdCIsIHNlbGYpCiAgICAgICAgc2VsZi5hY3Rpb25faW5nZXN0LnNldENoZWNrYWJsZShUcnVlKQoKICAgICAgICBzZWxmLmFjdGlvbl9yZXZpZXcgPSBRQWN0aW9uKCJSZXZpZXciLCBzZWxmKQogICAgICAgIHNlbGYuYWN0aW9uX3Jldmlldy5zZXRDaGVja2FibGUoVHJ1ZSkKCiAgICAgICAgdG9vbGJhci5hZGRBY3Rpb24oc2VsZi5hY3Rpb25faW5nZXN0KQogICAgICAgIHRvb2xiYXIuYWRkQWN0aW9uKHNlbGYuYWN0aW9uX3JldmlldykKCiAgICAgICAgIyBEZWZhdWx0CiAgICAgICAgc2VsZi5hY3Rpb25faW5nZXN0LnNldENoZWNrZWQoVHJ1ZSkKCiAgICAgICAgc2VsZi5hY3Rpb25faW5nZXN0LnRyaWdnZXJlZC5jb25uZWN0KHNlbGYuc2hvd19pbmdlc3QpCiAgICAgICAgc2VsZi5hY3Rpb25fcmV2aWV3LnRyaWdnZXJlZC5jb25uZWN0KHNlbGYuc2hvd19yZXZpZXcpCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICMgV2lyaW5nCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGRlZiBfd2lyZV9zaWduYWxzKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgc2VsZi5idG5faW5nZXN0LmNsaWNrZWQuY29ubmVjdChzZWxmLnNob3dfaW5nZXN0KQogICAgICAgIHNlbGYuYnRuX3Jldmlldy5jbGlja2VkLmNvbm5lY3Qoc2VsZi5zaG93X3JldmlldykKCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICMgTmF2aWdhdGlvbgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGRlZiBzaG93X2luZ2VzdChzZWxmKSAtPiBOb25lOgogICAgICAgIHNlbGYud29ya3NwYWNlX3N0YWNrLnNldEN1cnJlbnRXaWRnZXQoc2VsZi5pbmdlc3Rfd29ya3NwYWNlKQogICAgICAgIHNlbGYuYWN0aW9uX2luZ2VzdC5zZXRDaGVja2VkKFRydWUpCiAgICAgICAgc2VsZi5hY3Rpb25fcmV2aWV3LnNldENoZWNrZWQoRmFsc2UpCgogICAgZGVmIHNob3dfcmV2aWV3KHNlbGYpIC0+IE5vbmU6CiAgICAgICAgc2VsZi53b3Jrc3BhY2Vfc3RhY2suc2V0Q3VycmVudFdpZGdldChzZWxmLnJldmlld193b3Jrc3BhY2UpCiAgICAgICAgc2VsZi5hY3Rpb25faW5nZXN0LnNldENoZWNrZWQoRmFsc2UpCiAgICAgICAgc2VsZi5hY3Rpb25fcmV2aWV3LnNldENoZWNrZWQoVHJ1ZSkKAAAAAAAAAACrDAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAgAAAAAAAAACAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					132,
					1,
					"paste",
					null,
					"AQAAAF8AAAAAAAAAgQAAAAAAAAAhAAAAZnJvbSBQeVNpZGU2LlF0R1VJIGltcG9ydCBRQWN0aW9u",
					"AQAAAAAAAAABAAAAgAAAAAAAAABfAAAAAAAAAAAAAAAAAPC/"
				],
				[
					133,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACsDAAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSB0eXBpbmcgaW1wb3J0IE9wdGlvbmFsCgpmcm9tIFB5U2lkZTYuUXRDb3JlIGltcG9ydCBRdApmcm9tIFB5U2lkZTYuUXRHdWkgaW1wb3J0IFFBY3Rpb24KCmZyb20gUHlTaWRlNi5RdFdpZGdldHMgaW1wb3J0ICgKICAgIFFNYWluV2luZG93LAogICAgUVdpZGdldCwKICAgIFFTdGFja2VkV2lkZ2V0LAogICAgUVZCb3hMYXlvdXQsCiAgICBRSEJveExheW91dCwKICAgIFFQdXNoQnV0dG9uLAogICAgUVRvb2xCYXIsCikKCmZyb20gc2l0cmVwYzIuZ3VpLmluZ2VzdC5pbmdlc3Rfd29ya3NwYWNlIGltcG9ydCBJbmdlc3RXb3Jrc3BhY2UKZnJvbSBzaXRyZXBjMi5ndWkucmV2aWV3LnJldmlld193b3Jrc3BhY2UgaW1wb3J0IFJldmlld1dvcmtzcGFjZQoKCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQojIE1haW4gV2luZG93CiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKY2xhc3MgTWFpbldpbmRvdyhRTWFpbldpbmRvdyk6CiAgICAiIiIKICAgIE1haW4gYXBwbGljYXRpb24gd2luZG93IGZvciBzaXRyZXBjMiBHVUkuCgogICAgUmVzcG9uc2liaWxpdGllczoKICAgIC0gT3duIHdvcmtzcGFjZSBsaWZlY3ljbGUKICAgIC0gSG9zdCB3b3Jrc3BhY2Ugc3RhY2sKICAgIC0gQ29vcmRpbmF0ZSBleHBsaWNpdCBuYXZpZ2F0aW9uCiAgICAiIiIKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBwYXJlbnQ6IE9wdGlvbmFsW1FXaWRnZXRdID0gTm9uZSkgLT4gTm9uZToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKHBhcmVudCkKCiAgICAgICAgc2VsZi5zZXRXaW5kb3dUaXRsZSgic2l0cmVwYzIiKQogICAgICAgIHNlbGYucmVzaXplKDE0MDAsIDkwMCkKCiAgICAgICAgc2VsZi5fYnVpbGRfdWkoKQogICAgICAgIHNlbGYuX3dpcmVfc2lnbmFscygpCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICMgVUkKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIF9idWlsZF91aShzZWxmKSAtPiBOb25lOgogICAgICAgIHNlbGYud29ya3NwYWNlX3N0YWNrID0gUVN0YWNrZWRXaWRnZXQoKQogICAgICAgIHNlbGYuc2V0Q2VudHJhbFdpZGdldChzZWxmLndvcmtzcGFjZV9zdGFjaykKCiAgICAgICAgc2VsZi5pbmdlc3Rfd29ya3NwYWNlID0gSW5nZXN0V29ya3NwYWNlKHNlbGYpCiAgICAgICAgc2VsZi5yZXZpZXdfd29ya3NwYWNlID0gUmV2aWV3V29ya3NwYWNlKHNlbGYpCgogICAgICAgIHNlbGYud29ya3NwYWNlX3N0YWNrLmFkZFdpZGdldChzZWxmLmluZ2VzdF93b3Jrc3BhY2UpCiAgICAgICAgc2VsZi53b3Jrc3BhY2Vfc3RhY2suYWRkV2lkZ2V0KHNlbGYucmV2aWV3X3dvcmtzcGFjZSkKCiAgICAgICAgc2VsZi5fYnVpbGRfd29ya3NwYWNlX3Rvb2xiYXIoKQoKICAgICAgICBzZWxmLndvcmtzcGFjZV9zdGFjay5zZXRDdXJyZW50V2lkZ2V0KHNlbGYuaW5nZXN0X3dvcmtzcGFjZSkKCgogICAgZGVmIF9idWlsZF93b3Jrc3BhY2VfdG9vbGJhcihzZWxmKSAtPiBOb25lOgogICAgICAgIHRvb2xiYXIgPSBRVG9vbEJhcigiV29ya3NwYWNlcyIsIHNlbGYpCiAgICAgICAgdG9vbGJhci5zZXRNb3ZhYmxlKEZhbHNlKQogICAgICAgIHNlbGYuYWRkVG9vbEJhcih0b29sYmFyKQoKICAgICAgICBzZWxmLmFjdGlvbl9pbmdlc3QgPSBRQWN0aW9uKCJJbmdlc3QiLCBzZWxmKQogICAgICAgIHNlbGYuYWN0aW9uX2luZ2VzdC5zZXRDaGVja2FibGUoVHJ1ZSkKCiAgICAgICAgc2VsZi5hY3Rpb25fcmV2aWV3ID0gUUFjdGlvbigiUmV2aWV3Iiwgc2VsZikKICAgICAgICBzZWxmLmFjdGlvbl9yZXZpZXcuc2V0Q2hlY2thYmxlKFRydWUpCgogICAgICAgIHRvb2xiYXIuYWRkQWN0aW9uKHNlbGYuYWN0aW9uX2luZ2VzdCkKICAgICAgICB0b29sYmFyLmFkZEFjdGlvbihzZWxmLmFjdGlvbl9yZXZpZXcpCgogICAgICAgICMgRGVmYXVsdAogICAgICAgIHNlbGYuYWN0aW9uX2luZ2VzdC5zZXRDaGVja2VkKFRydWUpCgogICAgICAgIHNlbGYuYWN0aW9uX2luZ2VzdC50cmlnZ2VyZWQuY29ubmVjdChzZWxmLnNob3dfaW5nZXN0KQogICAgICAgIHNlbGYuYWN0aW9uX3Jldmlldy50cmlnZ2VyZWQuY29ubmVjdChzZWxmLnNob3dfcmV2aWV3KQoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIFdpcmluZwogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBkZWYgX3dpcmVfc2lnbmFscyhzZWxmKSAtPiBOb25lOgogICAgICAgIHNlbGYuYnRuX2luZ2VzdC5jbGlja2VkLmNvbm5lY3Qoc2VsZi5zaG93X2luZ2VzdCkKICAgICAgICBzZWxmLmJ0bl9yZXZpZXcuY2xpY2tlZC5jb25uZWN0KHNlbGYuc2hvd19yZXZpZXcpCgoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIE5hdmlnYXRpb24KICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBkZWYgc2hvd19pbmdlc3Qoc2VsZikgLT4gTm9uZToKICAgICAgICBzZWxmLndvcmtzcGFjZV9zdGFjay5zZXRDdXJyZW50V2lkZ2V0KHNlbGYuaW5nZXN0X3dvcmtzcGFjZSkKICAgICAgICBzZWxmLmFjdGlvbl9pbmdlc3Quc2V0Q2hlY2tlZChUcnVlKQogICAgICAgIHNlbGYuYWN0aW9uX3Jldmlldy5zZXRDaGVja2VkKEZhbHNlKQoKICAgIGRlZiBzaG93X3JldmlldyhzZWxmKSAtPiBOb25lOgogICAgICAgIHNlbGYud29ya3NwYWNlX3N0YWNrLnNldEN1cnJlbnRXaWRnZXQoc2VsZi5yZXZpZXdfd29ya3NwYWNlKQogICAgICAgIHNlbGYuYWN0aW9uX2luZ2VzdC5zZXRDaGVja2VkKEZhbHNlKQogICAgICAgIHNlbGYuYWN0aW9uX3Jldmlldy5zZXRDaGVja2VkKFRydWUpCgAAAAAAAAAArAwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAgQAAAAAAAACBAAAAAAAAAAAAAAAAAPC/"
				],
				[
					145,
					1,
					"paste",
					null,
					"AQAAAAAAAAAAAAAAzgoAAAAAAACsDAAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSB0eXBpbmcgaW1wb3J0IE9wdGlvbmFsCgpmcm9tIFB5U2lkZTYuUXRDb3JlIGltcG9ydCBRdApmcm9tIFB5U2lkZTYuUXRHdWkgaW1wb3J0IFFBY3Rpb24KCmZyb20gUHlTaWRlNi5RdFdpZGdldHMgaW1wb3J0ICgKICAgIFFNYWluV2luZG93LAogICAgUVdpZGdldCwKICAgIFFTdGFja2VkV2lkZ2V0LAogICAgUVZCb3hMYXlvdXQsCiAgICBRSEJveExheW91dCwKICAgIFFQdXNoQnV0dG9uLAogICAgUVRvb2xCYXIsCikKCmZyb20gc2l0cmVwYzIuZ3VpLmluZ2VzdC5pbmdlc3Rfd29ya3NwYWNlIGltcG9ydCBJbmdlc3RXb3Jrc3BhY2UKZnJvbSBzaXRyZXBjMi5ndWkucmV2aWV3LnJldmlld193b3Jrc3BhY2UgaW1wb3J0IFJldmlld1dvcmtzcGFjZQoKCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQojIE1haW4gV2luZG93CiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKY2xhc3MgTWFpbldpbmRvdyhRTWFpbldpbmRvdyk6CiAgICAiIiIKICAgIE1haW4gYXBwbGljYXRpb24gd2luZG93IGZvciBzaXRyZXBjMiBHVUkuCgogICAgUmVzcG9uc2liaWxpdGllczoKICAgIC0gT3duIHdvcmtzcGFjZSBsaWZlY3ljbGUKICAgIC0gSG9zdCB3b3Jrc3BhY2Ugc3RhY2sKICAgIC0gQ29vcmRpbmF0ZSBleHBsaWNpdCBuYXZpZ2F0aW9uCiAgICAiIiIKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBwYXJlbnQ6IE9wdGlvbmFsW1FXaWRnZXRdID0gTm9uZSkgLT4gTm9uZToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKHBhcmVudCkKCiAgICAgICAgc2VsZi5zZXRXaW5kb3dUaXRsZSgic2l0cmVwYzIiKQogICAgICAgIHNlbGYucmVzaXplKDE0MDAsIDkwMCkKCiAgICAgICAgc2VsZi5fYnVpbGRfdWkoKQogICAgICAgIHNlbGYuX3dpcmVfc2lnbmFscygpCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICMgVUkKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIF9idWlsZF91aShzZWxmKSAtPiBOb25lOgogICAgICAgIHNlbGYud29ya3NwYWNlX3N0YWNrID0gUVN0YWNrZWRXaWRnZXQoKQogICAgICAgIHNlbGYuc2V0Q2VudHJhbFdpZGdldChzZWxmLndvcmtzcGFjZV9zdGFjaykKCiAgICAgICAgc2VsZi5pbmdlc3Rfd29ya3NwYWNlID0gSW5nZXN0V29ya3NwYWNlKHNlbGYpCiAgICAgICAgc2VsZi5yZXZpZXdfd29ya3NwYWNlID0gUmV2aWV3V29ya3NwYWNlKHNlbGYpCgogICAgICAgIHNlbGYud29ya3NwYWNlX3N0YWNrLmFkZFdpZGdldChzZWxmLmluZ2VzdF93b3Jrc3BhY2UpCiAgICAgICAgc2VsZi53b3Jrc3BhY2Vfc3RhY2suYWRkV2lkZ2V0KHNlbGYucmV2aWV3X3dvcmtzcGFjZSkKCiAgICAgICAgc2VsZi5fYnVpbGRfd29ya3NwYWNlX3Rvb2xiYXIoKQoKICAgICAgICBzZWxmLndvcmtzcGFjZV9zdGFjay5zZXRDdXJyZW50V2lkZ2V0KHNlbGYuaW5nZXN0X3dvcmtzcGFjZSkKCgogICAgZGVmIF9idWlsZF93b3Jrc3BhY2VfdG9vbGJhcihzZWxmKSAtPiBOb25lOgogICAgICAgIHRvb2xiYXIgPSBRVG9vbEJhcigiV29ya3NwYWNlcyIsIHNlbGYpCiAgICAgICAgdG9vbGJhci5zZXRNb3ZhYmxlKEZhbHNlKQogICAgICAgIHNlbGYuYWRkVG9vbEJhcih0b29sYmFyKQoKICAgICAgICBzZWxmLmFjdGlvbl9pbmdlc3QgPSBRQWN0aW9uKCJJbmdlc3QiLCBzZWxmKQogICAgICAgIHNlbGYuYWN0aW9uX2luZ2VzdC5zZXRDaGVja2FibGUoVHJ1ZSkKCiAgICAgICAgc2VsZi5hY3Rpb25fcmV2aWV3ID0gUUFjdGlvbigiUmV2aWV3Iiwgc2VsZikKICAgICAgICBzZWxmLmFjdGlvbl9yZXZpZXcuc2V0Q2hlY2thYmxlKFRydWUpCgogICAgICAgIHRvb2xiYXIuYWRkQWN0aW9uKHNlbGYuYWN0aW9uX2luZ2VzdCkKICAgICAgICB0b29sYmFyLmFkZEFjdGlvbihzZWxmLmFjdGlvbl9yZXZpZXcpCgogICAgICAgICMgRGVmYXVsdAogICAgICAgIHNlbGYuYWN0aW9uX2luZ2VzdC5zZXRDaGVja2VkKFRydWUpCgogICAgICAgIHNlbGYuYWN0aW9uX2luZ2VzdC50cmlnZ2VyZWQuY29ubmVjdChzZWxmLnNob3dfaW5nZXN0KQogICAgICAgIHNlbGYuYWN0aW9uX3Jldmlldy50cmlnZ2VyZWQuY29ubmVjdChzZWxmLnNob3dfcmV2aWV3KQoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIFdpcmluZwogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBkZWYgX3dpcmVfc2lnbmFscyhzZWxmKSAtPiBOb25lOgogICAgICAgIHNlbGYuYnRuX2luZ2VzdC5jbGlja2VkLmNvbm5lY3Qoc2VsZi5zaG93X2luZ2VzdCkKICAgICAgICBzZWxmLmJ0bl9yZXZpZXcuY2xpY2tlZC5jb25uZWN0KHNlbGYuc2hvd19yZXZpZXcpCgoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIE5hdmlnYXRpb24KICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBkZWYgc2hvd19pbmdlc3Qoc2VsZikgLT4gTm9uZToKICAgICAgICBzZWxmLndvcmtzcGFjZV9zdGFjay5zZXRDdXJyZW50V2lkZ2V0KHNlbGYuaW5nZXN0X3dvcmtzcGFjZSkKICAgICAgICBzZWxmLmFjdGlvbl9pbmdlc3Quc2V0Q2hlY2tlZChUcnVlKQogICAgICAgIHNlbGYuYWN0aW9uX3Jldmlldy5zZXRDaGVja2VkKEZhbHNlKQoKICAgIGRlZiBzaG93X3JldmlldyhzZWxmKSAtPiBOb25lOgogICAgICAgIHNlbGYud29ya3NwYWNlX3N0YWNrLnNldEN1cnJlbnRXaWRnZXQoc2VsZi5yZXZpZXdfd29ya3NwYWNlKQogICAgICAgIHNlbGYuYWN0aW9uX2luZ2VzdC5zZXRDaGVja2VkKEZhbHNlKQogICAgICAgIHNlbGYuYWN0aW9uX3Jldmlldy5zZXRDaGVja2VkKFRydWUpCg",
					"AQAAAAAAAAABAAAAAAAAAAAAAACsDAAAAAAAAAAAAAAAAPC/"
				],
				[
					146,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAADOCgAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSB0eXBpbmcgaW1wb3J0IE9wdGlvbmFsCgpmcm9tIFB5U2lkZTYuUXRXaWRnZXRzIGltcG9ydCAoCiAgICBRTWFpbldpbmRvdywKICAgIFFXaWRnZXQsCiAgICBRU3RhY2tlZFdpZGdldCwKICAgIFFUb29sQmFyLAopCmZyb20gUHlTaWRlNi5RdEd1aSBpbXBvcnQgUUFjdGlvbgoKZnJvbSBzaXRyZXBjMi5ndWkuaW5nZXN0LmluZ2VzdF93b3Jrc3BhY2UgaW1wb3J0IEluZ2VzdFdvcmtzcGFjZQpmcm9tIHNpdHJlcGMyLmd1aS5yZXZpZXcucmV2aWV3X3dvcmtzcGFjZSBpbXBvcnQgUmV2aWV3V29ya3NwYWNlCgoKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiMgTWFpbiBXaW5kb3cKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgpjbGFzcyBNYWluV2luZG93KFFNYWluV2luZG93KToKICAgICIiIgogICAgTWFpbiBhcHBsaWNhdGlvbiB3aW5kb3cgZm9yIHNpdHJlcGMyIEdVSS4KCiAgICBSZXNwb25zaWJpbGl0aWVzOgogICAgLSBPd24gd29ya3NwYWNlIGxpZmVjeWNsZQogICAgLSBIb3N0IHdvcmtzcGFjZSBzdGFjawogICAgLSBQcm92aWRlIGV4cGxpY2l0IHdvcmtzcGFjZSBuYXZpZ2F0aW9uCiAgICAiIiIKCiAgICBkZWYgX19pbml0X18oc2VsZiwgcGFyZW50OiBPcHRpb25hbFtRV2lkZ2V0XSA9IE5vbmUpIC0+IE5vbmU6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXyhwYXJlbnQpCgogICAgICAgIHNlbGYuc2V0V2luZG93VGl0bGUoInNpdHJlcGMyIikKICAgICAgICBzZWxmLnJlc2l6ZSgxNDAwLCA5MDApCgogICAgICAgIHNlbGYuX2J1aWxkX3VpKCkKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBVSQogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBkZWYgX2J1aWxkX3VpKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgIyBDZW50cmFsIHdvcmtzcGFjZSBzdGFjawogICAgICAgIHNlbGYud29ya3NwYWNlX3N0YWNrID0gUVN0YWNrZWRXaWRnZXQoKQogICAgICAgIHNlbGYuc2V0Q2VudHJhbFdpZGdldChzZWxmLndvcmtzcGFjZV9zdGFjaykKCiAgICAgICAgIyBXb3Jrc3BhY2VzCiAgICAgICAgc2VsZi5pbmdlc3Rfd29ya3NwYWNlID0gSW5nZXN0V29ya3NwYWNlKHNlbGYpCiAgICAgICAgc2VsZi5yZXZpZXdfd29ya3NwYWNlID0gUmV2aWV3V29ya3NwYWNlKHNlbGYpCgogICAgICAgIHNlbGYud29ya3NwYWNlX3N0YWNrLmFkZFdpZGdldChzZWxmLmluZ2VzdF93b3Jrc3BhY2UpCiAgICAgICAgc2VsZi53b3Jrc3BhY2Vfc3RhY2suYWRkV2lkZ2V0KHNlbGYucmV2aWV3X3dvcmtzcGFjZSkKCiAgICAgICAgIyBXb3Jrc3BhY2Ugc2VsZWN0b3IgdG9vbGJhcgogICAgICAgIHNlbGYuX2J1aWxkX3dvcmtzcGFjZV90b29sYmFyKCkKCiAgICAgICAgIyBEZWZhdWx0IHdvcmtzcGFjZQogICAgICAgIHNlbGYuc2hvd19pbmdlc3QoKQoKICAgIGRlZiBfYnVpbGRfd29ya3NwYWNlX3Rvb2xiYXIoc2VsZikgLT4gTm9uZToKICAgICAgICB0b29sYmFyID0gUVRvb2xCYXIoIldvcmtzcGFjZXMiLCBzZWxmKQogICAgICAgIHRvb2xiYXIuc2V0TW92YWJsZShGYWxzZSkKICAgICAgICBzZWxmLmFkZFRvb2xCYXIodG9vbGJhcikKCiAgICAgICAgc2VsZi5hY3Rpb25faW5nZXN0ID0gUUFjdGlvbigiSW5nZXN0Iiwgc2VsZikKICAgICAgICBzZWxmLmFjdGlvbl9pbmdlc3Quc2V0Q2hlY2thYmxlKFRydWUpCgogICAgICAgIHNlbGYuYWN0aW9uX3JldmlldyA9IFFBY3Rpb24oIlJldmlldyIsIHNlbGYpCiAgICAgICAgc2VsZi5hY3Rpb25fcmV2aWV3LnNldENoZWNrYWJsZShUcnVlKQoKICAgICAgICB0b29sYmFyLmFkZEFjdGlvbihzZWxmLmFjdGlvbl9pbmdlc3QpCiAgICAgICAgdG9vbGJhci5hZGRBY3Rpb24oc2VsZi5hY3Rpb25fcmV2aWV3KQoKICAgICAgICBzZWxmLmFjdGlvbl9pbmdlc3QudHJpZ2dlcmVkLmNvbm5lY3Qoc2VsZi5zaG93X2luZ2VzdCkKICAgICAgICBzZWxmLmFjdGlvbl9yZXZpZXcudHJpZ2dlcmVkLmNvbm5lY3Qoc2VsZi5zaG93X3JldmlldykKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBOYXZpZ2F0aW9uCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGRlZiBzaG93X2luZ2VzdChzZWxmKSAtPiBOb25lOgogICAgICAgIHNlbGYud29ya3NwYWNlX3N0YWNrLnNldEN1cnJlbnRXaWRnZXQoc2VsZi5pbmdlc3Rfd29ya3NwYWNlKQogICAgICAgIHNlbGYuYWN0aW9uX2luZ2VzdC5zZXRDaGVja2VkKFRydWUpCiAgICAgICAgc2VsZi5hY3Rpb25fcmV2aWV3LnNldENoZWNrZWQoRmFsc2UpCgogICAgZGVmIHNob3dfcmV2aWV3KHNlbGYpIC0+IE5vbmU6CiAgICAgICAgc2VsZi53b3Jrc3BhY2Vfc3RhY2suc2V0Q3VycmVudFdpZGdldChzZWxmLnJldmlld193b3Jrc3BhY2UpCiAgICAgICAgc2VsZi5hY3Rpb25faW5nZXN0LnNldENoZWNrZWQoRmFsc2UpCiAgICAgICAgc2VsZi5hY3Rpb25fcmV2aWV3LnNldENoZWNrZWQoVHJ1ZSkKAAAAAAAAAADOCgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAzgoAAAAAAADOCgAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "src/sitrepc2/dom/dom_scoping.py",
			"settings":
			{
				"buffer_size": 6038,
				"encoding": "UTF-8",
				"line_ending": "Unix",
				"name": "from __future__ import annotations"
			},
			"undo_stack":
			[
				[
					1,
					1,
					"paste",
					null,
					"AQAAAAAAAAAAAAAAThYAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					11,
					1,
					"paste",
					null,
					"AQAAAAAAAAAAAAAAlhcAAAAAAABUFgAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKaW1wb3J0IHNxbGl0ZTMKZnJvbSB0eXBpbmcgaW1wb3J0IERpY3QsIEl0ZXJhYmxlLCBMaXN0LCBPcHRpb25hbCwgU2V0Cgpmcm9tIHNpdHJlcGMyLmxzcy5sc3Nfc2NvcGluZyBpbXBvcnQgTFNTQ29udGV4dEhpbnQKZnJvbSBzaXRyZXBjMi5jb25maWcucGF0aHMgaW1wb3J0IGdhemV0dGVlcl9wYXRoCgoKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KIyBDb250ZXh0IGRvbWluYW5jZQojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKRE9NX0NPTlRFWFRfT1JERVIgPSAoIkxPQ0FUSU9OIiwgIlNFUklFUyIsICJFVkVOVCIsICJTRUNUSU9OIiwgIlBPU1QiKQoKCmRlZiBfY29sbGVjdF9jb250ZXh0X2NoYWluKAogICAgKiwKICAgIG5vZGVfaWQ6IGludCwKICAgIG5vZGVfdHlwZTogc3RyLAogICAgZG9tX2Nvbm46IHNxbGl0ZTMuQ29ubmVjdGlvbiwKICAgIGNvbnRleHRfaGludHM6IEl0ZXJhYmxlW0xTU0NvbnRleHRIaW50XSwKKSAtPiBEaWN0W3N0ciwgU2V0W2ludF1dOgogICAgIiIiCiAgICBSZXNvbHZlIGVmZmVjdGl2ZSBjb250ZXh0IGZvciBhIERPTSBub2RlIGJ5IGRvbWluYW5jZSBvcmRlci4KCiAgICBSZXR1cm5zOgogICAgICAgIGN0eF9raW5kIC0+IHNldChlbnRpdHlfaWRzKQogICAgIiIiCgogICAgY3VyID0gZG9tX2Nvbm4uY3Vyc29yKCkKCiAgICAjIFdhbGsgYW5jZXN0b3JzIGJvdHRvbS11cAogICAgY3VyLmV4ZWN1dGUoCiAgICAgICAgIiIiCiAgICAgICAgV0lUSCBSRUNVUlNJVkUgYW5jZXN0b3JzKGlkLCBub2RlX3R5cGUsIHBhcmVudF9pZCkgQVMgKAogICAgICAgICAgICBTRUxFQ1QgaWQsIG5vZGVfdHlwZSwgcGFyZW50X2lkCiAgICAgICAgICAgIEZST00gZG9tX25vZGUKICAgICAgICAgICAgV0hFUkUgaWQgPSA/CgogICAgICAgICAgICBVTklPTiBBTEwKCiAgICAgICAgICAgIFNFTEVDVCBuLmlkLCBuLm5vZGVfdHlwZSwgbi5wYXJlbnRfaWQKICAgICAgICAgICAgRlJPTSBkb21fbm9kZSBuCiAgICAgICAgICAgIEpPSU4gYW5jZXN0b3JzIGEgT04gbi5pZCA9IGEucGFyZW50X2lkCiAgICAgICAgKQogICAgICAgIFNFTEVDVCBpZCwgbm9kZV90eXBlCiAgICAgICAgRlJPTSBhbmNlc3RvcnMKICAgICAgICAiIiIsCiAgICAgICAgKG5vZGVfaWQsKSwKICAgICkKCiAgICBub2RlcyA9IGN1ci5mZXRjaGFsbCgpCiAgICBub2RlX2lkc19ieV90eXBlID0ge250OiBpIGZvciBpLCBudCBpbiBub2Rlc30KCiAgICByZXNvbHZlZDogRGljdFtzdHIsIFNldFtpbnRdXSA9IHt9CgogICAgZm9yIHNjb3BlIGluIERPTV9DT05URVhUX09SREVSOgogICAgICAgIGZvciBoaW50IGluIGNvbnRleHRfaGludHM6CiAgICAgICAgICAgIGlmIGhpbnQuc2NvcGUgIT0gc2NvcGU6CiAgICAgICAgICAgICAgICBjb250aW51ZQoKICAgICAgICAgICAgdGFyZ2V0X29rID0gKAogICAgICAgICAgICAgICAgaGludC50YXJnZXRfaWQgaXMgTm9uZQogICAgICAgICAgICAgICAgb3Igbm9kZV9pZHNfYnlfdHlwZS5nZXQoc2NvcGUpID09IGhpbnQudGFyZ2V0X2lkCiAgICAgICAgICAgICkKCiAgICAgICAgICAgIGlmIG5vdCB0YXJnZXRfb2s6CiAgICAgICAgICAgICAgICBjb250aW51ZQoKICAgICAgICAgICAgcmVzb2x2ZWQuc2V0ZGVmYXVsdChoaW50LmN0eF9raW5kLCBzZXQoKSkuYWRkKGhpbnQudGFyZ2V0X2lkKQoKICAgIHJldHVybiByZXNvbHZlZAoKCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiMgR2F6ZXR0ZWVyIGZpbHRlcmluZwojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKZGVmIF9maWx0ZXJfbG9jYXRpb25fY2FuZGlkYXRlcygKICAgICosCiAgICBsb2NhdGlvbl90ZXh0OiBzdHIsCiAgICBjb250ZXh0OiBEaWN0W3N0ciwgU2V0W2ludF1dLAogICAgZ2F6X2Nvbm46IHNxbGl0ZTMuQ29ubmVjdGlvbiwKKSAtPiBMaXN0W2ludF06CiAgICAiIiIKICAgIEZpbHRlciBnYXpldHRlZXIgbG9jYXRpb24gY2FuZGlkYXRlcyB1c2luZyBSRUdJT04gLyBHUk9VUCBjb250ZXh0LgoKICAgIFJldHVybnM6CiAgICAgICAgbGlzdCBvZiBsb2NhdGlvbl9pZAogICAgIiIiCgogICAgY3VyID0gZ2F6X2Nvbm4uY3Vyc29yKCkKCiAgICBub3JtID0gbG9jYXRpb25fdGV4dC5zdHJpcCgpLmxvd2VyKCkKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBBbGlhcyBtYXRjaAogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBjdXIuZXhlY3V0ZSgKICAgICAgICAiIiIKICAgICAgICBTRUxFQ1QgbG9jYXRpb25faWQKICAgICAgICBGUk9NIGxvY2F0aW9uX2FsaWFzZXMKICAgICAgICBXSEVSRSBub3JtYWxpemVkID0gPwogICAgICAgICIiIiwKICAgICAgICAobm9ybSwpLAogICAgKQoKICAgIGNhbmRpZGF0ZXMgPSB7cm93WzBdIGZvciByb3cgaW4gY3VyLmZldGNoYWxsKCl9CiAgICBpZiBub3QgY2FuZGlkYXRlczoKICAgICAgICByZXR1cm4gW10KCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBSZWdpb24gY29uc3RyYWludAogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBpZiAiUkVHSU9OIiBpbiBjb250ZXh0OgogICAgICAgIHJlZ2lvbl9pZHMgPSBjb250ZXh0WyJSRUdJT04iXQoKICAgICAgICBjdXIuZXhlY3V0ZSgKICAgICAgICAgICAgIiIiCiAgICAgICAgICAgIFNFTEVDVCBsb2NhdGlvbl9pZAogICAgICAgICAgICBGUk9NIGxvY2F0aW9uX3JlZ2lvbnMKICAgICAgICAgICAgV0hFUkUgcmVnaW9uX2lkIElOICh7fSkKICAgICAgICAgICAgIiIiLmZvcm1hdCgiLCIuam9pbigiPyIgKiBsZW4ocmVnaW9uX2lkcykpKSwKICAgICAgICAgICAgdHVwbGUocmVnaW9uX2lkcyksCiAgICAgICAgKQoKICAgICAgICBhbGxvd2VkID0ge3Jvd1swXSBmb3Igcm93IGluIGN1ci5mZXRjaGFsbCgpfQogICAgICAgIGNhbmRpZGF0ZXMgJj0gYWxsb3dlZAoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIEdyb3VwIGNvbnN0cmFpbnQKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgaWYgIkdST1VQIiBpbiBjb250ZXh0OgogICAgICAgIGdyb3VwX2lkcyA9IGNvbnRleHRbIkdST1VQIl0KCiAgICAgICAgY3VyLmV4ZWN1dGUoCiAgICAgICAgICAgICIiIgogICAgICAgICAgICBTRUxFQ1QgbG9jYXRpb25faWQKICAgICAgICAgICAgRlJPTSBsb2NhdGlvbl9ncm91cHMKICAgICAgICAgICAgV0hFUkUgZ3JvdXBfaWQgSU4gKHt9KQogICAgICAgICAgICAiIiIuZm9ybWF0KCIsIi5qb2luKCI/IiAqIGxlbihncm91cF9pZHMpKSksCiAgICAgICAgICAgIHR1cGxlKGdyb3VwX2lkcyksCiAgICAgICAgKQoKICAgICAgICBhbGxvd2VkID0ge3Jvd1swXSBmb3Igcm93IGluIGN1ci5mZXRjaGFsbCgpfQogICAgICAgIGNhbmRpZGF0ZXMgJj0gYWxsb3dlZAoKICAgIHJldHVybiBzb3J0ZWQoY2FuZGlkYXRlcykKCgojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQojIFB1YmxpYyBBUEkKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCmRlZiBzY29wZV9kb21fbG9jYXRpb25zKAogICAgKiwKICAgIGRvbV9jb25uOiBzcWxpdGUzLkNvbm5lY3Rpb24sCiAgICBjb250ZXh0X2hpbnRzOiBJdGVyYWJsZVtMU1NDb250ZXh0SGludF0sCikgLT4gTm9uZToKICAgICIiIgogICAgQXR0YWNoIGZpbHRlcmVkIExvY2F0aW9uQ2FuZGlkYXRlcyB0byBET00gTE9DQVRJT04gbm9kZXMuCgogICAgRWZmZWN0czoKICAgICAg4oCiIEluc2VydHMgcm93cyBpbnRvIGRvbV9sb2NhdGlvbl9jYW5kaWRhdGUKICAgICAg4oCiIERvZXMgTk9UIG1hcmsgcmVzb2x2ZWQKICAgICAg4oCiIERvZXMgTk9UIHNlbGVjdCBhIGNhbmRpZGF0ZQogICAgIiIiCgogICAgZ2F6X2Nvbm4gPSBzcWxpdGUzLmNvbm5lY3QoZ2F6ZXR0ZWVyX3BhdGgoKSkKICAgIGRvbV9jdXIgPSBkb21fY29ubi5jdXJzb3IoKQoKICAgIGRvbV9jdXIuZXhlY3V0ZSgKICAgICAgICAiIiIKICAgICAgICBTRUxFQ1QgaWQKICAgICAgICBGUk9NIGRvbV9ub2RlCiAgICAgICAgV0hFUkUgbm9kZV90eXBlID0gJ0xPQ0FUSU9OJwogICAgICAgICIiIgogICAgKQoKICAgIGxvY2F0aW9uX25vZGVzID0gW3Jvd1swXSBmb3Igcm93IGluIGRvbV9jdXIuZmV0Y2hhbGwoKV0KCiAgICBmb3IgZG9tX2xvY19pZCBpbiBsb2NhdGlvbl9ub2RlczoKICAgICAgICBkb21fY3VyLmV4ZWN1dGUoCiAgICAgICAgICAgICIiIgogICAgICAgICAgICBTRUxFQ1QgZG4uaWQsIGRwLnRleHQKICAgICAgICAgICAgRlJPTSBkb21fbm9kZSBkbgogICAgICAgICAgICBKT0lOIGRvbV9ub2RlX3Byb3ZlbmFuY2UgZHAgT04gZHAuZG9tX25vZGVfaWQgPSBkbi5pZAogICAgICAgICAgICBXSEVSRSBkbi5pZCA9ID8KICAgICAgICAgICAgIiIiLAogICAgICAgICAgICAoZG9tX2xvY19pZCwpLAogICAgICAgICkKCiAgICAgICAgcm93ID0gZG9tX2N1ci5mZXRjaG9uZSgpCiAgICAgICAgaWYgcm93IGlzIE5vbmU6CiAgICAgICAgICAgIGNvbnRpbnVlCgogICAgICAgIF8sIGxvY2F0aW9uX3RleHQgPSByb3cKCiAgICAgICAgY29udGV4dCA9IF9jb2xsZWN0X2NvbnRleHRfY2hhaW4oCiAgICAgICAgICAgIG5vZGVfaWQ9ZG9tX2xvY19pZCwKICAgICAgICAgICAgbm9kZV90eXBlPSJMT0NBVElPTiIsCiAgICAgICAgICAgIGRvbV9jb25uPWRvbV9jb25uLAogICAgICAgICAgICBjb250ZXh0X2hpbnRzPWNvbnRleHRfaGludHMsCiAgICAgICAgKQoKICAgICAgICBjYW5kaWRhdGVzID0gX2ZpbHRlcl9sb2NhdGlvbl9jYW5kaWRhdGVzKAogICAgICAgICAgICBsb2NhdGlvbl90ZXh0PWxvY2F0aW9uX3RleHQsCiAgICAgICAgICAgIGNvbnRleHQ9Y29udGV4dCwKICAgICAgICAgICAgZ2F6X2Nvbm49Z2F6X2Nvbm4sCiAgICAgICAgKQoKICAgICAgICBmb3IgbG9jX2lkIGluIGNhbmRpZGF0ZXM6CiAgICAgICAgICAgIGRvbV9jdXIuZXhlY3V0ZSgKICAgICAgICAgICAgICAgICIiIgogICAgICAgICAgICAgICAgSU5TRVJUIElOVE8gZG9tX2xvY2F0aW9uX2NhbmRpZGF0ZSAoCiAgICAgICAgICAgICAgICAgICAgZG9tX25vZGVfaWQsCiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb25faWQsCiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIFZBTFVFUyAoPywgPywgRkFMU0UpCiAgICAgICAgICAgICAgICAiIiIsCiAgICAgICAgICAgICAgICAoZG9tX2xvY19pZCwgbG9jX2lkKSwKICAgICAgICAgICAgKQoKICAgIGRvbV9jb25uLmNvbW1pdCgpCiAgICBnYXpfY29ubi5jbG9zZSgpCg",
					"AQAAAAAAAAABAAAAAAAAAAAAAABOFgAAAAAAAAAAAAAAAPC/"
				],
				[
					12,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACcFwAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKaW1wb3J0IHNxbGl0ZTMKZnJvbSB0eXBpbmcgaW1wb3J0IERpY3QsIEl0ZXJhYmxlLCBMaXN0LCBTZXQKCmZyb20gc2l0cmVwYzIubHNzLmxzc19zY29waW5nIGltcG9ydCBMU1NDb250ZXh0SGludApmcm9tIHNpdHJlcGMyLmNvbmZpZy5wYXRocyBpbXBvcnQgZ2F6ZXR0ZWVyX3BhdGgKCgojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQojIENvbnRleHQgZG9taW5hbmNlCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgpET01fQ09OVEVYVF9PUkRFUiA9ICgiTE9DQVRJT04iLCAiU0VSSUVTIiwgIkVWRU5UIiwgIlNFQ1RJT04iLCAiUE9TVCIpCgoKZGVmIF9jb2xsZWN0X2NvbnRleHRfY2hhaW4oCiAgICAqLAogICAgbm9kZV9pZDogaW50LAogICAgZG9tX2Nvbm46IHNxbGl0ZTMuQ29ubmVjdGlvbiwKICAgIGNvbnRleHRfaGludHM6IEl0ZXJhYmxlW0xTU0NvbnRleHRIaW50XSwKKSAtPiBEaWN0W3N0ciwgU2V0W2ludF1dOgogICAgIiIiCiAgICBSZXNvbHZlIGVmZmVjdGl2ZSBjb250ZXh0IGZvciBhIERPTSBub2RlIGJ5IGRvbWluYW5jZSBvcmRlci4KCiAgICBSZXR1cm5zOgogICAgICAgIGN0eF9raW5kIC0+IHNldChlbnRpdHlfaWRzKQogICAgIiIiCgogICAgY3VyID0gZG9tX2Nvbm4uY3Vyc29yKCkKCiAgICBjdXIuZXhlY3V0ZSgKICAgICAgICAiIiIKICAgICAgICBXSVRIIFJFQ1VSU0lWRSBhbmNlc3RvcnMoaWQsIG5vZGVfdHlwZSwgcGFyZW50X2lkKSBBUyAoCiAgICAgICAgICAgIFNFTEVDVCBpZCwgbm9kZV90eXBlLCBwYXJlbnRfaWQKICAgICAgICAgICAgRlJPTSBkb21fbm9kZQogICAgICAgICAgICBXSEVSRSBpZCA9ID8KCiAgICAgICAgICAgIFVOSU9OIEFMTAoKICAgICAgICAgICAgU0VMRUNUIG4uaWQsIG4ubm9kZV90eXBlLCBuLnBhcmVudF9pZAogICAgICAgICAgICBGUk9NIGRvbV9ub2RlIG4KICAgICAgICAgICAgSk9JTiBhbmNlc3RvcnMgYSBPTiBuLmlkID0gYS5wYXJlbnRfaWQKICAgICAgICApCiAgICAgICAgU0VMRUNUIGlkLCBub2RlX3R5cGUKICAgICAgICBGUk9NIGFuY2VzdG9ycwogICAgICAgICIiIiwKICAgICAgICAobm9kZV9pZCwpLAogICAgKQoKICAgIG5vZGVzID0gY3VyLmZldGNoYWxsKCkKICAgIG5vZGVfaWRzX2J5X3R5cGUgPSB7bnQ6IGkgZm9yIGksIG50IGluIG5vZGVzfQoKICAgIHJlc29sdmVkOiBEaWN0W3N0ciwgU2V0W2ludF1dID0ge30KCiAgICBmb3Igc2NvcGUgaW4gRE9NX0NPTlRFWFRfT1JERVI6CiAgICAgICAgZm9yIGhpbnQgaW4gY29udGV4dF9oaW50czoKICAgICAgICAgICAgaWYgaGludC5zY29wZSAhPSBzY29wZToKICAgICAgICAgICAgICAgIGNvbnRpbnVlCgogICAgICAgICAgICB0YXJnZXRfb2sgPSAoCiAgICAgICAgICAgICAgICBoaW50LnRhcmdldF9pZCBpcyBOb25lCiAgICAgICAgICAgICAgICBvciBub2RlX2lkc19ieV90eXBlLmdldChzY29wZSkgPT0gaGludC50YXJnZXRfaWQKICAgICAgICAgICAgKQoKICAgICAgICAgICAgaWYgbm90IHRhcmdldF9vazoKICAgICAgICAgICAgICAgIGNvbnRpbnVlCgogICAgICAgICAgICByZXNvbHZlZC5zZXRkZWZhdWx0KGhpbnQuY3R4X2tpbmQsIHNldCgpKS5hZGQoaGludC50YXJnZXRfaWQpCgogICAgcmV0dXJuIHJlc29sdmVkCgoKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KIyBHYXpldHRlZXIgZmlsdGVyaW5nCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgpkZWYgX2ZpbHRlcl9sb2NhdGlvbl9jYW5kaWRhdGVzKAogICAgKiwKICAgIGxvY2F0aW9uX3RleHQ6IHN0ciwKICAgIGNvbnRleHQ6IERpY3Rbc3RyLCBTZXRbaW50XV0sCiAgICBnYXpfY29ubjogc3FsaXRlMy5Db25uZWN0aW9uLAopIC0+IExpc3RbaW50XToKICAgICIiIgogICAgRmlsdGVyIGdhemV0dGVlciBsb2NhdGlvbiBjYW5kaWRhdGVzIHVzaW5nIFJFR0lPTiAvIEdST1VQIGNvbnRleHQuCgogICAgUmV0dXJuczoKICAgICAgICBsaXN0IG9mIGxvY2F0aW9uX2lkCiAgICAiIiIKCiAgICBjdXIgPSBnYXpfY29ubi5jdXJzb3IoKQogICAgbm9ybSA9IGxvY2F0aW9uX3RleHQuc3RyaXAoKS5sb3dlcigpCgogICAgIyBBbGlhcyBtYXRjaAogICAgY3VyLmV4ZWN1dGUoCiAgICAgICAgIiIiCiAgICAgICAgU0VMRUNUIGxvY2F0aW9uX2lkCiAgICAgICAgRlJPTSBsb2NhdGlvbl9hbGlhc2VzCiAgICAgICAgV0hFUkUgbm9ybWFsaXplZCA9ID8KICAgICAgICAiIiIsCiAgICAgICAgKG5vcm0sKSwKICAgICkKCiAgICBjYW5kaWRhdGVzID0ge3Jvd1swXSBmb3Igcm93IGluIGN1ci5mZXRjaGFsbCgpfQogICAgaWYgbm90IGNhbmRpZGF0ZXM6CiAgICAgICAgcmV0dXJuIFtdCgogICAgIyBSRUdJT04gY29uc3RyYWludAogICAgaWYgIlJFR0lPTiIgaW4gY29udGV4dDoKICAgICAgICByZWdpb25faWRzID0gY29udGV4dFsiUkVHSU9OIl0KICAgICAgICBjdXIuZXhlY3V0ZSgKICAgICAgICAgICAgZiIiIgogICAgICAgICAgICBTRUxFQ1QgbG9jYXRpb25faWQKICAgICAgICAgICAgRlJPTSBsb2NhdGlvbl9yZWdpb25zCiAgICAgICAgICAgIFdIRVJFIHJlZ2lvbl9pZCBJTiAoeyIsIi5qb2luKCI/IiAqIGxlbihyZWdpb25faWRzKSl9KQogICAgICAgICAgICAiIiIsCiAgICAgICAgICAgIHR1cGxlKHJlZ2lvbl9pZHMpLAogICAgICAgICkKICAgICAgICBjYW5kaWRhdGVzICY9IHtyb3dbMF0gZm9yIHJvdyBpbiBjdXIuZmV0Y2hhbGwoKX0KCiAgICAjIEdST1VQIGNvbnN0cmFpbnQKICAgIGlmICJHUk9VUCIgaW4gY29udGV4dDoKICAgICAgICBncm91cF9pZHMgPSBjb250ZXh0WyJHUk9VUCJdCiAgICAgICAgY3VyLmV4ZWN1dGUoCiAgICAgICAgICAgIGYiIiIKICAgICAgICAgICAgU0VMRUNUIGxvY2F0aW9uX2lkCiAgICAgICAgICAgIEZST00gbG9jYXRpb25fZ3JvdXBzCiAgICAgICAgICAgIFdIRVJFIGdyb3VwX2lkIElOICh7IiwiLmpvaW4oIj8iICogbGVuKGdyb3VwX2lkcykpfSkKICAgICAgICAgICAgIiIiLAogICAgICAgICAgICB0dXBsZShncm91cF9pZHMpLAogICAgICAgICkKICAgICAgICBjYW5kaWRhdGVzICY9IHtyb3dbMF0gZm9yIHJvdyBpbiBjdXIuZmV0Y2hhbGwoKX0KCiAgICByZXR1cm4gc29ydGVkKGNhbmRpZGF0ZXMpCgoKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KIyBQdWJsaWMgQVBJCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgpkZWYgc2NvcGVfZG9tX2xvY2F0aW9ucygKICAgICosCiAgICBkb21fY29ubjogc3FsaXRlMy5Db25uZWN0aW9uLAogICAgZG9tX3NuYXBzaG90X2lkOiBpbnQsCiAgICBjb250ZXh0X2hpbnRzOiBJdGVyYWJsZVtMU1NDb250ZXh0SGludF0sCikgLT4gTm9uZToKICAgICIiIgogICAgQXR0YWNoIGZpbHRlcmVkIExvY2F0aW9uQ2FuZGlkYXRlcyB0byBET00gTE9DQVRJT04gbm9kZXMuCgogICAgRWZmZWN0czoKICAgICAg4oCiIEluc2VydHMgcm93cyBpbnRvIGRvbV9sb2NhdGlvbl9jYW5kaWRhdGUgKHNuYXBzaG90LXNjb3BlZCkKICAgICAg4oCiIFNraXBzIGRlZHVwZWQgTE9DQVRJT04gbm9kZXMKICAgICAg4oCiIERvZXMgTk9UIHJlc29sdmUgb3Igc2VsZWN0CiAgICAiIiIKCiAgICBnYXpfY29ubiA9IHNxbGl0ZTMuY29ubmVjdChnYXpldHRlZXJfcGF0aCgpKQogICAgZG9tX2N1ciA9IGRvbV9jb25uLmN1cnNvcigpCiAgICBnYXpfY3VyID0gZ2F6X2Nvbm4uY3Vyc29yKCkKCiAgICAjIE9ubHkgbm9uLWRlZHVwZWQgTE9DQVRJT04gbm9kZXMKICAgIGRvbV9jdXIuZXhlY3V0ZSgKICAgICAgICAiIiIKICAgICAgICBTRUxFQ1QgZG4uaWQsIGRwLnRleHQKICAgICAgICBGUk9NIGRvbV9ub2RlIGRuCiAgICAgICAgSk9JTiBkb21fbm9kZV9zdGF0ZSBzdAogICAgICAgICAgT04gc3QuZG9tX25vZGVfaWQgPSBkbi5pZAogICAgICAgICBBTkQgc3QuZG9tX3NuYXBzaG90X2lkID0gPwogICAgICAgIEpPSU4gZG9tX25vZGVfcHJvdmVuYW5jZSBkcAogICAgICAgICAgT04gZHAuZG9tX25vZGVfaWQgPSBkbi5pZAogICAgICAgIFdIRVJFIGRuLm5vZGVfdHlwZSA9ICdMT0NBVElPTicKICAgICAgICAgIEFORCBzdC5kZWR1cGVkID0gRkFMU0UKICAgICAgICAiIiIsCiAgICAgICAgKGRvbV9zbmFwc2hvdF9pZCwpLAogICAgKQoKICAgIGZvciBkb21fbG9jX2lkLCBsb2NhdGlvbl90ZXh0IGluIGRvbV9jdXIuZmV0Y2hhbGwoKToKICAgICAgICBjb250ZXh0ID0gX2NvbGxlY3RfY29udGV4dF9jaGFpbigKICAgICAgICAgICAgbm9kZV9pZD1kb21fbG9jX2lkLAogICAgICAgICAgICBkb21fY29ubj1kb21fY29ubiwKICAgICAgICAgICAgY29udGV4dF9oaW50cz1jb250ZXh0X2hpbnRzLAogICAgICAgICkKCiAgICAgICAgY2FuZGlkYXRlX2lkcyA9IF9maWx0ZXJfbG9jYXRpb25fY2FuZGlkYXRlcygKICAgICAgICAgICAgbG9jYXRpb25fdGV4dD1sb2NhdGlvbl90ZXh0LAogICAgICAgICAgICBjb250ZXh0PWNvbnRleHQsCiAgICAgICAgICAgIGdhel9jb25uPWdhel9jb25uLAogICAgICAgICkKCiAgICAgICAgZm9yIGxvY19pZCBpbiBjYW5kaWRhdGVfaWRzOgogICAgICAgICAgICBnYXpfY3VyLmV4ZWN1dGUoCiAgICAgICAgICAgICAgICAiIiIKICAgICAgICAgICAgICAgIFNFTEVDVCBsYXQsIGxvbiwgbmFtZSwgcGxhY2UsIHdpa2lkYXRhCiAgICAgICAgICAgICAgICBGUk9NIGxvY2F0aW9ucwogICAgICAgICAgICAgICAgV0hFUkUgbG9jYXRpb25faWQgPSA/CiAgICAgICAgICAgICAgICAiIiIsCiAgICAgICAgICAgICAgICAobG9jX2lkLCksCiAgICAgICAgICAgICkKICAgICAgICAgICAgcm93ID0gZ2F6X2N1ci5mZXRjaG9uZSgpCiAgICAgICAgICAgIGlmIHJvdyBpcyBOb25lOgogICAgICAgICAgICAgICAgY29udGludWUKCiAgICAgICAgICAgIGxhdCwgbG9uLCBuYW1lLCBwbGFjZSwgd2lraWRhdGEgPSByb3cKCiAgICAgICAgICAgIGRvbV9jdXIuZXhlY3V0ZSgKICAgICAgICAgICAgICAgICIiIgogICAgICAgICAgICAgICAgSU5TRVJUIElOVE8gZG9tX2xvY2F0aW9uX2NhbmRpZGF0ZSAoCiAgICAgICAgICAgICAgICAgICAgZG9tX3NuYXBzaG90X2lkLAogICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uX25vZGVfaWQsCiAgICAgICAgICAgICAgICAgICAgZ2F6ZXR0ZWVyX2xvY2F0aW9uX2lkLAogICAgICAgICAgICAgICAgICAgIGxhdCwKICAgICAgICAgICAgICAgICAgICBsb24sCiAgICAgICAgICAgICAgICAgICAgbmFtZSwKICAgICAgICAgICAgICAgICAgICBwbGFjZSwKICAgICAgICAgICAgICAgICAgICB3aWtpZGF0YSwKICAgICAgICAgICAgICAgICAgICBjb25maWRlbmNlLAogICAgICAgICAgICAgICAgICAgIGRpc3RfZnJvbV9mcm9udCwKICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZCwKICAgICAgICAgICAgICAgICAgICBwZXJzaXN0cwogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgVkFMVUVTICg/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCBOVUxMLCBOVUxMLCBGQUxTRSwgRkFMU0UpCiAgICAgICAgICAgICAgICAiIiIsCiAgICAgICAgICAgICAgICAoCiAgICAgICAgICAgICAgICAgICAgZG9tX3NuYXBzaG90X2lkLAogICAgICAgICAgICAgICAgICAgIGRvbV9sb2NfaWQsCiAgICAgICAgICAgICAgICAgICAgbG9jX2lkLAogICAgICAgICAgICAgICAgICAgIGxhdCwKICAgICAgICAgICAgICAgICAgICBsb24sCiAgICAgICAgICAgICAgICAgICAgbmFtZSwKICAgICAgICAgICAgICAgICAgICBwbGFjZSwKICAgICAgICAgICAgICAgICAgICB3aWtpZGF0YSwKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICkKCiAgICBkb21fY29ubi5jb21taXQoKQogICAgZ2F6X2Nvbm4uY2xvc2UoKQoAAAAAAAAAAJYXAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAlhcAAAAAAACWFwAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "src/sitrepc2/dom/dom_tree_builder.py",
			"settings":
			{
				"buffer_size": 6894,
				"encoding": "UTF-8",
				"line_ending": "Unix",
				"name": "from __future__ import annotations"
			},
			"undo_stack":
			[
				[
					1,
					1,
					"paste",
					null,
					"AQAAAAAAAAAAAAAA7hoAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "src/sitrepc2/dom/dom_first_review.py",
			"settings":
			{
				"buffer_size": 2768,
				"encoding": "UTF-8",
				"line_ending": "Unix",
				"name": "from __future__ import annotations"
			},
			"undo_stack":
			[
				[
					1,
					1,
					"paste",
					null,
					"AQAAAAAAAAAAAAAA0AoAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "src/sitrepc2/dom/nodes.py",
			"settings":
			{
				"buffer_size": 3643,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					13,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAA7DgAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSBkYXRhY2xhc3NlcyBpbXBvcnQgZGF0YWNsYXNzLCBmaWVsZApmcm9tIHR5cGluZyBpbXBvcnQgTGlzdCwgT3B0aW9uYWwsIExpdGVyYWwKCgojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQojIENPTlRFWFQgKE1FVEFEQVRBLCBOT1QgQSBOT0RFKQojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKQGRhdGFjbGFzcyhmcm96ZW49VHJ1ZSwgc2xvdHM9VHJ1ZSkKY2xhc3MgQ29udGV4dDoKICAgICIiIgogICAgQ29udGV4dHVhbCBjb25zdHJhaW50IGFwcGxpZWQgdG8gYSBub2RlLgogICAgIiIiCgogICAgY3R4X2tpbmQ6IExpdGVyYWxbIlJFR0lPTiIsICJHUk9VUCIsICJESVJFQ1RJT04iXQogICAgdmFsdWU6IHN0cgogICAgc2VsZWN0ZWQ6IGJvb2wgPSBUcnVlCgoKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KIyBBQ1RPUiAoTUVUQURBVEEsIE5PVCBBIE5PREUpCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgpAZGF0YWNsYXNzKGZyb3plbj1UcnVlLCBzbG90cz1UcnVlKQpjbGFzcyBBY3RvcjoKICAgICIiIgogICAgQWN0b3IgZXh0cmFjdGVkIGZyb20gTFNTIC8gSG9sbWVzLgogICAgIiIiCgogICAgdGV4dDogc3RyCiAgICBnYXpldHRlZXJfZ3JvdXBfaWQ6IE9wdGlvbmFsW2ludF0KICAgIHNlbGVjdGVkOiBib29sID0gVHJ1ZQoKCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiMgQkFTRSBET00gTk9ERSAoU1RSVUNUVVJBTCBPTkxZKQojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKQGRhdGFjbGFzcyhzbG90cz1UcnVlKQpjbGFzcyBEb21Ob2RlOgogICAgIiIiCiAgICBCYXNlIGNsYXNzIGZvciBhbGwgRE9NIHRyZWUgbm9kZXMuCgogICAgTk9URToKICAgIE9ubHkgaW1tdXRhYmxlIHN0cnVjdHVyYWwgaWRlbnRpdHkgYmVsb25ncyBpbiBfX2luaXRfXy4KICAgIE11dGFibGUgc3RhdGUgaXMgYXR0YWNoZWQgcG9zdC1jb25zdHJ1Y3Rpb24uCiAgICAiIiIKCiAgICAjIC0tLS0tLS0tIFNUUlVDVFVSQUwgSURFTlRJVFkgKE5PIERFRkFVTFRTKSAtLS0tLS0tLQoKICAgIG5vZGVfaWQ6IHN0cgogICAgc3VtbWFyeTogc3RyCgogICAgIyAtLS0tLS0tLSBNVVRBQkxFIFNUQVRFIChOT1QgSU4gX19pbml0X18pIC0tLS0tLS0tCgogICAgc2VsZWN0ZWQ6IGJvb2wgPSBmaWVsZChkZWZhdWx0PVRydWUsIGluaXQ9RmFsc2UpCiAgICBwYXJlbnQ6IE9wdGlvbmFsWyJEb21Ob2RlIl0gPSBmaWVsZChkZWZhdWx0PU5vbmUsIGluaXQ9RmFsc2UpCiAgICBjaGlsZHJlbjogTGlzdFsiRG9tTm9kZSJdID0gZmllbGQoZGVmYXVsdF9mYWN0b3J5PWxpc3QsIGluaXQ9RmFsc2UpCiAgICBjb250ZXh0czogTGlzdFtDb250ZXh0XSA9IGZpZWxkKGRlZmF1bHRfZmFjdG9yeT1saXN0LCBpbml0PUZhbHNlKQogICAgZGVkdXBlZDogYm9vbCA9IGZpZWxkKGRlZmF1bHQ9RmFsc2UsIGluaXQ9RmFsc2UpCiAgICBkZWR1cGVfdGFyZ2V0OiBPcHRpb25hbFsiRG9tTm9kZSJdID0gZmllbGQoZGVmYXVsdD1Ob25lLCBpbml0PUZhbHNlKQoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBkZWYgYWRkX2NoaWxkKHNlbGYsIGNoaWxkOiAiRG9tTm9kZSIpIC0+IE5vbmU6CiAgICAgICAgY2hpbGQucGFyZW50ID0gc2VsZgogICAgICAgIHNlbGYuY2hpbGRyZW4uYXBwZW5kKGNoaWxkKQoKCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiMgUE9TVCBOT0RFIChST09UKQojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKQGRhdGFjbGFzcyhzbG90cz1UcnVlKQpjbGFzcyBQb3N0Tm9kZShEb21Ob2RlKToKICAgICIiIgogICAgUm9vdCBub2RlIGZvciBhIHNpbmdsZSBpbmdlc3QgcG9zdC4KICAgICIiIgoKICAgIGluZ2VzdF9wb3N0X2lkOiBpbnQKICAgIGxzc19ydW5faWQ6IGludAoKCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiMgU0VDVElPTiBOT0RFCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgpAZGF0YWNsYXNzKHNsb3RzPVRydWUpCmNsYXNzIFNlY3Rpb25Ob2RlKERvbU5vZGUpOgogICAgc2VjdGlvbl9pbmRleDogaW50CgoKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KIyBFVkVOVCBOT0RFCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgpAZGF0YWNsYXNzKHNsb3RzPVRydWUpCmNsYXNzIEV2ZW50Tm9kZShEb21Ob2RlKToKICAgIGV2ZW50X3VpZDogc3RyCiAgICBhY3RvcnM6IExpc3RbQWN0b3JdID0gZmllbGQoZGVmYXVsdF9mYWN0b3J5PWxpc3QpCgoKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KIyBMT0NBVElPTiBTRVJJRVMgTk9ERQojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKQGRhdGFjbGFzcyhzbG90cz1UcnVlKQpjbGFzcyBMb2NhdGlvblNlcmllc05vZGUoRG9tTm9kZSk6CiAgICBzZXJpZXNfaW5kZXg6IGludAoKCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiMgTE9DQVRJT04gTk9ERQojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKQGRhdGFjbGFzcyhzbG90cz1UcnVlKQpjbGFzcyBMb2NhdGlvbk5vZGUoRG9tTm9kZSk6CiAgICBtZW50aW9uX3RleHQ6IHN0cgogICAgcmVzb2x2ZWQ6IGJvb2wgPSBGYWxzZQoKCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiMgTE9DQVRJT04gQ0FORElEQVRFIE5PREUKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCkBkYXRhY2xhc3Moc2xvdHM9VHJ1ZSkKY2xhc3MgTG9jYXRpb25DYW5kaWRhdGVOb2RlKERvbU5vZGUpOgogICAgZ2F6ZXR0ZWVyX2xvY2F0aW9uX2lkOiBPcHRpb25hbFtpbnRdCgogICAgbGF0OiBPcHRpb25hbFtmbG9hdF0KICAgIGxvbjogT3B0aW9uYWxbZmxvYXRdCiAgICBuYW1lOiBPcHRpb25hbFtzdHJdCiAgICBwbGFjZTogT3B0aW9uYWxbc3RyXQogICAgd2lraWRhdGE6IE9wdGlvbmFsW3N0cl0KCiAgICBjb25maWRlbmNlOiBPcHRpb25hbFtmbG9hdF0KICAgIHBlcnNpc3RzOiBib29sCiAgICBkaXN0X2Zyb21fZnJvbnQ6IGZsb2F0CgAAAAAAAAAAOw4AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAiwYAAAAAAADUBgAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "src/sitrepc2/dom/dom_dedupe.py",
			"settings":
			{
				"buffer_size": 6235,
				"line_ending": "Unix",
				"name": "from __future__ import annotations"
			},
			"undo_stack":
			[
				[
					1,
					1,
					"paste",
					null,
					"AQAAAAAAAAAAAAAAWxgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					7,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABbGAAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKaW1wb3J0IHNxbGl0ZTMKZnJvbSBjb2xsZWN0aW9ucyBpbXBvcnQgZGVmYXVsdGRpY3QKZnJvbSB0eXBpbmcgaW1wb3J0IERpY3QsIEl0ZXJhYmxlLCBMaXN0LCBUdXBsZQoKZnJvbSBzaXRyZXBjMi5sc3MubHNzX3Njb3BpbmcgaW1wb3J0IExTU0NvbnRleHRIaW50CgoKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KIyBVdGlsaXRpZXMKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCmRlZiBfbm9ybWFsaXplKHRleHQ6IHN0cikgLT4gc3RyOgogICAgcmV0dXJuICIgIi5qb2luKHRleHQubG93ZXIoKS5zcGxpdCgpKQoKCmRlZiBfZWZmZWN0aXZlX2NvbnRleHRfc2lnbmF0dXJlKAogICAgKiwKICAgIGRvbV9ub2RlX2lkOiBpbnQsCiAgICBkb21fY29ubjogc3FsaXRlMy5Db25uZWN0aW9uLAogICAgY29udGV4dF9oaW50czogSXRlcmFibGVbTFNTQ29udGV4dEhpbnRdLAopIC0+IFR1cGxlW1R1cGxlW3N0ciwgaW50XSwgLi4uXToKICAgICIiIgogICAgQ29udGV4dCBzaWduYXR1cmUgdXNlZCBPTkxZIGZvciBkZWR1cGUgZXF1aXZhbGVuY2UuCgogICAgSW5jbHVkZXMgb25seToKICAgICAgUkVHSU9OIC8gR1JPVVAgLyBESVJFQ1RJT04KICAgIEFjcm9zcyB0aGUgZnVsbCBkb21pbmFuY2UgY2hhaW4uCiAgICAiIiIKCiAgICBzaWcgPSBbXQoKICAgIGZvciBoIGluIGNvbnRleHRfaGludHM6CiAgICAgICAgaWYgaC5jdHhfa2luZCBub3QgaW4geyJSRUdJT04iLCAiR1JPVVAiLCAiRElSRUNUSU9OIn06CiAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgc2lnLmFwcGVuZCgoaC5jdHhfa2luZCwgaC50YXJnZXRfaWQgb3IgLTEpKQoKICAgIHJldHVybiB0dXBsZShzb3J0ZWQoc2lnKSkKCgpkZWYgX21hcmtfZGVkdXBlZCgKICAgICosCiAgICBkb21fY29ubjogc3FsaXRlMy5Db25uZWN0aW9uLAogICAgZHVwX2lkOiBpbnQsCiAgICBjYW5vbmljYWxfaWQ6IGludCwKKSAtPiBOb25lOgogICAgY3VyID0gZG9tX2Nvbm4uY3Vyc29yKCkKICAgIGN1ci5leGVjdXRlKAogICAgICAgICIiIgogICAgICAgIFVQREFURSBkb21fbm9kZV9zdGF0ZQogICAgICAgIFNFVCBkZWR1cGVkID0gVFJVRSwKICAgICAgICAgICAgZGVkdXBlX3RhcmdldF9pZCA9ID8KICAgICAgICBXSEVSRSBkb21fbm9kZV9pZCA9ID8KICAgICAgICAiIiIsCiAgICAgICAgKGNhbm9uaWNhbF9pZCwgZHVwX2lkKSwKICAgICkKCgojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQojIENvcmUgZGVkdXBlIGVuZ2luZQojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKZGVmIF9kZWR1cGVfY2hpbGRyZW4oCiAgICAqLAogICAgZG9tX2Nvbm46IHNxbGl0ZTMuQ29ubmVjdGlvbiwKICAgIHBhcmVudF9pZDogaW50LAogICAgbm9kZV90eXBlOiBzdHIsCiAgICBrZXlfZm4sCikgLT4gTm9uZToKICAgICIiIgogICAgR2VuZXJpYyBzaWJsaW5nIGRlZHVwZSB1bmRlciBhIHNpbmdsZSBwYXJlbnQuCiAgICAiIiIKCiAgICBjdXIgPSBkb21fY29ubi5jdXJzb3IoKQoKICAgIGN1ci5leGVjdXRlKAogICAgICAgICIiIgogICAgICAgIFNFTEVDVCBkbi5pZCwgZHAudGV4dAogICAgICAgIEZST00gZG9tX25vZGUgZG4KICAgICAgICBMRUZUIEpPSU4gZG9tX25vZGVfcHJvdmVuYW5jZSBkcCBPTiBkcC5kb21fbm9kZV9pZCA9IGRuLmlkCiAgICAgICAgSk9JTiBkb21fbm9kZV9zdGF0ZSBzdCBPTiBzdC5kb21fbm9kZV9pZCA9IGRuLmlkCiAgICAgICAgV0hFUkUgZG4ucGFyZW50X2lkID0gPwogICAgICAgICAgQU5EIGRuLm5vZGVfdHlwZSA9ID8KICAgICAgICAgIEFORCBzdC5kZWR1cGVkID0gRkFMU0UKICAgICAgICBPUkRFUiBCWSBkbi5zaWJsaW5nX29yZGVyCiAgICAgICAgIiIiLAogICAgICAgIChwYXJlbnRfaWQsIG5vZGVfdHlwZSksCiAgICApCgogICAgc2VlbjogRGljdFtUdXBsZSwgaW50XSA9IHt9CgogICAgZm9yIG5vZGVfaWQsIHRleHQgaW4gY3VyLmZldGNoYWxsKCk6CiAgICAgICAga2V5ID0ga2V5X2ZuKG5vZGVfaWQsIHRleHQpCgogICAgICAgIGlmIGtleSBpbiBzZWVuOgogICAgICAgICAgICBfbWFya19kZWR1cGVkKAogICAgICAgICAgICAgICAgZG9tX2Nvbm49ZG9tX2Nvbm4sCiAgICAgICAgICAgICAgICBkdXBfaWQ9bm9kZV9pZCwKICAgICAgICAgICAgICAgIGNhbm9uaWNhbF9pZD1zZWVuW2tleV0sCiAgICAgICAgICAgICkKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZWVuW2tleV0gPSBub2RlX2lkCgoKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KIyBQdWJsaWMgQVBJCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgpkZWYgZG9tX2RlZHVwZSgKICAgICosCiAgICBkb21fY29ubjogc3FsaXRlMy5Db25uZWN0aW9uLAogICAgY29udGV4dF9oaW50czogTGlzdFtMU1NDb250ZXh0SGludF0sCikgLT4gTm9uZToKICAgICIiIgogICAgSGllcmFyY2h5LXdpZGUgRE9NIGRlZHVwbGljYXRpb24uCgogICAgTXVzdCBiZSBydW4gQUZURVIgZG9tX2luZ2VzdAogICAgTXVzdCBiZSBydW4gQkVGT1JFIGRvbV9zY29waW5nCiAgICAiIiIKCiAgICBjdXIgPSBkb21fY29ubi5jdXJzb3IoKQoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIFNFQ1RJT04KICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgY3VyLmV4ZWN1dGUoCiAgICAgICAgIiIiCiAgICAgICAgU0VMRUNUIGlkCiAgICAgICAgRlJPTSBkb21fbm9kZQogICAgICAgIFdIRVJFIG5vZGVfdHlwZSA9ICdQT1NUJwogICAgICAgICIiIgogICAgKQoKICAgIGZvciAocG9zdF9pZCwpIGluIGN1ci5mZXRjaGFsbCgpOgogICAgICAgIF9kZWR1cGVfY2hpbGRyZW4oCiAgICAgICAgICAgIGRvbV9jb25uPWRvbV9jb25uLAogICAgICAgICAgICBwYXJlbnRfaWQ9cG9zdF9pZCwKICAgICAgICAgICAgbm9kZV90eXBlPSJTRUNUSU9OIiwKICAgICAgICAgICAga2V5X2ZuPWxhbWJkYSBuaWQsIHRleHQ6ICgKICAgICAgICAgICAgICAgIF9ub3JtYWxpemUodGV4dCBvciAiIiksCiAgICAgICAgICAgICAgICBfZWZmZWN0aXZlX2NvbnRleHRfc2lnbmF0dXJlKAogICAgICAgICAgICAgICAgICAgIGRvbV9ub2RlX2lkPW5pZCwKICAgICAgICAgICAgICAgICAgICBkb21fY29ubj1kb21fY29ubiwKICAgICAgICAgICAgICAgICAgICBjb250ZXh0X2hpbnRzPWNvbnRleHRfaGludHMsCiAgICAgICAgICAgICAgICApLAogICAgICAgICAgICApLAogICAgICAgICkKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBFVkVOVAogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBjdXIuZXhlY3V0ZSgKICAgICAgICAiIiIKICAgICAgICBTRUxFQ1QgaWQKICAgICAgICBGUk9NIGRvbV9ub2RlCiAgICAgICAgV0hFUkUgbm9kZV90eXBlIElOICgnUE9TVCcsICdTRUNUSU9OJykKICAgICAgICAiIiIKICAgICkKCiAgICBmb3IgKHBhcmVudF9pZCwpIGluIGN1ci5mZXRjaGFsbCgpOgogICAgICAgIF9kZWR1cGVfY2hpbGRyZW4oCiAgICAgICAgICAgIGRvbV9jb25uPWRvbV9jb25uLAogICAgICAgICAgICBwYXJlbnRfaWQ9cGFyZW50X2lkLAogICAgICAgICAgICBub2RlX3R5cGU9IkVWRU5UIiwKICAgICAgICAgICAga2V5X2ZuPWxhbWJkYSBuaWQsIHRleHQ6ICgKICAgICAgICAgICAgICAgIF9ub3JtYWxpemUodGV4dCBvciAiIiksCiAgICAgICAgICAgICAgICBfZWZmZWN0aXZlX2NvbnRleHRfc2lnbmF0dXJlKAogICAgICAgICAgICAgICAgICAgIGRvbV9ub2RlX2lkPW5pZCwKICAgICAgICAgICAgICAgICAgICBkb21fY29ubj1kb21fY29ubiwKICAgICAgICAgICAgICAgICAgICBjb250ZXh0X2hpbnRzPWNvbnRleHRfaGludHMsCiAgICAgICAgICAgICAgICApLAogICAgICAgICAgICApLAogICAgICAgICkKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBMT0NBVElPTl9TRVJJRVMKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgY3VyLmV4ZWN1dGUoCiAgICAgICAgIiIiCiAgICAgICAgU0VMRUNUIGlkCiAgICAgICAgRlJPTSBkb21fbm9kZQogICAgICAgIFdIRVJFIG5vZGVfdHlwZSA9ICdFVkVOVCcKICAgICAgICAiIiIKICAgICkKCiAgICBmb3IgKGV2ZW50X2lkLCkgaW4gY3VyLmZldGNoYWxsKCk6CiAgICAgICAgZGVmIHNlcmllc19rZXkobmlkLCBfKToKICAgICAgICAgICAgYyA9IGRvbV9jb25uLmN1cnNvcigpCiAgICAgICAgICAgIGMuZXhlY3V0ZSgKICAgICAgICAgICAgICAgICIiIgogICAgICAgICAgICAgICAgU0VMRUNUIGRwLnRleHQKICAgICAgICAgICAgICAgIEZST00gZG9tX25vZGUgZG4KICAgICAgICAgICAgICAgIEpPSU4gZG9tX25vZGUgZHBuIE9OIGRwbi5wYXJlbnRfaWQgPSBkbi5pZAogICAgICAgICAgICAgICAgSk9JTiBkb21fbm9kZV9wcm92ZW5hbmNlIGRwIE9OIGRwLmRvbV9ub2RlX2lkID0gZHBuLmlkCiAgICAgICAgICAgICAgICBXSEVSRSBkbi5pZCA9ID8KICAgICAgICAgICAgICAgIE9SREVSIEJZIGRwbi5zaWJsaW5nX29yZGVyCiAgICAgICAgICAgICAgICAiIiIsCiAgICAgICAgICAgICAgICAobmlkLCksCiAgICAgICAgICAgICkKICAgICAgICAgICAgaXRlbXMgPSBbX25vcm1hbGl6ZShyWzBdKSBmb3IgciBpbiBjLmZldGNoYWxsKCldCiAgICAgICAgICAgIHJldHVybiAoCiAgICAgICAgICAgICAgICB0dXBsZShpdGVtcyksCiAgICAgICAgICAgICAgICBfZWZmZWN0aXZlX2NvbnRleHRfc2lnbmF0dXJlKAogICAgICAgICAgICAgICAgICAgIGRvbV9ub2RlX2lkPW5pZCwKICAgICAgICAgICAgICAgICAgICBkb21fY29ubj1kb21fY29ubiwKICAgICAgICAgICAgICAgICAgICBjb250ZXh0X2hpbnRzPWNvbnRleHRfaGludHMsCiAgICAgICAgICAgICAgICApLAogICAgICAgICAgICApCgogICAgICAgIF9kZWR1cGVfY2hpbGRyZW4oCiAgICAgICAgICAgIGRvbV9jb25uPWRvbV9jb25uLAogICAgICAgICAgICBwYXJlbnRfaWQ9ZXZlbnRfaWQsCiAgICAgICAgICAgIG5vZGVfdHlwZT0iTE9DQVRJT05fU0VSSUVTIiwKICAgICAgICAgICAga2V5X2ZuPXNlcmllc19rZXksCiAgICAgICAgKQoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIExPQ0FUSU9OCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGN1ci5leGVjdXRlKAogICAgICAgICIiIgogICAgICAgIFNFTEVDVCBpZAogICAgICAgIEZST00gZG9tX25vZGUKICAgICAgICBXSEVSRSBub2RlX3R5cGUgPSAnTE9DQVRJT05fU0VSSUVTJwogICAgICAgICIiIgogICAgKQoKICAgIGZvciAoc2VyaWVzX2lkLCkgaW4gY3VyLmZldGNoYWxsKCk6CiAgICAgICAgX2RlZHVwZV9jaGlsZHJlbigKICAgICAgICAgICAgZG9tX2Nvbm49ZG9tX2Nvbm4sCiAgICAgICAgICAgIHBhcmVudF9pZD1zZXJpZXNfaWQsCiAgICAgICAgICAgIG5vZGVfdHlwZT0iTE9DQVRJT04iLAogICAgICAgICAgICBrZXlfZm49bGFtYmRhIG5pZCwgdGV4dDogKAogICAgICAgICAgICAgICAgX25vcm1hbGl6ZSh0ZXh0IG9yICIiKSwKICAgICAgICAgICAgICAgIF9lZmZlY3RpdmVfY29udGV4dF9zaWduYXR1cmUoCiAgICAgICAgICAgICAgICAgICAgZG9tX25vZGVfaWQ9bmlkLAogICAgICAgICAgICAgICAgICAgIGRvbV9jb25uPWRvbV9jb25uLAogICAgICAgICAgICAgICAgICAgIGNvbnRleHRfaGludHM9Y29udGV4dF9oaW50cywKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICksCiAgICAgICAgKQoKICAgIGRvbV9jb25uLmNvbW1pdCgpCgAAAAAAAAAAWxgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAACxUAAAAAAAALFQAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "src/sitrepc2/gui/ingest/ingest_workspace.py",
			"redo_stack":
			[
				[
					20,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABgFQAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSB0eXBpbmcgaW1wb3J0IERpY3QsIE9wdGlvbmFsCgpmcm9tIFB5U2lkZTYuUXRDb3JlIGltcG9ydCBRdApmcm9tIFB5U2lkZTYuUXRXaWRnZXRzIGltcG9ydCAoCiAgICBRV2lkZ2V0LAogICAgUVZCb3hMYXlvdXQsCiAgICBRU3BsaXR0ZXIsCiAgICBRTGFiZWwsCiAgICBRVGFibGVXaWRnZXQsCiAgICBRVGFibGVXaWRnZXRJdGVtLAogICAgUVRyZWVXaWRnZXQsCiAgICBRVHJlZVdpZGdldEl0ZW0sCiAgICBRQWJzdHJhY3RJdGVtVmlldywKKQoKZnJvbSBzaXRyZXBjMi5ndWkucmV2aWV3LmNvbnRyb2xsZXIgaW1wb3J0IFJldmlld0NvbnRyb2xsZXIKCgojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KIyBSZXZpZXcgV29ya3NwYWNlCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKY2xhc3MgUmV2aWV3V29ya3NwYWNlKFFXaWRnZXQpOgogICAgIiIiCiAgICBET00tYmFja2VkIHJldmlldyB3b3Jrc3BhY2UuCiAgICAiIiIKCiAgICBkZWYgX19pbml0X18oc2VsZiwgcGFyZW50OiBPcHRpb25hbFtRV2lkZ2V0XSA9IE5vbmUpIC0+IE5vbmU6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXyhwYXJlbnQpCgogICAgICAgIHNlbGYucmV2aWV3ID0gUmV2aWV3Q29udHJvbGxlcigpCgogICAgICAgIHNlbGYuX2N1cnJlbnRfc25hcHNob3RfaWQ6IE9wdGlvbmFsW2ludF0gPSBOb25lCiAgICAgICAgc2VsZi5fbm9kZXNfYnlfaWQ6IERpY3RbaW50LCBRVHJlZVdpZGdldEl0ZW1dID0ge30KCiAgICAgICAgc2VsZi5fYnVpbGRfdWkoKQogICAgICAgIHNlbGYuX2xvYWRfcnVucygpCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICMgVUkKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIF9idWlsZF91aShzZWxmKSAtPiBOb25lOgogICAgICAgIHJvb3QgPSBRVkJveExheW91dChzZWxmKQogICAgICAgIHJvb3QuYWRkV2lkZ2V0KFFMYWJlbCgiRE9NIFJldmlldyIpKQoKICAgICAgICBzcGxpdHRlciA9IFFTcGxpdHRlcihRdC5Ib3Jpem9udGFsKQoKICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgIyBSdW5zIHRhYmxlCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgICAgICBzZWxmLnRhYmxlID0gUVRhYmxlV2lkZ2V0KCkKICAgICAgICBzZWxmLnRhYmxlLnNldENvbHVtbkNvdW50KDQpCiAgICAgICAgc2VsZi50YWJsZS5zZXRIb3Jpem9udGFsSGVhZGVyTGFiZWxzKAogICAgICAgICAgICBbIkluZ2VzdCBQb3N0IiwgIkxTUyBSdW4iLCAiRXZlbnRzIiwgIlN0YXJ0ZWQiXQogICAgICAgICkKICAgICAgICBzZWxmLnRhYmxlLnNldFNlbGVjdGlvbkJlaGF2aW9yKFFBYnN0cmFjdEl0ZW1WaWV3LlNlbGVjdFJvd3MpCiAgICAgICAgc2VsZi50YWJsZS5zZXRFZGl0VHJpZ2dlcnMoUUFic3RyYWN0SXRlbVZpZXcuTm9FZGl0VHJpZ2dlcnMpCiAgICAgICAgc2VsZi50YWJsZS52ZXJ0aWNhbEhlYWRlcigpLnNldFZpc2libGUoRmFsc2UpCiAgICAgICAgc2VsZi50YWJsZS5pdGVtU2VsZWN0aW9uQ2hhbmdlZC5jb25uZWN0KHNlbGYuX29uX3J1bl9zZWxlY3RlZCkKCiAgICAgICAgc3BsaXR0ZXIuYWRkV2lkZ2V0KHNlbGYudGFibGUpCgogICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICAjIERPTSB0cmVlCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgICAgICBzZWxmLnRyZWUgPSBRVHJlZVdpZGdldCgpCiAgICAgICAgc2VsZi50cmVlLnNldEhlYWRlckxhYmVscyhbIk5vZGUiLCAiVHlwZSJdKQogICAgICAgIHNlbGYudHJlZS5pdGVtQ2hhbmdlZC5jb25uZWN0KHNlbGYuX29uX2l0ZW1fY2hhbmdlZCkKCiAgICAgICAgc3BsaXR0ZXIuYWRkV2lkZ2V0KHNlbGYudHJlZSkKICAgICAgICBzcGxpdHRlci5zZXRTdHJldGNoRmFjdG9yKDEsIDMpCgogICAgICAgIHJvb3QuYWRkV2lkZ2V0KHNwbGl0dGVyKQoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIFJ1bnMKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIF9sb2FkX3J1bnMoc2VsZikgLT4gTm9uZToKICAgICAgICBydW5zID0gc2VsZi5yZXZpZXcubGlzdF9yZXZpZXdhYmxlX3J1bnMoKQoKICAgICAgICBzZWxmLnRhYmxlLnNldFJvd0NvdW50KGxlbihydW5zKSkKCiAgICAgICAgZm9yIHIsIHJvdyBpbiBlbnVtZXJhdGUocnVucyk6CiAgICAgICAgICAgIHNlbGYudGFibGUuc2V0SXRlbShyLCAwLCBRVGFibGVXaWRnZXRJdGVtKHN0cihyb3dbImluZ2VzdF9wb3N0X2lkIl0pKSkKICAgICAgICAgICAgc2VsZi50YWJsZS5zZXRJdGVtKHIsIDEsIFFUYWJsZVdpZGdldEl0ZW0oc3RyKHJvd1sibHNzX3J1bl9pZCJdKSkpCiAgICAgICAgICAgIHNlbGYudGFibGUuc2V0SXRlbShyLCAyLCBRVGFibGVXaWRnZXRJdGVtKHN0cihyb3dbImV2ZW50X2NvdW50Il0pKSkKICAgICAgICAgICAgc2VsZi50YWJsZS5zZXRJdGVtKHIsIDMsIFFUYWJsZVdpZGdldEl0ZW0ocm93WyJzdGFydGVkX2F0Il0pKQoKICAgICAgICBzZWxmLnRhYmxlLnJlc2l6ZUNvbHVtbnNUb0NvbnRlbnRzKCkKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBSdW4gc2VsZWN0aW9uCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGRlZiBfb25fcnVuX3NlbGVjdGVkKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgaXRlbXMgPSBzZWxmLnRhYmxlLnNlbGVjdGVkSXRlbXMoKQogICAgICAgIGlmIG5vdCBpdGVtczoKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIHJvdyA9IGl0ZW1zWzBdLnJvdygpCgogICAgICAgIGluZ2VzdF9wb3N0X2lkID0gaW50KHNlbGYudGFibGUuaXRlbShyb3csIDApLnRleHQoKSkKICAgICAgICBsc3NfcnVuX2lkID0gaW50KHNlbGYudGFibGUuaXRlbShyb3csIDEpLnRleHQoKSkKCiAgICAgICAgc25hcHNob3RfaWQgPSBzZWxmLnJldmlldy5lbnRlcl9pbml0aWFsX3JldmlldygKICAgICAgICAgICAgaW5nZXN0X3Bvc3RfaWQ9aW5nZXN0X3Bvc3RfaWQsCiAgICAgICAgICAgIGxzc19ydW5faWQ9bHNzX3J1bl9pZCwKICAgICAgICApCgogICAgICAgIHNlbGYuX2N1cnJlbnRfc25hcHNob3RfaWQgPSBzbmFwc2hvdF9pZAogICAgICAgIHNlbGYuX2xvYWRfZG9tX3RyZWUoKQoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIFRyZWUKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIF9sb2FkX2RvbV90cmVlKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgc2VsZi50cmVlLmJsb2NrU2lnbmFscyhUcnVlKQogICAgICAgIHNlbGYudHJlZS5jbGVhcigpCiAgICAgICAgc2VsZi5fbm9kZXNfYnlfaWQuY2xlYXIoKQoKICAgICAgICByb3dzID0gc2VsZi5yZXZpZXcubG9hZF9kb21fdHJlZSgKICAgICAgICAgICAgZG9tX3NuYXBzaG90X2lkPXNlbGYuX2N1cnJlbnRfc25hcHNob3RfaWQKICAgICAgICApCgogICAgICAgICMgRmlyc3QgcGFzczogY3JlYXRlIGl0ZW1zCiAgICAgICAgZm9yIHJvdyBpbiByb3dzOgogICAgICAgICAgICBpdGVtID0gUVRyZWVXaWRnZXRJdGVtKFtyb3dbInN1bW1hcnkiXSwgcm93WyJub2RlX3R5cGUiXV0pCiAgICAgICAgICAgIGl0ZW0uc2V0RGF0YSgwLCBRdC5Vc2VyUm9sZSwgcm93WyJub2RlX2lkIl0pCiAgICAgICAgICAgIGl0ZW0uc2V0RmxhZ3MoaXRlbS5mbGFncygpIHwgUXQuSXRlbUlzVXNlckNoZWNrYWJsZSkKICAgICAgICAgICAgaXRlbS5zZXRDaGVja1N0YXRlKAogICAgICAgICAgICAgICAgMCwgUXQuQ2hlY2tlZCBpZiByb3dbInNlbGVjdGVkIl0gZWxzZSBRdC5VbmNoZWNrZWQKICAgICAgICAgICAgKQogICAgICAgICAgICBzZWxmLl9ub2Rlc19ieV9pZFtyb3dbIm5vZGVfaWQiXV0gPSBpdGVtCgogICAgICAgICMgU2Vjb25kIHBhc3M6IHBhcmVudC9jaGlsZCB3aXJpbmcKICAgICAgICBmb3Igcm93IGluIHJvd3M6CiAgICAgICAgICAgIGl0ZW0gPSBzZWxmLl9ub2Rlc19ieV9pZFtyb3dbIm5vZGVfaWQiXV0KICAgICAgICAgICAgcGFyZW50X2lkID0gcm93WyJwYXJlbnRfaWQiXQoKICAgICAgICAgICAgaWYgcGFyZW50X2lkIGlzIE5vbmU6CiAgICAgICAgICAgICAgICBzZWxmLnRyZWUuYWRkVG9wTGV2ZWxJdGVtKGl0ZW0pCiAgICAgICAgICAgICAgICBpdGVtLnNldEV4cGFuZGVkKFRydWUpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBzZWxmLl9ub2Rlc19ieV9pZFtwYXJlbnRfaWRdLmFkZENoaWxkKGl0ZW0pCgogICAgICAgIHNlbGYudHJlZS5ibG9ja1NpZ25hbHMoRmFsc2UpCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICMgU2VsZWN0aW9uCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGRlZiBfb25faXRlbV9jaGFuZ2VkKAogICAgICAgIHNlbGYsCiAgICAgICAgaXRlbTogUVRyZWVXaWRnZXRJdGVtLAogICAgICAgIGNvbHVtbjogaW50LAogICAgKSAtPiBOb25lOgogICAgICAgIGlmIGNvbHVtbiAhPSAwIG9yIHNlbGYuX2N1cnJlbnRfc25hcHNob3RfaWQgaXMgTm9uZToKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIG5vZGVfaWQgPSBpdGVtLmRhdGEoMCwgUXQuVXNlclJvbGUpCiAgICAgICAgc2VsZWN0ZWQgPSBpdGVtLmNoZWNrU3RhdGUoMCkgPT0gUXQuQ2hlY2tlZAoKICAgICAgICBzZWxmLnJldmlldy5zZXRfbm9kZV9zZWxlY3RlZCgKICAgICAgICAgICAgZG9tX3NuYXBzaG90X2lkPXNlbGYuX2N1cnJlbnRfc25hcHNob3RfaWQsCiAgICAgICAgICAgIGRvbV9ub2RlX2lkPW5vZGVfaWQsCiAgICAgICAgICAgIHNlbGVjdGVkPXNlbGVjdGVkLAogICAgICAgICkKAAAAAAAAAABgFQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAYBUAAAAAAABgFQAAAAAAAAAAAAAAAPC/"
				],
				[
					19,
					1,
					"paste",
					null,
					"AQAAAAAAAAAAAAAA60IAAAAAAABgFQAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSB0eXBpbmcgaW1wb3J0IERpY3QsIE9wdGlvbmFsCgpmcm9tIFB5U2lkZTYuUXRDb3JlIGltcG9ydCBRdApmcm9tIFB5U2lkZTYuUXRXaWRnZXRzIGltcG9ydCAoCiAgICBRV2lkZ2V0LAogICAgUVZCb3hMYXlvdXQsCiAgICBRU3BsaXR0ZXIsCiAgICBRTGFiZWwsCiAgICBRVGFibGVXaWRnZXQsCiAgICBRVGFibGVXaWRnZXRJdGVtLAogICAgUVRyZWVXaWRnZXQsCiAgICBRVHJlZVdpZGdldEl0ZW0sCiAgICBRQWJzdHJhY3RJdGVtVmlldywKKQoKZnJvbSBzaXRyZXBjMi5ndWkucmV2aWV3LmNvbnRyb2xsZXIgaW1wb3J0IFJldmlld0NvbnRyb2xsZXIKCgojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KIyBSZXZpZXcgV29ya3NwYWNlCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKY2xhc3MgUmV2aWV3V29ya3NwYWNlKFFXaWRnZXQpOgogICAgIiIiCiAgICBET00tYmFja2VkIHJldmlldyB3b3Jrc3BhY2UuCiAgICAiIiIKCiAgICBkZWYgX19pbml0X18oc2VsZiwgcGFyZW50OiBPcHRpb25hbFtRV2lkZ2V0XSA9IE5vbmUpIC0+IE5vbmU6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXyhwYXJlbnQpCgogICAgICAgIHNlbGYucmV2aWV3ID0gUmV2aWV3Q29udHJvbGxlcigpCgogICAgICAgIHNlbGYuX2N1cnJlbnRfc25hcHNob3RfaWQ6IE9wdGlvbmFsW2ludF0gPSBOb25lCiAgICAgICAgc2VsZi5fbm9kZXNfYnlfaWQ6IERpY3RbaW50LCBRVHJlZVdpZGdldEl0ZW1dID0ge30KCiAgICAgICAgc2VsZi5fYnVpbGRfdWkoKQogICAgICAgIHNlbGYuX2xvYWRfcnVucygpCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICMgVUkKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIF9idWlsZF91aShzZWxmKSAtPiBOb25lOgogICAgICAgIHJvb3QgPSBRVkJveExheW91dChzZWxmKQogICAgICAgIHJvb3QuYWRkV2lkZ2V0KFFMYWJlbCgiRE9NIFJldmlldyIpKQoKICAgICAgICBzcGxpdHRlciA9IFFTcGxpdHRlcihRdC5Ib3Jpem9udGFsKQoKICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgIyBSdW5zIHRhYmxlCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgICAgICBzZWxmLnRhYmxlID0gUVRhYmxlV2lkZ2V0KCkKICAgICAgICBzZWxmLnRhYmxlLnNldENvbHVtbkNvdW50KDQpCiAgICAgICAgc2VsZi50YWJsZS5zZXRIb3Jpem9udGFsSGVhZGVyTGFiZWxzKAogICAgICAgICAgICBbIkluZ2VzdCBQb3N0IiwgIkxTUyBSdW4iLCAiRXZlbnRzIiwgIlN0YXJ0ZWQiXQogICAgICAgICkKICAgICAgICBzZWxmLnRhYmxlLnNldFNlbGVjdGlvbkJlaGF2aW9yKFFBYnN0cmFjdEl0ZW1WaWV3LlNlbGVjdFJvd3MpCiAgICAgICAgc2VsZi50YWJsZS5zZXRFZGl0VHJpZ2dlcnMoUUFic3RyYWN0SXRlbVZpZXcuTm9FZGl0VHJpZ2dlcnMpCiAgICAgICAgc2VsZi50YWJsZS52ZXJ0aWNhbEhlYWRlcigpLnNldFZpc2libGUoRmFsc2UpCiAgICAgICAgc2VsZi50YWJsZS5pdGVtU2VsZWN0aW9uQ2hhbmdlZC5jb25uZWN0KHNlbGYuX29uX3J1bl9zZWxlY3RlZCkKCiAgICAgICAgc3BsaXR0ZXIuYWRkV2lkZ2V0KHNlbGYudGFibGUpCgogICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICAjIERPTSB0cmVlCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgICAgICBzZWxmLnRyZWUgPSBRVHJlZVdpZGdldCgpCiAgICAgICAgc2VsZi50cmVlLnNldEhlYWRlckxhYmVscyhbIk5vZGUiLCAiVHlwZSJdKQogICAgICAgIHNlbGYudHJlZS5pdGVtQ2hhbmdlZC5jb25uZWN0KHNlbGYuX29uX2l0ZW1fY2hhbmdlZCkKCiAgICAgICAgc3BsaXR0ZXIuYWRkV2lkZ2V0KHNlbGYudHJlZSkKICAgICAgICBzcGxpdHRlci5zZXRTdHJldGNoRmFjdG9yKDEsIDMpCgogICAgICAgIHJvb3QuYWRkV2lkZ2V0KHNwbGl0dGVyKQoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIFJ1bnMKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIF9sb2FkX3J1bnMoc2VsZikgLT4gTm9uZToKICAgICAgICBydW5zID0gc2VsZi5yZXZpZXcubGlzdF9yZXZpZXdhYmxlX3J1bnMoKQoKICAgICAgICBzZWxmLnRhYmxlLnNldFJvd0NvdW50KGxlbihydW5zKSkKCiAgICAgICAgZm9yIHIsIHJvdyBpbiBlbnVtZXJhdGUocnVucyk6CiAgICAgICAgICAgIHNlbGYudGFibGUuc2V0SXRlbShyLCAwLCBRVGFibGVXaWRnZXRJdGVtKHN0cihyb3dbImluZ2VzdF9wb3N0X2lkIl0pKSkKICAgICAgICAgICAgc2VsZi50YWJsZS5zZXRJdGVtKHIsIDEsIFFUYWJsZVdpZGdldEl0ZW0oc3RyKHJvd1sibHNzX3J1bl9pZCJdKSkpCiAgICAgICAgICAgIHNlbGYudGFibGUuc2V0SXRlbShyLCAyLCBRVGFibGVXaWRnZXRJdGVtKHN0cihyb3dbImV2ZW50X2NvdW50Il0pKSkKICAgICAgICAgICAgc2VsZi50YWJsZS5zZXRJdGVtKHIsIDMsIFFUYWJsZVdpZGdldEl0ZW0ocm93WyJzdGFydGVkX2F0Il0pKQoKICAgICAgICBzZWxmLnRhYmxlLnJlc2l6ZUNvbHVtbnNUb0NvbnRlbnRzKCkKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBSdW4gc2VsZWN0aW9uCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGRlZiBfb25fcnVuX3NlbGVjdGVkKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgaXRlbXMgPSBzZWxmLnRhYmxlLnNlbGVjdGVkSXRlbXMoKQogICAgICAgIGlmIG5vdCBpdGVtczoKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIHJvdyA9IGl0ZW1zWzBdLnJvdygpCgogICAgICAgIGluZ2VzdF9wb3N0X2lkID0gaW50KHNlbGYudGFibGUuaXRlbShyb3csIDApLnRleHQoKSkKICAgICAgICBsc3NfcnVuX2lkID0gaW50KHNlbGYudGFibGUuaXRlbShyb3csIDEpLnRleHQoKSkKCiAgICAgICAgc25hcHNob3RfaWQgPSBzZWxmLnJldmlldy5lbnRlcl9pbml0aWFsX3JldmlldygKICAgICAgICAgICAgaW5nZXN0X3Bvc3RfaWQ9aW5nZXN0X3Bvc3RfaWQsCiAgICAgICAgICAgIGxzc19ydW5faWQ9bHNzX3J1bl9pZCwKICAgICAgICApCgogICAgICAgIHNlbGYuX2N1cnJlbnRfc25hcHNob3RfaWQgPSBzbmFwc2hvdF9pZAogICAgICAgIHNlbGYuX2xvYWRfZG9tX3RyZWUoKQoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIFRyZWUKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIF9sb2FkX2RvbV90cmVlKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgc2VsZi50cmVlLmJsb2NrU2lnbmFscyhUcnVlKQogICAgICAgIHNlbGYudHJlZS5jbGVhcigpCiAgICAgICAgc2VsZi5fbm9kZXNfYnlfaWQuY2xlYXIoKQoKICAgICAgICByb3dzID0gc2VsZi5yZXZpZXcubG9hZF9kb21fdHJlZSgKICAgICAgICAgICAgZG9tX3NuYXBzaG90X2lkPXNlbGYuX2N1cnJlbnRfc25hcHNob3RfaWQKICAgICAgICApCgogICAgICAgICMgRmlyc3QgcGFzczogY3JlYXRlIGl0ZW1zCiAgICAgICAgZm9yIHJvdyBpbiByb3dzOgogICAgICAgICAgICBpdGVtID0gUVRyZWVXaWRnZXRJdGVtKFtyb3dbInN1bW1hcnkiXSwgcm93WyJub2RlX3R5cGUiXV0pCiAgICAgICAgICAgIGl0ZW0uc2V0RGF0YSgwLCBRdC5Vc2VyUm9sZSwgcm93WyJub2RlX2lkIl0pCiAgICAgICAgICAgIGl0ZW0uc2V0RmxhZ3MoaXRlbS5mbGFncygpIHwgUXQuSXRlbUlzVXNlckNoZWNrYWJsZSkKICAgICAgICAgICAgaXRlbS5zZXRDaGVja1N0YXRlKAogICAgICAgICAgICAgICAgMCwgUXQuQ2hlY2tlZCBpZiByb3dbInNlbGVjdGVkIl0gZWxzZSBRdC5VbmNoZWNrZWQKICAgICAgICAgICAgKQogICAgICAgICAgICBzZWxmLl9ub2Rlc19ieV9pZFtyb3dbIm5vZGVfaWQiXV0gPSBpdGVtCgogICAgICAgICMgU2Vjb25kIHBhc3M6IHBhcmVudC9jaGlsZCB3aXJpbmcKICAgICAgICBmb3Igcm93IGluIHJvd3M6CiAgICAgICAgICAgIGl0ZW0gPSBzZWxmLl9ub2Rlc19ieV9pZFtyb3dbIm5vZGVfaWQiXV0KICAgICAgICAgICAgcGFyZW50X2lkID0gcm93WyJwYXJlbnRfaWQiXQoKICAgICAgICAgICAgaWYgcGFyZW50X2lkIGlzIE5vbmU6CiAgICAgICAgICAgICAgICBzZWxmLnRyZWUuYWRkVG9wTGV2ZWxJdGVtKGl0ZW0pCiAgICAgICAgICAgICAgICBpdGVtLnNldEV4cGFuZGVkKFRydWUpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBzZWxmLl9ub2Rlc19ieV9pZFtwYXJlbnRfaWRdLmFkZENoaWxkKGl0ZW0pCgogICAgICAgIHNlbGYudHJlZS5ibG9ja1NpZ25hbHMoRmFsc2UpCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICMgU2VsZWN0aW9uCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGRlZiBfb25faXRlbV9jaGFuZ2VkKAogICAgICAgIHNlbGYsCiAgICAgICAgaXRlbTogUVRyZWVXaWRnZXRJdGVtLAogICAgICAgIGNvbHVtbjogaW50LAogICAgKSAtPiBOb25lOgogICAgICAgIGlmIGNvbHVtbiAhPSAwIG9yIHNlbGYuX2N1cnJlbnRfc25hcHNob3RfaWQgaXMgTm9uZToKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIG5vZGVfaWQgPSBpdGVtLmRhdGEoMCwgUXQuVXNlclJvbGUpCiAgICAgICAgc2VsZWN0ZWQgPSBpdGVtLmNoZWNrU3RhdGUoMCkgPT0gUXQuQ2hlY2tlZAoKICAgICAgICBzZWxmLnJldmlldy5zZXRfbm9kZV9zZWxlY3RlZCgKICAgICAgICAgICAgZG9tX3NuYXBzaG90X2lkPXNlbGYuX2N1cnJlbnRfc25hcHNob3RfaWQsCiAgICAgICAgICAgIGRvbV9ub2RlX2lkPW5vZGVfaWQsCiAgICAgICAgICAgIHNlbGVjdGVkPXNlbGVjdGVkLAogICAgICAgICkK",
					"AQAAAAAAAAABAAAAYBUAAAAAAABgFQAAAAAAAAAAAAAAAPC/"
				]
			],
			"settings":
			{
				"buffer_size": 17131,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					3,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AQAAAOgIAAAAAAAA7QgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA6AgAAAAAAADoCAAAAAAAAAAAAAAAAPC/"
				],
				[
					4,
					1,
					"paste",
					null,
					"AQAAAO0IAAAAAAAACAkAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA7QgAAAAAAADtCAAAAAAAAAAAAAAAAPC/"
				],
				[
					5,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAD5QgAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSB0eXBpbmcgaW1wb3J0IE9wdGlvbmFsLCBMaXN0Cgpmcm9tIFB5U2lkZTYuUXRDb3JlIGltcG9ydCBRdCwgUURhdGUsIFFUaHJlYWQsIFNpZ25hbApmcm9tIFB5U2lkZTYuUXRXaWRnZXRzIGltcG9ydCAoCiAgICBRV2lkZ2V0LAogICAgUVZCb3hMYXlvdXQsCiAgICBRSEJveExheW91dCwKICAgIFFMYWJlbCwKICAgIFFQdXNoQnV0dG9uLAogICAgUURhdGVFZGl0LAogICAgUVRhYmxlV2lkZ2V0LAogICAgUVRhYmxlV2lkZ2V0SXRlbSwKICAgIFFBYnN0cmFjdEl0ZW1WaWV3LAogICAgUVRleHRFZGl0LAogICAgUVNwbGl0dGVyLAogICAgUUxpc3RXaWRnZXQsCiAgICBRTGlzdFdpZGdldEl0ZW0sCiAgICBRVGFiV2lkZ2V0LAogICAgUUNoZWNrQm94LAogICAgUU1lc3NhZ2VCb3gsCiAgICBRQ29tYm9Cb3gsCiAgICBRR3JvdXBCb3gsCiAgICBRRm9ybUxheW91dCwKICAgIFFMaW5lRWRpdCwKICAgIFFQcm9ncmVzc0RpYWxvZywKKQoKZnJvbSBzaXRyZXBjMi5ndWkuaW5nZXN0LmNvbnRyb2xsZXIgaW1wb3J0ICgKICAgIEluZ2VzdENvbnRyb2xsZXIsCiAgICBJbmdlc3RQb3N0RmlsdGVyLAogICAgSW5nZXN0UG9zdFN0YXRlLAopCmZyb20gc2l0cmVwYzIuZ3VpLmluZ2VzdC5zb3VyY2VfY29udHJvbGxlciBpbXBvcnQgKAogICAgU291cmNlQ29udHJvbGxlciwKICAgIFNvdXJjZVJlY29yZCwKKQpmcm9tIHNpdHJlcGMyLmd1aS5pbmdlc3QuZmV0Y2hfbG9nX21vZGVsIGltcG9ydCAoCiAgICBGZXRjaExvZ01vZGVsLAogICAgRmV0Y2hMb2dFbnRyeSwKKQoKZnJvbSBzaXRyZXBjMi5sc3MucGlwZWxpbmUgaW1wb3J0IHJ1bl9sc3NfcGlwZWxpbmUKCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQojIExpZmVjeWNsZSB2aXN1YWxzCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKU1RBVEVfSUNPTiA9IHsKICAgIEluZ2VzdFBvc3RTdGF0ZS5SQVc6ICLij7oiLAogICAgSW5nZXN0UG9zdFN0YXRlLkxTU19SVU5OSU5HOiAi8J+UhCIsCiAgICBJbmdlc3RQb3N0U3RhdGUuTk9fRVZFTlRTOiAi4pqgIiwKICAgIEluZ2VzdFBvc3RTdGF0ZS5SRUFEWV9GT1JfUkVWSUVXOiAi8J+foSIsCiAgICBJbmdlc3RQb3N0U3RhdGUuQ09NTUlUVEVEOiAi4pyFIiwKfQoKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiMgTFNTIFdvcmtlciAodGhyZWFkZWQpCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKY2xhc3MgTFNTV29ya2VyKFFUaHJlYWQpOgogICAgZmluaXNoZWRfb2sgPSBTaWduYWwoKQogICAgZmFpbGVkID0gU2lnbmFsKHN0cikKCiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICBwb3N0czogbGlzdFtkaWN0XSwKICAgICAgICAqLAogICAgICAgIHJlcHJvY2VzczogYm9vbCwKICAgICAgICBwYXJlbnQ6IE9wdGlvbmFsW1FXaWRnZXRdID0gTm9uZSwKICAgICkgLT4gTm9uZToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKHBhcmVudCkKICAgICAgICBzZWxmLl9wb3N0cyA9IHBvc3RzCiAgICAgICAgc2VsZi5fcmVwcm9jZXNzID0gcmVwcm9jZXNzCgogICAgZGVmIHJ1bihzZWxmKSAtPiBOb25lOgogICAgICAgIHRyeToKICAgICAgICAgICAgcnVuX2xzc19waXBlbGluZSgKICAgICAgICAgICAgICAgIHNlbGYuX3Bvc3RzLAogICAgICAgICAgICAgICAgcmVwcm9jZXNzPXNlbGYuX3JlcHJvY2VzcywKICAgICAgICAgICAgKQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZXhjOgogICAgICAgICAgICBzZWxmLmZhaWxlZC5lbWl0KHN0cihleGMpKQogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgc2VsZi5maW5pc2hlZF9vay5lbWl0KCkKCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQojIEluZ2VzdCBXb3Jrc3BhY2UKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgpjbGFzcyBJbmdlc3RXb3Jrc3BhY2UoUVdpZGdldCk6CiAgICBleHRyYWN0aW9uX2NvbXBsZXRlZCA9IFNpZ25hbCgpCiAgICByZXZpZXdfcmVxdWVzdGVkID0gU2lnbmFsKCkKICAgIAogICAgZGVmIF9faW5pdF9fKHNlbGYsIHBhcmVudDogT3B0aW9uYWxbUVdpZGdldF0gPSBOb25lKSAtPiBOb25lOgogICAgICAgIHN1cGVyKCkuX19pbml0X18ocGFyZW50KQoKICAgICAgICBzZWxmLmluZ2VzdCA9IEluZ2VzdENvbnRyb2xsZXIoKQogICAgICAgIHNlbGYuc291cmNlcyA9IFNvdXJjZUNvbnRyb2xsZXIoKQogICAgICAgIHNlbGYuZmV0Y2hfbG9nID0gRmV0Y2hMb2dNb2RlbCgpCgogICAgICAgIHNlbGYuX2VkaXRpbmdfbmV3ID0gRmFsc2UKICAgICAgICBzZWxmLl9sb2FkZWRfc291cmNlX25hbWU6IE9wdGlvbmFsW3N0cl0gPSBOb25lCgogICAgICAgIHNlbGYuX3Byb2dyZXNzOiBPcHRpb25hbFtRUHJvZ3Jlc3NEaWFsb2ddID0gTm9uZQogICAgICAgIHNlbGYuX2xzc193b3JrZXI6IE9wdGlvbmFsW0xTU1dvcmtlcl0gPSBOb25lCgogICAgICAgIHNlbGYuX2J1aWxkX3VpKCkKICAgICAgICBzZWxmLl9sb2FkX3NvdXJjZXMoKQogICAgICAgIHNlbGYuX2xvYWRfcG9zdHMoKQoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIFVJCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGRlZiBfYnVpbGRfdWkoc2VsZikgLT4gTm9uZToKICAgICAgICByb290ID0gUVZCb3hMYXlvdXQoc2VsZikKCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgICMgVG9vbGJhcgogICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICAgICAgdG9vbGJhciA9IFFIQm94TGF5b3V0KCkKCiAgICAgICAgc2VsZi5idG5fZW5hYmxlID0gUVB1c2hCdXR0b24oIkVuYWJsZSIpCiAgICAgICAgc2VsZi5idG5fZGlzYWJsZSA9IFFQdXNoQnV0dG9uKCJEaXNhYmxlIikKICAgICAgICBzZWxmLmJ0bl9yZW1vdmUgPSBRUHVzaEJ1dHRvbigiUmVtb3ZlIikKCiAgICAgICAgc2VsZi5mZXRjaF9mcm9tID0gUURhdGVFZGl0KCkKICAgICAgICBzZWxmLmZldGNoX3RvID0gUURhdGVFZGl0KCkKICAgICAgICBzZWxmLmZvcmNlX2NoZWNrID0gUUNoZWNrQm94KCJGb3JjZSIpCgogICAgICAgIHRvZGF5ID0gUURhdGUuY3VycmVudERhdGUoKQogICAgICAgIHNlbGYuZmV0Y2hfZnJvbS5zZXREYXRlKHRvZGF5LmFkZERheXMoLTEpKQogICAgICAgIHNlbGYuZmV0Y2hfdG8uc2V0RGF0ZSh0b2RheSkKCiAgICAgICAgZm9yIHcgaW4gKHNlbGYuZmV0Y2hfZnJvbSwgc2VsZi5mZXRjaF90byk6CiAgICAgICAgICAgIHcuc2V0Q2FsZW5kYXJQb3B1cChUcnVlKQogICAgICAgICAgICB3LnNldERpc3BsYXlGb3JtYXQoInl5eXktTU0tZGQiKQoKICAgICAgICBzZWxmLmJ0bl9mZXRjaF9zZWxlY3RlZCA9IFFQdXNoQnV0dG9uKCJGZXRjaCBTZWxlY3RlZCIpCiAgICAgICAgc2VsZi5idG5fZmV0Y2hfYWxsID0gUVB1c2hCdXR0b24oIkZldGNoIEFsbCBFbmFibGVkIikKCiAgICAgICAgdG9vbGJhci5hZGRXaWRnZXQoc2VsZi5idG5fZW5hYmxlKQogICAgICAgIHRvb2xiYXIuYWRkV2lkZ2V0KHNlbGYuYnRuX2Rpc2FibGUpCiAgICAgICAgdG9vbGJhci5hZGRXaWRnZXQoc2VsZi5idG5fcmVtb3ZlKQogICAgICAgIHRvb2xiYXIuYWRkU3BhY2luZygyMCkKICAgICAgICB0b29sYmFyLmFkZFdpZGdldChRTGFiZWwoIkZldGNoIGZyb206IikpCiAgICAgICAgdG9vbGJhci5hZGRXaWRnZXQoc2VsZi5mZXRjaF9mcm9tKQogICAgICAgIHRvb2xiYXIuYWRkV2lkZ2V0KFFMYWJlbCgidG86IikpCiAgICAgICAgdG9vbGJhci5hZGRXaWRnZXQoc2VsZi5mZXRjaF90bykKICAgICAgICB0b29sYmFyLmFkZFdpZGdldChzZWxmLmZvcmNlX2NoZWNrKQogICAgICAgIHRvb2xiYXIuYWRkU3BhY2luZygyMCkKICAgICAgICB0b29sYmFyLmFkZFdpZGdldChzZWxmLmJ0bl9mZXRjaF9zZWxlY3RlZCkKICAgICAgICB0b29sYmFyLmFkZFdpZGdldChzZWxmLmJ0bl9mZXRjaF9hbGwpCiAgICAgICAgdG9vbGJhci5hZGRTdHJldGNoKCkKCiAgICAgICAgcm9vdC5hZGRMYXlvdXQodG9vbGJhcikKCiAgICAgICAgc3BsaXR0ZXIgPSBRU3BsaXR0ZXIoUXQuSG9yaXpvbnRhbCkKCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgICMgTGVmdDogU291cmNlcwogICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICAgICAgbGVmdCA9IFFXaWRnZXQoKQogICAgICAgIGxlZnRfbGF5b3V0ID0gUVZCb3hMYXlvdXQobGVmdCkKCiAgICAgICAgbGVmdF9sYXlvdXQuYWRkV2lkZ2V0KFFMYWJlbCgiU291cmNlcyIpKQogICAgICAgIHNlbGYuc291cmNlX2xpc3QgPSBRTGlzdFdpZGdldCgpCiAgICAgICAgc2VsZi5zb3VyY2VfbGlzdC5zZXRTZWxlY3Rpb25Nb2RlKFFBYnN0cmFjdEl0ZW1WaWV3LkV4dGVuZGVkU2VsZWN0aW9uKQogICAgICAgIHNlbGYuc291cmNlX2xpc3QuaXRlbVNlbGVjdGlvbkNoYW5nZWQuY29ubmVjdChzZWxmLl9vbl9zb3VyY2Vfc2VsZWN0aW9uX2NoYW5nZWQpCiAgICAgICAgbGVmdF9sYXlvdXQuYWRkV2lkZ2V0KHNlbGYuc291cmNlX2xpc3QsIHN0cmV0Y2g9MSkKCiAgICAgICAgZWRpdG9yX2JveCA9IFFHcm91cEJveCgiU291cmNlIEVkaXRvciIpCiAgICAgICAgZm9ybSA9IFFGb3JtTGF5b3V0KGVkaXRvcl9ib3gpCgogICAgICAgIHNlbGYuZWRfc291cmNlX25hbWUgPSBRTGluZUVkaXQoKQogICAgICAgIHNlbGYuZWRfYWxpYXMgPSBRTGluZUVkaXQoKQogICAgICAgIHNlbGYuZWRfa2luZCA9IFFDb21ib0JveCgpCiAgICAgICAgc2VsZi5lZF9raW5kLmFkZEl0ZW1zKFsiVEVMRUdSQU0iLCAiRkFDRUJPT0siLCAiVFdJVFRFUiIsICJIVFRQIl0pCiAgICAgICAgc2VsZi5lZF9sYW5nID0gUUxpbmVFZGl0KCkKICAgICAgICBzZWxmLmVkX2FjdGl2ZSA9IFFDaGVja0JveCgiQWN0aXZlIikKCiAgICAgICAgZm9ybS5hZGRSb3coIlNvdXJjZSBOYW1lIiwgc2VsZi5lZF9zb3VyY2VfbmFtZSkKICAgICAgICBmb3JtLmFkZFJvdygiQWxpYXMiLCBzZWxmLmVkX2FsaWFzKQogICAgICAgIGZvcm0uYWRkUm93KCJLaW5kIiwgc2VsZi5lZF9raW5kKQogICAgICAgIGZvcm0uYWRkUm93KCJMYW5ndWFnZSIsIHNlbGYuZWRfbGFuZykKICAgICAgICBmb3JtLmFkZFJvdygiIiwgc2VsZi5lZF9hY3RpdmUpCgogICAgICAgIGJ0bl9yb3cgPSBRSEJveExheW91dCgpCiAgICAgICAgc2VsZi5idG5fbmV3ID0gUVB1c2hCdXR0b24oIk5ldyIpCiAgICAgICAgc2VsZi5idG5fc2F2ZSA9IFFQdXNoQnV0dG9uKCJTYXZlIikKICAgICAgICBzZWxmLmJ0bl9yZXZlcnQgPSBRUHVzaEJ1dHRvbigiUmV2ZXJ0IikKICAgICAgICBzZWxmLmJ0bl9kZWxldGUgPSBRUHVzaEJ1dHRvbigiRGVsZXRlIikKCiAgICAgICAgZm9yIGIgaW4gKHNlbGYuYnRuX25ldywgc2VsZi5idG5fc2F2ZSwgc2VsZi5idG5fcmV2ZXJ0LCBzZWxmLmJ0bl9kZWxldGUpOgogICAgICAgICAgICBidG5fcm93LmFkZFdpZGdldChiKQoKICAgICAgICBmb3JtLmFkZFJvdyhidG5fcm93KQogICAgICAgIGxlZnRfbGF5b3V0LmFkZFdpZGdldChlZGl0b3JfYm94KQoKICAgICAgICBzcGxpdHRlci5hZGRXaWRnZXQobGVmdCkKCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgICMgUmlnaHQ6IFBvc3RzCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgICAgICByaWdodCA9IFFXaWRnZXQoKQogICAgICAgIHJpZ2h0X2xheW91dCA9IFFWQm94TGF5b3V0KHJpZ2h0KQoKICAgICAgICBzZWxmLnRhYmxlID0gUVRhYmxlV2lkZ2V0KCkKICAgICAgICBzZWxmLnRhYmxlLnNldENvbHVtbkNvdW50KDcpCiAgICAgICAgc2VsZi50YWJsZS5zZXRIb3Jpem9udGFsSGVhZGVyTGFiZWxzKAogICAgICAgICAgICBbIlN0YXRlIiwgIlB1Ymxpc2hlZCIsICJBbGlhcyIsICJTb3VyY2UiLCAiTGFuZyIsICJFdmVudHMiLCAiU25pcHBldCJdCiAgICAgICAgKQogICAgICAgIHNlbGYudGFibGUuc2V0U2VsZWN0aW9uQmVoYXZpb3IoUUFic3RyYWN0SXRlbVZpZXcuU2VsZWN0Um93cykKICAgICAgICBzZWxmLnRhYmxlLnNldEVkaXRUcmlnZ2VycyhRQWJzdHJhY3RJdGVtVmlldy5Ob0VkaXRUcmlnZ2VycykKICAgICAgICBzZWxmLnRhYmxlLnZlcnRpY2FsSGVhZGVyKCkuc2V0VmlzaWJsZShGYWxzZSkKICAgICAgICBzZWxmLnRhYmxlLml0ZW1TZWxlY3Rpb25DaGFuZ2VkLmNvbm5lY3Qoc2VsZi5fb25fcG9zdF9zZWxlY3RlZCkKICAgICAgICByaWdodF9sYXlvdXQuYWRkV2lkZ2V0KHNlbGYudGFibGUpCgogICAgICAgIGV4dHJhY3RfYmFyID0gUUhCb3hMYXlvdXQoKQogICAgICAgIHNlbGYuY2hrX3JlcHJvY2VzcyA9IFFDaGVja0JveCgiUmVwcm9jZXNzIikKICAgICAgICBzZWxmLmJ0bl9leHRyYWN0ID0gUVB1c2hCdXR0b24oIkV4dHJhY3QgRXZlbnRzIikKICAgICAgICBzZWxmLmJ0bl9leHRyYWN0LnNldEVuYWJsZWQoRmFsc2UpCgogICAgICAgIGV4dHJhY3RfYmFyLmFkZFdpZGdldChzZWxmLmNoa19yZXByb2Nlc3MpCiAgICAgICAgZXh0cmFjdF9iYXIuYWRkV2lkZ2V0KHNlbGYuYnRuX2V4dHJhY3QpCiAgICAgICAgZXh0cmFjdF9iYXIuYWRkU3RyZXRjaCgpCgogICAgICAgIHJpZ2h0X2xheW91dC5hZGRMYXlvdXQoZXh0cmFjdF9iYXIpCgogICAgICAgIHNlbGYudGFicyA9IFFUYWJXaWRnZXQoKQogICAgICAgIHNlbGYucG9zdF9kZXRhaWwgPSBRVGV4dEVkaXQocmVhZE9ubHk9VHJ1ZSkKICAgICAgICBzZWxmLmZldGNoX2xvZ192aWV3ID0gUVRleHRFZGl0KHJlYWRPbmx5PVRydWUpCiAgICAgICAgc2VsZi50YWJzLmFkZFRhYihzZWxmLnBvc3RfZGV0YWlsLCAiUG9zdCBEZXRhaWwiKQogICAgICAgIHNlbGYudGFicy5hZGRUYWIoc2VsZi5mZXRjaF9sb2dfdmlldywgIkZldGNoIExvZyIpCiAgICAgICAgcmlnaHRfbGF5b3V0LmFkZFdpZGdldChzZWxmLnRhYnMpCgogICAgICAgIHNwbGl0dGVyLmFkZFdpZGdldChyaWdodCkKICAgICAgICBzcGxpdHRlci5zZXRTdHJldGNoRmFjdG9yKDEsIDMpCiAgICAgICAgcm9vdC5hZGRXaWRnZXQoc3BsaXR0ZXIpCgogICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICAjIFdpcmluZwogICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICAgICAgc2VsZi5idG5fZmV0Y2hfc2VsZWN0ZWQuY2xpY2tlZC5jb25uZWN0KHNlbGYuX2ZldGNoX3NlbGVjdGVkKQogICAgICAgIHNlbGYuYnRuX2ZldGNoX2FsbC5jbGlja2VkLmNvbm5lY3Qoc2VsZi5fZmV0Y2hfYWxsKQogICAgICAgIHNlbGYuYnRuX2VuYWJsZS5jbGlja2VkLmNvbm5lY3QobGFtYmRhOiBzZWxmLl9zZXRfYWN0aXZlKFRydWUpKQogICAgICAgIHNlbGYuYnRuX2Rpc2FibGUuY2xpY2tlZC5jb25uZWN0KGxhbWJkYTogc2VsZi5fc2V0X2FjdGl2ZShGYWxzZSkpCiAgICAgICAgc2VsZi5idG5fcmVtb3ZlLmNsaWNrZWQuY29ubmVjdChzZWxmLl9yZW1vdmVfc291cmNlcykKCiAgICAgICAgc2VsZi5idG5fbmV3LmNsaWNrZWQuY29ubmVjdChzZWxmLl9uZXdfc291cmNlKQogICAgICAgIHNlbGYuYnRuX3NhdmUuY2xpY2tlZC5jb25uZWN0KHNlbGYuX3NhdmVfc291cmNlKQogICAgICAgIHNlbGYuYnRuX3JldmVydC5jbGlja2VkLmNvbm5lY3Qoc2VsZi5fcmV2ZXJ0X3NvdXJjZSkKICAgICAgICBzZWxmLmJ0bl9kZWxldGUuY2xpY2tlZC5jb25uZWN0KHNlbGYuX2RlbGV0ZV9zb3VyY2UpCgogICAgICAgIHNlbGYuYnRuX2V4dHJhY3QuY2xpY2tlZC5jb25uZWN0KHNlbGYuX2V4dHJhY3Rfc2VsZWN0ZWRfcG9zdHMpCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICMgRXh0cmFjdGlvbiAoZGlyZWN0IExTUykKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIF9leHRyYWN0X3NlbGVjdGVkX3Bvc3RzKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgcm93cyA9IHNlbGYuaW5nZXN0LnF1ZXJ5X3Bvc3RzKEluZ2VzdFBvc3RGaWx0ZXIoKSkKCiAgICAgICAgcG9zdF9pZHMgPSBzb3J0ZWQoewogICAgICAgICAgICByb3dzW2l0ZW0ucm93KCldLnBvc3RfaWQKICAgICAgICAgICAgZm9yIGl0ZW0gaW4gc2VsZi50YWJsZS5zZWxlY3RlZEl0ZW1zKCkKICAgICAgICB9KQoKICAgICAgICBpZiBub3QgcG9zdF9pZHM6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICBwb3N0czogbGlzdFtkaWN0XSA9IFtdCiAgICAgICAgZm9yIHJvdyBpbiByb3dzOgogICAgICAgICAgICBpZiByb3cucG9zdF9pZCBpbiBwb3N0X2lkczoKICAgICAgICAgICAgICAgIGRldGFpbCA9IHNlbGYuaW5nZXN0LmdldF9wb3N0KHJvdy5wb3N0X2lkKQogICAgICAgICAgICAgICAgcG9zdHMuYXBwZW5kKHsKICAgICAgICAgICAgICAgICAgICAiaWQiOiByb3cucG9zdF9pZCwKICAgICAgICAgICAgICAgICAgICAidGV4dCI6IGRldGFpbC50ZXh0LAogICAgICAgICAgICAgICAgfSkKCiAgICAgICAgaWYgbm90IHBvc3RzOgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgc2VsZi5idG5fZXh0cmFjdC5zZXRFbmFibGVkKEZhbHNlKQoKICAgICAgICBzZWxmLl9wcm9ncmVzcyA9IFFQcm9ncmVzc0RpYWxvZygKICAgICAgICAgICAgIkV4dHJhY3RpbmcgZXZlbnRz4oCmIiwKICAgICAgICAgICAgTm9uZSwKICAgICAgICAgICAgMCwKICAgICAgICAgICAgMCwKICAgICAgICAgICAgc2VsZiwKICAgICAgICApCiAgICAgICAgc2VsZi5fcHJvZ3Jlc3Muc2V0V2luZG93TW9kYWxpdHkoUXQuTm9uTW9kYWwpCiAgICAgICAgc2VsZi5fcHJvZ3Jlc3Muc2V0TWluaW11bUR1cmF0aW9uKDApCiAgICAgICAgc2VsZi5fcHJvZ3Jlc3Muc2hvdygpCgogICAgICAgIHNlbGYuX2xzc193b3JrZXIgPSBMU1NXb3JrZXIoCiAgICAgICAgICAgIHBvc3RzLAogICAgICAgICAgICByZXByb2Nlc3M9c2VsZi5jaGtfcmVwcm9jZXNzLmlzQ2hlY2tlZCgpLAogICAgICAgICAgICBwYXJlbnQ9c2VsZiwKICAgICAgICApCiAgICAgICAgc2VsZi5fbHNzX3dvcmtlci5maW5pc2hlZF9vay5jb25uZWN0KHNlbGYuX29uX2V4dHJhY3RfZmluaXNoZWQpCiAgICAgICAgc2VsZi5fbHNzX3dvcmtlci5mYWlsZWQuY29ubmVjdChzZWxmLl9vbl9leHRyYWN0X2ZhaWxlZCkKICAgICAgICBzZWxmLl9sc3Nfd29ya2VyLnN0YXJ0KCkKCiAgICBkZWYgX29uX2V4dHJhY3RfZmluaXNoZWQoc2VsZikgLT4gTm9uZToKICAgICAgICBpZiBzZWxmLl9wcm9ncmVzczoKICAgICAgICAgICAgc2VsZi5fcHJvZ3Jlc3MuY2xvc2UoKQogICAgICAgICAgICBzZWxmLl9wcm9ncmVzcyA9IE5vbmUKICAgICAgICBzZWxmLmJ0bl9leHRyYWN0LnNldEVuYWJsZWQoVHJ1ZSkKICAgICAgICBzZWxmLl9sb2FkX3Bvc3RzKCkKCiAgICBkZWYgX29uX2V4dHJhY3RfZmFpbGVkKHNlbGYsIG1lc3NhZ2U6IHN0cikgLT4gTm9uZToKICAgICAgICBpZiBzZWxmLl9wcm9ncmVzczoKICAgICAgICAgICAgc2VsZi5fcHJvZ3Jlc3MuY2xvc2UoKQogICAgICAgICAgICBzZWxmLl9wcm9ncmVzcyA9IE5vbmUKICAgICAgICBzZWxmLmJ0bl9leHRyYWN0LnNldEVuYWJsZWQoVHJ1ZSkKICAgICAgICBRTWVzc2FnZUJveC5jcml0aWNhbChzZWxmLCAiTFNTIEV4dHJhY3Rpb24gRmFpbGVkIiwgbWVzc2FnZSkKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBQb3N0cwogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBkZWYgX2xvYWRfcG9zdHMoc2VsZikgLT4gTm9uZToKICAgICAgICByb3dzID0gc2VsZi5pbmdlc3QucXVlcnlfcG9zdHMoSW5nZXN0UG9zdEZpbHRlcigpKQogICAgICAgIHNlbGYudGFibGUuc2V0Um93Q291bnQobGVuKHJvd3MpKQogICAgICAgIGZvciByLCByb3cgaW4gZW51bWVyYXRlKHJvd3MpOgogICAgICAgICAgICBzZWxmLl9wb3B1bGF0ZV9yb3cociwgcm93KQogICAgICAgIHNlbGYudGFibGUucmVzaXplQ29sdW1uc1RvQ29udGVudHMoKQogICAgICAgIHNlbGYudGFibGUuc2V0Q29sdW1uV2lkdGgoMCwgMTYwKQoKICAgIGRlZiBfcG9wdWxhdGVfcm93KHNlbGYsIHJvd19pZHg6IGludCwgcm93KSAtPiBOb25lOgogICAgICAgIGljb24gPSBTVEFURV9JQ09OLmdldChyb3cuc3RhdGUsICIiKQogICAgICAgIHRleHQgPSBmIntpY29ufSB7cm93LnN0YXRlLnZhbHVlLnJlcGxhY2UoJ18nLCAnICcpfSIKICAgICAgICBpdGVtcyA9IFsKICAgICAgICAgICAgUVRhYmxlV2lkZ2V0SXRlbSh0ZXh0KSwKICAgICAgICAgICAgUVRhYmxlV2lkZ2V0SXRlbShyb3cucHVibGlzaGVkX2F0KSwKICAgICAgICAgICAgUVRhYmxlV2lkZ2V0SXRlbShyb3cuYWxpYXMpLAogICAgICAgICAgICBRVGFibGVXaWRnZXRJdGVtKHJvdy5zb3VyY2UpLAogICAgICAgICAgICBRVGFibGVXaWRnZXRJdGVtKHJvdy5sYW5nKSwKICAgICAgICAgICAgUVRhYmxlV2lkZ2V0SXRlbShzdHIocm93LmV2ZW50X2NvdW50KSksCiAgICAgICAgICAgIFFUYWJsZVdpZGdldEl0ZW0ocm93LnRleHRfc25pcHBldCksCiAgICAgICAgXQogICAgICAgIGZvciBjLCBpdGVtIGluIGVudW1lcmF0ZShpdGVtcyk6CiAgICAgICAgICAgIGl0ZW0uc2V0RmxhZ3MoaXRlbS5mbGFncygpICYgflF0Lkl0ZW1Jc0VkaXRhYmxlKQogICAgICAgICAgICBzZWxmLnRhYmxlLnNldEl0ZW0ocm93X2lkeCwgYywgaXRlbSkKCiAgICBkZWYgX29uX3Bvc3Rfc2VsZWN0ZWQoc2VsZikgLT4gTm9uZToKICAgICAgICBpdGVtcyA9IHNlbGYudGFibGUuc2VsZWN0ZWRJdGVtcygpCiAgICAgICAgaWYgbm90IGl0ZW1zOgogICAgICAgICAgICBzZWxmLmJ0bl9leHRyYWN0LnNldEVuYWJsZWQoRmFsc2UpCiAgICAgICAgICAgIHNlbGYucG9zdF9kZXRhaWwuY2xlYXIoKQogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgc2VsZi5idG5fZXh0cmFjdC5zZXRFbmFibGVkKFRydWUpCiAgICAgICAgcm93cyA9IHNlbGYuaW5nZXN0LnF1ZXJ5X3Bvc3RzKEluZ2VzdFBvc3RGaWx0ZXIoKSkKICAgICAgICBkZXRhaWwgPSBzZWxmLmluZ2VzdC5nZXRfcG9zdChyb3dzW2l0ZW1zWzBdLnJvdygpXS5wb3N0X2lkKQogICAgICAgIHNlbGYucG9zdF9kZXRhaWwuc2V0UGxhaW5UZXh0KGRldGFpbC50ZXh0KQoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIFNvdXJjZXMgLyBGZXRjaCAodW5jaGFuZ2VkKQogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBkZWYgX2xvYWRfc291cmNlcyhzZWxmKSAtPiBOb25lOgogICAgICAgIHNlbGYuc291cmNlX2xpc3QuY2xlYXIoKQogICAgICAgIGZvciBzcmMgaW4gc2VsZi5zb3VyY2VzLmxvYWRfc291cmNlcygpOgogICAgICAgICAgICBsYWJlbCA9IHNyYy5hbGlhcyArICgiIiBpZiBzcmMuYWN0aXZlIGVsc2UgIiAoaW5hY3RpdmUpIikKICAgICAgICAgICAgaXRlbSA9IFFMaXN0V2lkZ2V0SXRlbShsYWJlbCkKICAgICAgICAgICAgaXRlbS5zZXREYXRhKFF0LlVzZXJSb2xlLCBzcmMpCiAgICAgICAgICAgIGlmIG5vdCBzcmMuYWN0aXZlOgogICAgICAgICAgICAgICAgaXRlbS5zZXRGb3JlZ3JvdW5kKFF0LmdyYXkpCiAgICAgICAgICAgIHNlbGYuc291cmNlX2xpc3QuYWRkSXRlbShpdGVtKQoKICAgIGRlZiBfc2VsZWN0ZWRfc291cmNlcyhzZWxmKSAtPiBMaXN0W1NvdXJjZVJlY29yZF06CiAgICAgICAgcmV0dXJuIFsKICAgICAgICAgICAgaS5kYXRhKFF0LlVzZXJSb2xlKQogICAgICAgICAgICBmb3IgaSBpbiBzZWxmLnNvdXJjZV9saXN0LnNlbGVjdGVkSXRlbXMoKQogICAgICAgICAgICBpZiBpc2luc3RhbmNlKGkuZGF0YShRdC5Vc2VyUm9sZSksIFNvdXJjZVJlY29yZCkKICAgICAgICBdCgogICAgZGVmIF9zZWxlY3RlZF9zb3VyY2VfbmFtZXMoc2VsZikgLT4gTGlzdFtzdHJdOgogICAgICAgIHJldHVybiBbcy5zb3VyY2VfbmFtZSBmb3IgcyBpbiBzZWxmLl9zZWxlY3RlZF9zb3VyY2VzKCldCgogICAgZGVmIF9vbl9zb3VyY2Vfc2VsZWN0aW9uX2NoYW5nZWQoc2VsZikgLT4gTm9uZToKICAgICAgICBpdGVtcyA9IHNlbGYuX3NlbGVjdGVkX3NvdXJjZXMoKQogICAgICAgIGlmIGxlbihpdGVtcykgPT0gMToKICAgICAgICAgICAgc2VsZi5fbG9hZF9zb3VyY2VfaW50b19lZGl0b3IoaXRlbXNbMF0pCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc2VsZi5fbG9hZGVkX3NvdXJjZV9uYW1lID0gTm9uZQoKICAgIGRlZiBfY2xlYXJfZWRpdG9yX2ZpZWxkcyhzZWxmKSAtPiBOb25lOgogICAgICAgIHNlbGYuZWRfc291cmNlX25hbWUuY2xlYXIoKQogICAgICAgIHNlbGYuZWRfYWxpYXMuY2xlYXIoKQogICAgICAgIHNlbGYuZWRfbGFuZy5jbGVhcigpCiAgICAgICAgc2VsZi5lZF9hY3RpdmUuc2V0Q2hlY2tlZChUcnVlKQogICAgICAgIHNlbGYuZWRfa2luZC5zZXRDdXJyZW50SW5kZXgoMCkKICAgICAgICBzZWxmLl9lZGl0aW5nX25ldyA9IEZhbHNlCiAgICAgICAgc2VsZi5fbG9hZGVkX3NvdXJjZV9uYW1lID0gTm9uZQoKICAgIGRlZiBfbG9hZF9zb3VyY2VfaW50b19lZGl0b3Ioc2VsZiwgc3JjOiBTb3VyY2VSZWNvcmQpIC0+IE5vbmU6CiAgICAgICAgc2VsZi5fZWRpdGluZ19uZXcgPSBGYWxzZQogICAgICAgIHNlbGYuX2xvYWRlZF9zb3VyY2VfbmFtZSA9IHNyYy5zb3VyY2VfbmFtZQogICAgICAgIHNlbGYuZWRfc291cmNlX25hbWUuc2V0VGV4dChzcmMuc291cmNlX25hbWUpCiAgICAgICAgc2VsZi5lZF9hbGlhcy5zZXRUZXh0KHNyYy5hbGlhcykKICAgICAgICBzZWxmLmVkX2tpbmQuc2V0Q3VycmVudFRleHQoc3JjLnNvdXJjZV9raW5kKQogICAgICAgIHNlbGYuZWRfbGFuZy5zZXRUZXh0KHNyYy5zb3VyY2VfbGFuZykKICAgICAgICBzZWxmLmVkX2FjdGl2ZS5zZXRDaGVja2VkKHNyYy5hY3RpdmUpCgogICAgZGVmIF9uZXdfc291cmNlKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgc2VsZi5fZWRpdGluZ19uZXcgPSBUcnVlCiAgICAgICAgc2VsZi5fbG9hZGVkX3NvdXJjZV9uYW1lID0gTm9uZQogICAgICAgIHNlbGYuX2NsZWFyX2VkaXRvcl9maWVsZHMoKQoKICAgIGRlZiBfcmV2ZXJ0X3NvdXJjZShzZWxmKSAtPiBOb25lOgogICAgICAgIGlmIG5vdCBzZWxmLl9sb2FkZWRfc291cmNlX25hbWU6CiAgICAgICAgICAgIHJldHVybgogICAgICAgIGZvciBzIGluIHNlbGYuc291cmNlcy5sb2FkX3NvdXJjZXMoKToKICAgICAgICAgICAgaWYgcy5zb3VyY2VfbmFtZSA9PSBzZWxmLl9sb2FkZWRfc291cmNlX25hbWU6CiAgICAgICAgICAgICAgICBzZWxmLl9sb2FkX3NvdXJjZV9pbnRvX2VkaXRvcihzKQogICAgICAgICAgICAgICAgcmV0dXJuCgogICAgZGVmIF9zYXZlX3NvdXJjZShzZWxmKSAtPiBOb25lOgogICAgICAgIHJlY29yZCA9IFNvdXJjZVJlY29yZCgKICAgICAgICAgICAgc291cmNlX25hbWU9c2VsZi5lZF9zb3VyY2VfbmFtZS50ZXh0KCkuc3RyaXAoKSwKICAgICAgICAgICAgYWxpYXM9c2VsZi5lZF9hbGlhcy50ZXh0KCkuc3RyaXAoKSwKICAgICAgICAgICAgc291cmNlX2tpbmQ9c2VsZi5lZF9raW5kLmN1cnJlbnRUZXh0KCkuc3RyaXAoKSwKICAgICAgICAgICAgc291cmNlX2xhbmc9c2VsZi5lZF9sYW5nLnRleHQoKS5zdHJpcCgpLAogICAgICAgICAgICBhY3RpdmU9c2VsZi5lZF9hY3RpdmUuaXNDaGVja2VkKCksCiAgICAgICAgKQogICAgICAgIGlmIHNlbGYuX2VkaXRpbmdfbmV3IG9yIG5vdCBzZWxmLl9sb2FkZWRfc291cmNlX25hbWU6CiAgICAgICAgICAgIHNlbGYuc291cmNlcy5hZGRfc291cmNlKHJlY29yZCkKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZWxmLnNvdXJjZXMucmVwbGFjZV9zb3VyY2Uoc2VsZi5fbG9hZGVkX3NvdXJjZV9uYW1lLCByZWNvcmQpCiAgICAgICAgc2VsZi5fbG9hZF9zb3VyY2VzKCkKICAgICAgICBzZWxmLl9jbGVhcl9lZGl0b3JfZmllbGRzKCkKCiAgICBkZWYgX2RlbGV0ZV9zb3VyY2Uoc2VsZikgLT4gTm9uZToKICAgICAgICBpZiBub3Qgc2VsZi5fbG9hZGVkX3NvdXJjZV9uYW1lOgogICAgICAgICAgICByZXR1cm4KICAgICAgICBpZiBRTWVzc2FnZUJveC5xdWVzdGlvbihzZWxmLCAiRGVsZXRlIFNvdXJjZSIsICJIYXJkIGRlbGV0ZSB0aGlzIHNvdXJjZT8iKSAhPSBRTWVzc2FnZUJveC5ZZXM6CiAgICAgICAgICAgIHJldHVybgogICAgICAgIHNlbGYuc291cmNlcy5kZWxldGVfc291cmNlX2hhcmQoc2VsZi5fbG9hZGVkX3NvdXJjZV9uYW1lKQogICAgICAgIHNlbGYuX2xvYWRfc291cmNlcygpCiAgICAgICAgc2VsZi5fY2xlYXJfZWRpdG9yX2ZpZWxkcygpCgogICAgZGVmIF9zZXRfYWN0aXZlKHNlbGYsIGFjdGl2ZTogYm9vbCkgLT4gTm9uZToKICAgICAgICBuYW1lcyA9IHNlbGYuX3NlbGVjdGVkX3NvdXJjZV9uYW1lcygpCiAgICAgICAgaWYgbmFtZXM6CiAgICAgICAgICAgIHNlbGYuc291cmNlcy5zZXRfYWN0aXZlKG5hbWVzLCBhY3RpdmUpCiAgICAgICAgICAgIHNlbGYuX2xvYWRfc291cmNlcygpCgogICAgZGVmIF9yZW1vdmVfc291cmNlcyhzZWxmKSAtPiBOb25lOgogICAgICAgIG5hbWVzID0gc2VsZi5fc2VsZWN0ZWRfc291cmNlX25hbWVzKCkKICAgICAgICBpZiBub3QgbmFtZXM6CiAgICAgICAgICAgIHJldHVybgogICAgICAgIGlmIFFNZXNzYWdlQm94LnF1ZXN0aW9uKHNlbGYsICJSZW1vdmUgU291cmNlcyIsICJIYXJkIGRlbGV0ZSBzZWxlY3RlZCBzb3VyY2VzPyIpICE9IFFNZXNzYWdlQm94LlllczoKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgZm9yIG4gaW4gbmFtZXM6CiAgICAgICAgICAgIHNlbGYuc291cmNlcy5kZWxldGVfc291cmNlX2hhcmQobikKICAgICAgICBzZWxmLl9sb2FkX3NvdXJjZXMoKQogICAgICAgIHNlbGYuX2NsZWFyX2VkaXRvcl9maWVsZHMoKQoKICAgIGRlZiBfZmV0Y2hfc2VsZWN0ZWQoc2VsZikgLT4gTm9uZToKICAgICAgICBuYW1lcyA9IHNlbGYuX3NlbGVjdGVkX3NvdXJjZV9uYW1lcygpCiAgICAgICAgaWYgbmFtZXM6CiAgICAgICAgICAgIHNlbGYuX2ZldGNoKG5hbWVzKQoKICAgIGRlZiBfZmV0Y2hfYWxsKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgbmFtZXMgPSBbcy5zb3VyY2VfbmFtZSBmb3IgcyBpbiBzZWxmLnNvdXJjZXMubG9hZF9zb3VyY2VzKCkgaWYgcy5hY3RpdmVdCiAgICAgICAgc2VsZi5fZmV0Y2gobmFtZXMpCgogICAgZGVmIF9mZXRjaChzZWxmLCBzb3VyY2VfbmFtZXM6IExpc3Rbc3RyXSkgLT4gTm9uZToKICAgICAgICByZXN1bHRzID0gc2VsZi5zb3VyY2VzLmZldGNoX3NvdXJjZXMoCiAgICAgICAgICAgIHNvdXJjZV9uYW1lcz1zb3VyY2VfbmFtZXMsCiAgICAgICAgICAgIHN0YXJ0X2RhdGU9c2VsZi5mZXRjaF9mcm9tLmRhdGUoKS50b1N0cmluZygieXl5eS1NTS1kZCIpLAogICAgICAgICAgICBlbmRfZGF0ZT1zZWxmLmZldGNoX3RvLmRhdGUoKS50b1N0cmluZygieXl5eS1NTS1kZCIpLAogICAgICAgICAgICBmb3JjZT1zZWxmLmZvcmNlX2NoZWNrLmlzQ2hlY2tlZCgpLAogICAgICAgICkKICAgICAgICBmb3IgciBpbiByZXN1bHRzOgogICAgICAgICAgICBzZWxmLmZldGNoX2xvZy5hZGQoRmV0Y2hMb2dFbnRyeSgqKnIuX19kaWN0X18pKQogICAgICAgIHNlbGYuX3JlZnJlc2hfZmV0Y2hfbG9nKCkKICAgICAgICBzZWxmLl9sb2FkX3Bvc3RzKCkKCiAgICBkZWYgX3JlZnJlc2hfZmV0Y2hfbG9nKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgbGluZXMgPSBbXQogICAgICAgIGZvciBlIGluIHNlbGYuZmV0Y2hfbG9nLmVudHJpZXMoKToKICAgICAgICAgICAgc3RhdHVzID0gIkVSUk9SIiBpZiBlLmVycm9yIGVsc2UgZiJ7ZS5mZXRjaGVkX2NvdW50fSBwb3N0cyIKICAgICAgICAgICAgbGluZXMuYXBwZW5kKGYiW3tlLnRpbWVzdGFtcH1dIHtlLnNvdXJjZV9uYW1lfSAoe2Uuc291cmNlX2tpbmR9KSDihpIge3N0YXR1c30iKQogICAgICAgICAgICBpZiBlLmVycm9yOgogICAgICAgICAgICAgICAgbGluZXMuYXBwZW5kKGYiICAgIHtlLmVycm9yfSIpCiAgICAgICAgc2VsZi5mZXRjaF9sb2dfdmlldy5zZXRQbGFpblRleHQoIlxuIi5qb2luKGxpbmVzKSkKCiAgICBkZWYgX29uX2V4dHJhY3RfZmluaXNoZWQoc2VsZikgLT4gTm9uZToKICAgICAgICBpZiBzZWxmLl9wcm9ncmVzczoKICAgICAgICAgICAgc2VsZi5fcHJvZ3Jlc3MuY2xvc2UoKQogICAgICAgICAgICBzZWxmLl9wcm9ncmVzcyA9IE5vbmUKCiAgICAgICAgc2VsZi5idG5fZXh0cmFjdC5zZXRFbmFibGVkKFRydWUpCiAgICAgICAgc2VsZi5fbG9hZF9wb3N0cygpCgogICAgICAgICMg8J+UkSBub3RpZnkgbWFpbiB3aW5kb3cKICAgICAgICBzZWxmLmV4dHJhY3Rpb25fY29tcGxldGVkLmVtaXQoKQoKAAAAAAAAAADmQgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAACAkAAAAAAAAICQAAAAAAAAAAAAAAAPC/"
				],
				[
					11,
					1,
					"paste",
					null,
					"AQAAAMpBAAAAAAAAy0IAAAAAAAAfAQAAICAgIGRlZiBfb25fZXh0cmFjdF9maW5pc2hlZChzZWxmKSAtPiBOb25lOgogICAgICAgIGlmIHNlbGYuX3Byb2dyZXNzOgogICAgICAgICAgICBzZWxmLl9wcm9ncmVzcy5jbG9zZSgpCiAgICAgICAgICAgIHNlbGYuX3Byb2dyZXNzID0gTm9uZQoKICAgICAgICBzZWxmLmJ0bl9leHRyYWN0LnNldEVuYWJsZWQoVHJ1ZSkKICAgICAgICBzZWxmLl9sb2FkX3Bvc3RzKCkKCiAgICAgICAgIyDwn5SRIG5vdGlmeSBtYWluIHdpbmRvdwogICAgICAgIHNlbGYuZXh0cmFjdGlvbl9jb21wbGV0ZWQuZW1pdCgpCgo",
					"AQAAAAAAAAABAAAAykEAAAAAAADmQgAAAAAAAAAAAAAAAPC/"
				],
				[
					14,
					1,
					"indent",
					null,
					"CAAAAMpBAAAAAAAAzkEAAAAAAAAAAAAA9kEAAAAAAAD6QQAAAAAAAAAAAAARQgAAAAAAABVCAAAAAAAAAAAAADRCAAAAAAAAOEIAAAAAAAAAAAAAV0IAAAAAAABbQgAAAAAAAAAAAACBQgAAAAAAAIVCAAAAAAAAAAAAAJ1CAAAAAAAAoUIAAAAAAAAAAAAAxkIAAAAAAADKQgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAy0IAAAAAAADNQQAAAAAAAAAAAAAAAPC/"
				],
				[
					15,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAD9QgAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSB0eXBpbmcgaW1wb3J0IE9wdGlvbmFsLCBMaXN0Cgpmcm9tIFB5U2lkZTYuUXRDb3JlIGltcG9ydCBRdCwgUURhdGUsIFFUaHJlYWQsIFNpZ25hbApmcm9tIFB5U2lkZTYuUXRXaWRnZXRzIGltcG9ydCAoCiAgICBRV2lkZ2V0LAogICAgUVZCb3hMYXlvdXQsCiAgICBRSEJveExheW91dCwKICAgIFFMYWJlbCwKICAgIFFQdXNoQnV0dG9uLAogICAgUURhdGVFZGl0LAogICAgUVRhYmxlV2lkZ2V0LAogICAgUVRhYmxlV2lkZ2V0SXRlbSwKICAgIFFBYnN0cmFjdEl0ZW1WaWV3LAogICAgUVRleHRFZGl0LAogICAgUVNwbGl0dGVyLAogICAgUUxpc3RXaWRnZXQsCiAgICBRTGlzdFdpZGdldEl0ZW0sCiAgICBRVGFiV2lkZ2V0LAogICAgUUNoZWNrQm94LAogICAgUU1lc3NhZ2VCb3gsCiAgICBRQ29tYm9Cb3gsCiAgICBRR3JvdXBCb3gsCiAgICBRRm9ybUxheW91dCwKICAgIFFMaW5lRWRpdCwKICAgIFFQcm9ncmVzc0RpYWxvZywKKQoKZnJvbSBzaXRyZXBjMi5ndWkuaW5nZXN0LmNvbnRyb2xsZXIgaW1wb3J0ICgKICAgIEluZ2VzdENvbnRyb2xsZXIsCiAgICBJbmdlc3RQb3N0RmlsdGVyLAogICAgSW5nZXN0UG9zdFN0YXRlLAopCmZyb20gc2l0cmVwYzIuZ3VpLmluZ2VzdC5zb3VyY2VfY29udHJvbGxlciBpbXBvcnQgKAogICAgU291cmNlQ29udHJvbGxlciwKICAgIFNvdXJjZVJlY29yZCwKKQpmcm9tIHNpdHJlcGMyLmd1aS5pbmdlc3QuZmV0Y2hfbG9nX21vZGVsIGltcG9ydCAoCiAgICBGZXRjaExvZ01vZGVsLAogICAgRmV0Y2hMb2dFbnRyeSwKKQoKZnJvbSBzaXRyZXBjMi5sc3MucGlwZWxpbmUgaW1wb3J0IHJ1bl9sc3NfcGlwZWxpbmUKCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQojIExpZmVjeWNsZSB2aXN1YWxzCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKU1RBVEVfSUNPTiA9IHsKICAgIEluZ2VzdFBvc3RTdGF0ZS5SQVc6ICLij7oiLAogICAgSW5nZXN0UG9zdFN0YXRlLkxTU19SVU5OSU5HOiAi8J+UhCIsCiAgICBJbmdlc3RQb3N0U3RhdGUuTk9fRVZFTlRTOiAi4pqgIiwKICAgIEluZ2VzdFBvc3RTdGF0ZS5SRUFEWV9GT1JfUkVWSUVXOiAi8J+foSIsCiAgICBJbmdlc3RQb3N0U3RhdGUuQ09NTUlUVEVEOiAi4pyFIiwKfQoKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiMgTFNTIFdvcmtlciAodGhyZWFkZWQpCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKY2xhc3MgTFNTV29ya2VyKFFUaHJlYWQpOgogICAgZmluaXNoZWRfb2sgPSBTaWduYWwoKQogICAgZmFpbGVkID0gU2lnbmFsKHN0cikKCiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICBwb3N0czogbGlzdFtkaWN0XSwKICAgICAgICAqLAogICAgICAgIHJlcHJvY2VzczogYm9vbCwKICAgICAgICBwYXJlbnQ6IE9wdGlvbmFsW1FXaWRnZXRdID0gTm9uZSwKICAgICkgLT4gTm9uZToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKHBhcmVudCkKICAgICAgICBzZWxmLl9wb3N0cyA9IHBvc3RzCiAgICAgICAgc2VsZi5fcmVwcm9jZXNzID0gcmVwcm9jZXNzCgogICAgZGVmIHJ1bihzZWxmKSAtPiBOb25lOgogICAgICAgIHRyeToKICAgICAgICAgICAgcnVuX2xzc19waXBlbGluZSgKICAgICAgICAgICAgICAgIHNlbGYuX3Bvc3RzLAogICAgICAgICAgICAgICAgcmVwcm9jZXNzPXNlbGYuX3JlcHJvY2VzcywKICAgICAgICAgICAgKQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZXhjOgogICAgICAgICAgICBzZWxmLmZhaWxlZC5lbWl0KHN0cihleGMpKQogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgc2VsZi5maW5pc2hlZF9vay5lbWl0KCkKCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQojIEluZ2VzdCBXb3Jrc3BhY2UKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgpjbGFzcyBJbmdlc3RXb3Jrc3BhY2UoUVdpZGdldCk6CiAgICBleHRyYWN0aW9uX2NvbXBsZXRlZCA9IFNpZ25hbCgpCiAgICByZXZpZXdfcmVxdWVzdGVkID0gU2lnbmFsKCkKICAgIAogICAgZGVmIF9faW5pdF9fKHNlbGYsIHBhcmVudDogT3B0aW9uYWxbUVdpZGdldF0gPSBOb25lKSAtPiBOb25lOgogICAgICAgIHN1cGVyKCkuX19pbml0X18ocGFyZW50KQoKICAgICAgICBzZWxmLmluZ2VzdCA9IEluZ2VzdENvbnRyb2xsZXIoKQogICAgICAgIHNlbGYuc291cmNlcyA9IFNvdXJjZUNvbnRyb2xsZXIoKQogICAgICAgIHNlbGYuZmV0Y2hfbG9nID0gRmV0Y2hMb2dNb2RlbCgpCgogICAgICAgIHNlbGYuX2VkaXRpbmdfbmV3ID0gRmFsc2UKICAgICAgICBzZWxmLl9sb2FkZWRfc291cmNlX25hbWU6IE9wdGlvbmFsW3N0cl0gPSBOb25lCgogICAgICAgIHNlbGYuX3Byb2dyZXNzOiBPcHRpb25hbFtRUHJvZ3Jlc3NEaWFsb2ddID0gTm9uZQogICAgICAgIHNlbGYuX2xzc193b3JrZXI6IE9wdGlvbmFsW0xTU1dvcmtlcl0gPSBOb25lCgogICAgICAgIHNlbGYuX2J1aWxkX3VpKCkKICAgICAgICBzZWxmLl9sb2FkX3NvdXJjZXMoKQogICAgICAgIHNlbGYuX2xvYWRfcG9zdHMoKQoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIFVJCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGRlZiBfYnVpbGRfdWkoc2VsZikgLT4gTm9uZToKICAgICAgICByb290ID0gUVZCb3hMYXlvdXQoc2VsZikKCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgICMgVG9vbGJhcgogICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICAgICAgdG9vbGJhciA9IFFIQm94TGF5b3V0KCkKCiAgICAgICAgc2VsZi5idG5fZW5hYmxlID0gUVB1c2hCdXR0b24oIkVuYWJsZSIpCiAgICAgICAgc2VsZi5idG5fZGlzYWJsZSA9IFFQdXNoQnV0dG9uKCJEaXNhYmxlIikKICAgICAgICBzZWxmLmJ0bl9yZW1vdmUgPSBRUHVzaEJ1dHRvbigiUmVtb3ZlIikKCiAgICAgICAgc2VsZi5mZXRjaF9mcm9tID0gUURhdGVFZGl0KCkKICAgICAgICBzZWxmLmZldGNoX3RvID0gUURhdGVFZGl0KCkKICAgICAgICBzZWxmLmZvcmNlX2NoZWNrID0gUUNoZWNrQm94KCJGb3JjZSIpCgogICAgICAgIHRvZGF5ID0gUURhdGUuY3VycmVudERhdGUoKQogICAgICAgIHNlbGYuZmV0Y2hfZnJvbS5zZXREYXRlKHRvZGF5LmFkZERheXMoLTEpKQogICAgICAgIHNlbGYuZmV0Y2hfdG8uc2V0RGF0ZSh0b2RheSkKCiAgICAgICAgZm9yIHcgaW4gKHNlbGYuZmV0Y2hfZnJvbSwgc2VsZi5mZXRjaF90byk6CiAgICAgICAgICAgIHcuc2V0Q2FsZW5kYXJQb3B1cChUcnVlKQogICAgICAgICAgICB3LnNldERpc3BsYXlGb3JtYXQoInl5eXktTU0tZGQiKQoKICAgICAgICBzZWxmLmJ0bl9mZXRjaF9zZWxlY3RlZCA9IFFQdXNoQnV0dG9uKCJGZXRjaCBTZWxlY3RlZCIpCiAgICAgICAgc2VsZi5idG5fZmV0Y2hfYWxsID0gUVB1c2hCdXR0b24oIkZldGNoIEFsbCBFbmFibGVkIikKCiAgICAgICAgdG9vbGJhci5hZGRXaWRnZXQoc2VsZi5idG5fZW5hYmxlKQogICAgICAgIHRvb2xiYXIuYWRkV2lkZ2V0KHNlbGYuYnRuX2Rpc2FibGUpCiAgICAgICAgdG9vbGJhci5hZGRXaWRnZXQoc2VsZi5idG5fcmVtb3ZlKQogICAgICAgIHRvb2xiYXIuYWRkU3BhY2luZygyMCkKICAgICAgICB0b29sYmFyLmFkZFdpZGdldChRTGFiZWwoIkZldGNoIGZyb206IikpCiAgICAgICAgdG9vbGJhci5hZGRXaWRnZXQoc2VsZi5mZXRjaF9mcm9tKQogICAgICAgIHRvb2xiYXIuYWRkV2lkZ2V0KFFMYWJlbCgidG86IikpCiAgICAgICAgdG9vbGJhci5hZGRXaWRnZXQoc2VsZi5mZXRjaF90bykKICAgICAgICB0b29sYmFyLmFkZFdpZGdldChzZWxmLmZvcmNlX2NoZWNrKQogICAgICAgIHRvb2xiYXIuYWRkU3BhY2luZygyMCkKICAgICAgICB0b29sYmFyLmFkZFdpZGdldChzZWxmLmJ0bl9mZXRjaF9zZWxlY3RlZCkKICAgICAgICB0b29sYmFyLmFkZFdpZGdldChzZWxmLmJ0bl9mZXRjaF9hbGwpCiAgICAgICAgdG9vbGJhci5hZGRTdHJldGNoKCkKCiAgICAgICAgcm9vdC5hZGRMYXlvdXQodG9vbGJhcikKCiAgICAgICAgc3BsaXR0ZXIgPSBRU3BsaXR0ZXIoUXQuSG9yaXpvbnRhbCkKCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgICMgTGVmdDogU291cmNlcwogICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICAgICAgbGVmdCA9IFFXaWRnZXQoKQogICAgICAgIGxlZnRfbGF5b3V0ID0gUVZCb3hMYXlvdXQobGVmdCkKCiAgICAgICAgbGVmdF9sYXlvdXQuYWRkV2lkZ2V0KFFMYWJlbCgiU291cmNlcyIpKQogICAgICAgIHNlbGYuc291cmNlX2xpc3QgPSBRTGlzdFdpZGdldCgpCiAgICAgICAgc2VsZi5zb3VyY2VfbGlzdC5zZXRTZWxlY3Rpb25Nb2RlKFFBYnN0cmFjdEl0ZW1WaWV3LkV4dGVuZGVkU2VsZWN0aW9uKQogICAgICAgIHNlbGYuc291cmNlX2xpc3QuaXRlbVNlbGVjdGlvbkNoYW5nZWQuY29ubmVjdChzZWxmLl9vbl9zb3VyY2Vfc2VsZWN0aW9uX2NoYW5nZWQpCiAgICAgICAgbGVmdF9sYXlvdXQuYWRkV2lkZ2V0KHNlbGYuc291cmNlX2xpc3QsIHN0cmV0Y2g9MSkKCiAgICAgICAgZWRpdG9yX2JveCA9IFFHcm91cEJveCgiU291cmNlIEVkaXRvciIpCiAgICAgICAgZm9ybSA9IFFGb3JtTGF5b3V0KGVkaXRvcl9ib3gpCgogICAgICAgIHNlbGYuZWRfc291cmNlX25hbWUgPSBRTGluZUVkaXQoKQogICAgICAgIHNlbGYuZWRfYWxpYXMgPSBRTGluZUVkaXQoKQogICAgICAgIHNlbGYuZWRfa2luZCA9IFFDb21ib0JveCgpCiAgICAgICAgc2VsZi5lZF9raW5kLmFkZEl0ZW1zKFsiVEVMRUdSQU0iLCAiRkFDRUJPT0siLCAiVFdJVFRFUiIsICJIVFRQIl0pCiAgICAgICAgc2VsZi5lZF9sYW5nID0gUUxpbmVFZGl0KCkKICAgICAgICBzZWxmLmVkX2FjdGl2ZSA9IFFDaGVja0JveCgiQWN0aXZlIikKCiAgICAgICAgZm9ybS5hZGRSb3coIlNvdXJjZSBOYW1lIiwgc2VsZi5lZF9zb3VyY2VfbmFtZSkKICAgICAgICBmb3JtLmFkZFJvdygiQWxpYXMiLCBzZWxmLmVkX2FsaWFzKQogICAgICAgIGZvcm0uYWRkUm93KCJLaW5kIiwgc2VsZi5lZF9raW5kKQogICAgICAgIGZvcm0uYWRkUm93KCJMYW5ndWFnZSIsIHNlbGYuZWRfbGFuZykKICAgICAgICBmb3JtLmFkZFJvdygiIiwgc2VsZi5lZF9hY3RpdmUpCgogICAgICAgIGJ0bl9yb3cgPSBRSEJveExheW91dCgpCiAgICAgICAgc2VsZi5idG5fbmV3ID0gUVB1c2hCdXR0b24oIk5ldyIpCiAgICAgICAgc2VsZi5idG5fc2F2ZSA9IFFQdXNoQnV0dG9uKCJTYXZlIikKICAgICAgICBzZWxmLmJ0bl9yZXZlcnQgPSBRUHVzaEJ1dHRvbigiUmV2ZXJ0IikKICAgICAgICBzZWxmLmJ0bl9kZWxldGUgPSBRUHVzaEJ1dHRvbigiRGVsZXRlIikKCiAgICAgICAgZm9yIGIgaW4gKHNlbGYuYnRuX25ldywgc2VsZi5idG5fc2F2ZSwgc2VsZi5idG5fcmV2ZXJ0LCBzZWxmLmJ0bl9kZWxldGUpOgogICAgICAgICAgICBidG5fcm93LmFkZFdpZGdldChiKQoKICAgICAgICBmb3JtLmFkZFJvdyhidG5fcm93KQogICAgICAgIGxlZnRfbGF5b3V0LmFkZFdpZGdldChlZGl0b3JfYm94KQoKICAgICAgICBzcGxpdHRlci5hZGRXaWRnZXQobGVmdCkKCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgICMgUmlnaHQ6IFBvc3RzCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgICAgICByaWdodCA9IFFXaWRnZXQoKQogICAgICAgIHJpZ2h0X2xheW91dCA9IFFWQm94TGF5b3V0KHJpZ2h0KQoKICAgICAgICBzZWxmLnRhYmxlID0gUVRhYmxlV2lkZ2V0KCkKICAgICAgICBzZWxmLnRhYmxlLnNldENvbHVtbkNvdW50KDcpCiAgICAgICAgc2VsZi50YWJsZS5zZXRIb3Jpem9udGFsSGVhZGVyTGFiZWxzKAogICAgICAgICAgICBbIlN0YXRlIiwgIlB1Ymxpc2hlZCIsICJBbGlhcyIsICJTb3VyY2UiLCAiTGFuZyIsICJFdmVudHMiLCAiU25pcHBldCJdCiAgICAgICAgKQogICAgICAgIHNlbGYudGFibGUuc2V0U2VsZWN0aW9uQmVoYXZpb3IoUUFic3RyYWN0SXRlbVZpZXcuU2VsZWN0Um93cykKICAgICAgICBzZWxmLnRhYmxlLnNldEVkaXRUcmlnZ2VycyhRQWJzdHJhY3RJdGVtVmlldy5Ob0VkaXRUcmlnZ2VycykKICAgICAgICBzZWxmLnRhYmxlLnZlcnRpY2FsSGVhZGVyKCkuc2V0VmlzaWJsZShGYWxzZSkKICAgICAgICBzZWxmLnRhYmxlLml0ZW1TZWxlY3Rpb25DaGFuZ2VkLmNvbm5lY3Qoc2VsZi5fb25fcG9zdF9zZWxlY3RlZCkKICAgICAgICByaWdodF9sYXlvdXQuYWRkV2lkZ2V0KHNlbGYudGFibGUpCgogICAgICAgIGV4dHJhY3RfYmFyID0gUUhCb3hMYXlvdXQoKQogICAgICAgIHNlbGYuY2hrX3JlcHJvY2VzcyA9IFFDaGVja0JveCgiUmVwcm9jZXNzIikKICAgICAgICBzZWxmLmJ0bl9leHRyYWN0ID0gUVB1c2hCdXR0b24oIkV4dHJhY3QgRXZlbnRzIikKICAgICAgICBzZWxmLmJ0bl9leHRyYWN0LnNldEVuYWJsZWQoRmFsc2UpCgogICAgICAgIGV4dHJhY3RfYmFyLmFkZFdpZGdldChzZWxmLmNoa19yZXByb2Nlc3MpCiAgICAgICAgZXh0cmFjdF9iYXIuYWRkV2lkZ2V0KHNlbGYuYnRuX2V4dHJhY3QpCiAgICAgICAgZXh0cmFjdF9iYXIuYWRkU3RyZXRjaCgpCgogICAgICAgIHJpZ2h0X2xheW91dC5hZGRMYXlvdXQoZXh0cmFjdF9iYXIpCgogICAgICAgIHNlbGYudGFicyA9IFFUYWJXaWRnZXQoKQogICAgICAgIHNlbGYucG9zdF9kZXRhaWwgPSBRVGV4dEVkaXQocmVhZE9ubHk9VHJ1ZSkKICAgICAgICBzZWxmLmZldGNoX2xvZ192aWV3ID0gUVRleHRFZGl0KHJlYWRPbmx5PVRydWUpCiAgICAgICAgc2VsZi50YWJzLmFkZFRhYihzZWxmLnBvc3RfZGV0YWlsLCAiUG9zdCBEZXRhaWwiKQogICAgICAgIHNlbGYudGFicy5hZGRUYWIoc2VsZi5mZXRjaF9sb2dfdmlldywgIkZldGNoIExvZyIpCiAgICAgICAgcmlnaHRfbGF5b3V0LmFkZFdpZGdldChzZWxmLnRhYnMpCgogICAgICAgIHNwbGl0dGVyLmFkZFdpZGdldChyaWdodCkKICAgICAgICBzcGxpdHRlci5zZXRTdHJldGNoRmFjdG9yKDEsIDMpCiAgICAgICAgcm9vdC5hZGRXaWRnZXQoc3BsaXR0ZXIpCgogICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICAjIFdpcmluZwogICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICAgICAgc2VsZi5idG5fZmV0Y2hfc2VsZWN0ZWQuY2xpY2tlZC5jb25uZWN0KHNlbGYuX2ZldGNoX3NlbGVjdGVkKQogICAgICAgIHNlbGYuYnRuX2ZldGNoX2FsbC5jbGlja2VkLmNvbm5lY3Qoc2VsZi5fZmV0Y2hfYWxsKQogICAgICAgIHNlbGYuYnRuX2VuYWJsZS5jbGlja2VkLmNvbm5lY3QobGFtYmRhOiBzZWxmLl9zZXRfYWN0aXZlKFRydWUpKQogICAgICAgIHNlbGYuYnRuX2Rpc2FibGUuY2xpY2tlZC5jb25uZWN0KGxhbWJkYTogc2VsZi5fc2V0X2FjdGl2ZShGYWxzZSkpCiAgICAgICAgc2VsZi5idG5fcmVtb3ZlLmNsaWNrZWQuY29ubmVjdChzZWxmLl9yZW1vdmVfc291cmNlcykKCiAgICAgICAgc2VsZi5idG5fbmV3LmNsaWNrZWQuY29ubmVjdChzZWxmLl9uZXdfc291cmNlKQogICAgICAgIHNlbGYuYnRuX3NhdmUuY2xpY2tlZC5jb25uZWN0KHNlbGYuX3NhdmVfc291cmNlKQogICAgICAgIHNlbGYuYnRuX3JldmVydC5jbGlja2VkLmNvbm5lY3Qoc2VsZi5fcmV2ZXJ0X3NvdXJjZSkKICAgICAgICBzZWxmLmJ0bl9kZWxldGUuY2xpY2tlZC5jb25uZWN0KHNlbGYuX2RlbGV0ZV9zb3VyY2UpCgogICAgICAgIHNlbGYuYnRuX2V4dHJhY3QuY2xpY2tlZC5jb25uZWN0KHNlbGYuX2V4dHJhY3Rfc2VsZWN0ZWRfcG9zdHMpCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICMgRXh0cmFjdGlvbiAoZGlyZWN0IExTUykKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIF9leHRyYWN0X3NlbGVjdGVkX3Bvc3RzKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgcm93cyA9IHNlbGYuaW5nZXN0LnF1ZXJ5X3Bvc3RzKEluZ2VzdFBvc3RGaWx0ZXIoKSkKCiAgICAgICAgcG9zdF9pZHMgPSBzb3J0ZWQoewogICAgICAgICAgICByb3dzW2l0ZW0ucm93KCldLnBvc3RfaWQKICAgICAgICAgICAgZm9yIGl0ZW0gaW4gc2VsZi50YWJsZS5zZWxlY3RlZEl0ZW1zKCkKICAgICAgICB9KQoKICAgICAgICBpZiBub3QgcG9zdF9pZHM6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICBwb3N0czogbGlzdFtkaWN0XSA9IFtdCiAgICAgICAgZm9yIHJvdyBpbiByb3dzOgogICAgICAgICAgICBpZiByb3cucG9zdF9pZCBpbiBwb3N0X2lkczoKICAgICAgICAgICAgICAgIGRldGFpbCA9IHNlbGYuaW5nZXN0LmdldF9wb3N0KHJvdy5wb3N0X2lkKQogICAgICAgICAgICAgICAgcG9zdHMuYXBwZW5kKHsKICAgICAgICAgICAgICAgICAgICAiaWQiOiByb3cucG9zdF9pZCwKICAgICAgICAgICAgICAgICAgICAidGV4dCI6IGRldGFpbC50ZXh0LAogICAgICAgICAgICAgICAgfSkKCiAgICAgICAgaWYgbm90IHBvc3RzOgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgc2VsZi5idG5fZXh0cmFjdC5zZXRFbmFibGVkKEZhbHNlKQoKICAgICAgICBzZWxmLl9wcm9ncmVzcyA9IFFQcm9ncmVzc0RpYWxvZygKICAgICAgICAgICAgIkV4dHJhY3RpbmcgZXZlbnRz4oCmIiwKICAgICAgICAgICAgTm9uZSwKICAgICAgICAgICAgMCwKICAgICAgICAgICAgMCwKICAgICAgICAgICAgc2VsZiwKICAgICAgICApCiAgICAgICAgc2VsZi5fcHJvZ3Jlc3Muc2V0V2luZG93TW9kYWxpdHkoUXQuTm9uTW9kYWwpCiAgICAgICAgc2VsZi5fcHJvZ3Jlc3Muc2V0TWluaW11bUR1cmF0aW9uKDApCiAgICAgICAgc2VsZi5fcHJvZ3Jlc3Muc2hvdygpCgogICAgICAgIHNlbGYuX2xzc193b3JrZXIgPSBMU1NXb3JrZXIoCiAgICAgICAgICAgIHBvc3RzLAogICAgICAgICAgICByZXByb2Nlc3M9c2VsZi5jaGtfcmVwcm9jZXNzLmlzQ2hlY2tlZCgpLAogICAgICAgICAgICBwYXJlbnQ9c2VsZiwKICAgICAgICApCiAgICAgICAgc2VsZi5fbHNzX3dvcmtlci5maW5pc2hlZF9vay5jb25uZWN0KHNlbGYuX29uX2V4dHJhY3RfZmluaXNoZWQpCiAgICAgICAgc2VsZi5fbHNzX3dvcmtlci5mYWlsZWQuY29ubmVjdChzZWxmLl9vbl9leHRyYWN0X2ZhaWxlZCkKICAgICAgICBzZWxmLl9sc3Nfd29ya2VyLnN0YXJ0KCkKCiAgICBkZWYgX29uX2V4dHJhY3RfZmluaXNoZWQoc2VsZikgLT4gTm9uZToKICAgICAgICBpZiBzZWxmLl9wcm9ncmVzczoKICAgICAgICAgICAgc2VsZi5fcHJvZ3Jlc3MuY2xvc2UoKQogICAgICAgICAgICBzZWxmLl9wcm9ncmVzcyA9IE5vbmUKICAgICAgICBzZWxmLmJ0bl9leHRyYWN0LnNldEVuYWJsZWQoVHJ1ZSkKICAgICAgICBzZWxmLl9sb2FkX3Bvc3RzKCkKCiAgICBkZWYgX29uX2V4dHJhY3RfZmFpbGVkKHNlbGYsIG1lc3NhZ2U6IHN0cikgLT4gTm9uZToKICAgICAgICBpZiBzZWxmLl9wcm9ncmVzczoKICAgICAgICAgICAgc2VsZi5fcHJvZ3Jlc3MuY2xvc2UoKQogICAgICAgICAgICBzZWxmLl9wcm9ncmVzcyA9IE5vbmUKICAgICAgICBzZWxmLmJ0bl9leHRyYWN0LnNldEVuYWJsZWQoVHJ1ZSkKICAgICAgICBRTWVzc2FnZUJveC5jcml0aWNhbChzZWxmLCAiTFNTIEV4dHJhY3Rpb24gRmFpbGVkIiwgbWVzc2FnZSkKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBQb3N0cwogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBkZWYgX2xvYWRfcG9zdHMoc2VsZikgLT4gTm9uZToKICAgICAgICByb3dzID0gc2VsZi5pbmdlc3QucXVlcnlfcG9zdHMoSW5nZXN0UG9zdEZpbHRlcigpKQogICAgICAgIHNlbGYudGFibGUuc2V0Um93Q291bnQobGVuKHJvd3MpKQogICAgICAgIGZvciByLCByb3cgaW4gZW51bWVyYXRlKHJvd3MpOgogICAgICAgICAgICBzZWxmLl9wb3B1bGF0ZV9yb3cociwgcm93KQogICAgICAgIHNlbGYudGFibGUucmVzaXplQ29sdW1uc1RvQ29udGVudHMoKQogICAgICAgIHNlbGYudGFibGUuc2V0Q29sdW1uV2lkdGgoMCwgMTYwKQoKICAgIGRlZiBfcG9wdWxhdGVfcm93KHNlbGYsIHJvd19pZHg6IGludCwgcm93KSAtPiBOb25lOgogICAgICAgIGljb24gPSBTVEFURV9JQ09OLmdldChyb3cuc3RhdGUsICIiKQogICAgICAgIHRleHQgPSBmIntpY29ufSB7cm93LnN0YXRlLnZhbHVlLnJlcGxhY2UoJ18nLCAnICcpfSIKICAgICAgICBpdGVtcyA9IFsKICAgICAgICAgICAgUVRhYmxlV2lkZ2V0SXRlbSh0ZXh0KSwKICAgICAgICAgICAgUVRhYmxlV2lkZ2V0SXRlbShyb3cucHVibGlzaGVkX2F0KSwKICAgICAgICAgICAgUVRhYmxlV2lkZ2V0SXRlbShyb3cuYWxpYXMpLAogICAgICAgICAgICBRVGFibGVXaWRnZXRJdGVtKHJvdy5zb3VyY2UpLAogICAgICAgICAgICBRVGFibGVXaWRnZXRJdGVtKHJvdy5sYW5nKSwKICAgICAgICAgICAgUVRhYmxlV2lkZ2V0SXRlbShzdHIocm93LmV2ZW50X2NvdW50KSksCiAgICAgICAgICAgIFFUYWJsZVdpZGdldEl0ZW0ocm93LnRleHRfc25pcHBldCksCiAgICAgICAgXQogICAgICAgIGZvciBjLCBpdGVtIGluIGVudW1lcmF0ZShpdGVtcyk6CiAgICAgICAgICAgIGl0ZW0uc2V0RmxhZ3MoaXRlbS5mbGFncygpICYgflF0Lkl0ZW1Jc0VkaXRhYmxlKQogICAgICAgICAgICBzZWxmLnRhYmxlLnNldEl0ZW0ocm93X2lkeCwgYywgaXRlbSkKCiAgICBkZWYgX29uX3Bvc3Rfc2VsZWN0ZWQoc2VsZikgLT4gTm9uZToKICAgICAgICBpdGVtcyA9IHNlbGYudGFibGUuc2VsZWN0ZWRJdGVtcygpCiAgICAgICAgaWYgbm90IGl0ZW1zOgogICAgICAgICAgICBzZWxmLmJ0bl9leHRyYWN0LnNldEVuYWJsZWQoRmFsc2UpCiAgICAgICAgICAgIHNlbGYucG9zdF9kZXRhaWwuY2xlYXIoKQogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgc2VsZi5idG5fZXh0cmFjdC5zZXRFbmFibGVkKFRydWUpCiAgICAgICAgcm93cyA9IHNlbGYuaW5nZXN0LnF1ZXJ5X3Bvc3RzKEluZ2VzdFBvc3RGaWx0ZXIoKSkKICAgICAgICBkZXRhaWwgPSBzZWxmLmluZ2VzdC5nZXRfcG9zdChyb3dzW2l0ZW1zWzBdLnJvdygpXS5wb3N0X2lkKQogICAgICAgIHNlbGYucG9zdF9kZXRhaWwuc2V0UGxhaW5UZXh0KGRldGFpbC50ZXh0KQoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIFNvdXJjZXMgLyBGZXRjaCAodW5jaGFuZ2VkKQogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBkZWYgX2xvYWRfc291cmNlcyhzZWxmKSAtPiBOb25lOgogICAgICAgIHNlbGYuc291cmNlX2xpc3QuY2xlYXIoKQogICAgICAgIGZvciBzcmMgaW4gc2VsZi5zb3VyY2VzLmxvYWRfc291cmNlcygpOgogICAgICAgICAgICBsYWJlbCA9IHNyYy5hbGlhcyArICgiIiBpZiBzcmMuYWN0aXZlIGVsc2UgIiAoaW5hY3RpdmUpIikKICAgICAgICAgICAgaXRlbSA9IFFMaXN0V2lkZ2V0SXRlbShsYWJlbCkKICAgICAgICAgICAgaXRlbS5zZXREYXRhKFF0LlVzZXJSb2xlLCBzcmMpCiAgICAgICAgICAgIGlmIG5vdCBzcmMuYWN0aXZlOgogICAgICAgICAgICAgICAgaXRlbS5zZXRGb3JlZ3JvdW5kKFF0LmdyYXkpCiAgICAgICAgICAgIHNlbGYuc291cmNlX2xpc3QuYWRkSXRlbShpdGVtKQoKICAgIGRlZiBfc2VsZWN0ZWRfc291cmNlcyhzZWxmKSAtPiBMaXN0W1NvdXJjZVJlY29yZF06CiAgICAgICAgcmV0dXJuIFsKICAgICAgICAgICAgaS5kYXRhKFF0LlVzZXJSb2xlKQogICAgICAgICAgICBmb3IgaSBpbiBzZWxmLnNvdXJjZV9saXN0LnNlbGVjdGVkSXRlbXMoKQogICAgICAgICAgICBpZiBpc2luc3RhbmNlKGkuZGF0YShRdC5Vc2VyUm9sZSksIFNvdXJjZVJlY29yZCkKICAgICAgICBdCgogICAgZGVmIF9zZWxlY3RlZF9zb3VyY2VfbmFtZXMoc2VsZikgLT4gTGlzdFtzdHJdOgogICAgICAgIHJldHVybiBbcy5zb3VyY2VfbmFtZSBmb3IgcyBpbiBzZWxmLl9zZWxlY3RlZF9zb3VyY2VzKCldCgogICAgZGVmIF9vbl9zb3VyY2Vfc2VsZWN0aW9uX2NoYW5nZWQoc2VsZikgLT4gTm9uZToKICAgICAgICBpdGVtcyA9IHNlbGYuX3NlbGVjdGVkX3NvdXJjZXMoKQogICAgICAgIGlmIGxlbihpdGVtcykgPT0gMToKICAgICAgICAgICAgc2VsZi5fbG9hZF9zb3VyY2VfaW50b19lZGl0b3IoaXRlbXNbMF0pCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc2VsZi5fbG9hZGVkX3NvdXJjZV9uYW1lID0gTm9uZQoKICAgIGRlZiBfY2xlYXJfZWRpdG9yX2ZpZWxkcyhzZWxmKSAtPiBOb25lOgogICAgICAgIHNlbGYuZWRfc291cmNlX25hbWUuY2xlYXIoKQogICAgICAgIHNlbGYuZWRfYWxpYXMuY2xlYXIoKQogICAgICAgIHNlbGYuZWRfbGFuZy5jbGVhcigpCiAgICAgICAgc2VsZi5lZF9hY3RpdmUuc2V0Q2hlY2tlZChUcnVlKQogICAgICAgIHNlbGYuZWRfa2luZC5zZXRDdXJyZW50SW5kZXgoMCkKICAgICAgICBzZWxmLl9lZGl0aW5nX25ldyA9IEZhbHNlCiAgICAgICAgc2VsZi5fbG9hZGVkX3NvdXJjZV9uYW1lID0gTm9uZQoKICAgIGRlZiBfbG9hZF9zb3VyY2VfaW50b19lZGl0b3Ioc2VsZiwgc3JjOiBTb3VyY2VSZWNvcmQpIC0+IE5vbmU6CiAgICAgICAgc2VsZi5fZWRpdGluZ19uZXcgPSBGYWxzZQogICAgICAgIHNlbGYuX2xvYWRlZF9zb3VyY2VfbmFtZSA9IHNyYy5zb3VyY2VfbmFtZQogICAgICAgIHNlbGYuZWRfc291cmNlX25hbWUuc2V0VGV4dChzcmMuc291cmNlX25hbWUpCiAgICAgICAgc2VsZi5lZF9hbGlhcy5zZXRUZXh0KHNyYy5hbGlhcykKICAgICAgICBzZWxmLmVkX2tpbmQuc2V0Q3VycmVudFRleHQoc3JjLnNvdXJjZV9raW5kKQogICAgICAgIHNlbGYuZWRfbGFuZy5zZXRUZXh0KHNyYy5zb3VyY2VfbGFuZykKICAgICAgICBzZWxmLmVkX2FjdGl2ZS5zZXRDaGVja2VkKHNyYy5hY3RpdmUpCgogICAgZGVmIF9uZXdfc291cmNlKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgc2VsZi5fZWRpdGluZ19uZXcgPSBUcnVlCiAgICAgICAgc2VsZi5fbG9hZGVkX3NvdXJjZV9uYW1lID0gTm9uZQogICAgICAgIHNlbGYuX2NsZWFyX2VkaXRvcl9maWVsZHMoKQoKICAgIGRlZiBfcmV2ZXJ0X3NvdXJjZShzZWxmKSAtPiBOb25lOgogICAgICAgIGlmIG5vdCBzZWxmLl9sb2FkZWRfc291cmNlX25hbWU6CiAgICAgICAgICAgIHJldHVybgogICAgICAgIGZvciBzIGluIHNlbGYuc291cmNlcy5sb2FkX3NvdXJjZXMoKToKICAgICAgICAgICAgaWYgcy5zb3VyY2VfbmFtZSA9PSBzZWxmLl9sb2FkZWRfc291cmNlX25hbWU6CiAgICAgICAgICAgICAgICBzZWxmLl9sb2FkX3NvdXJjZV9pbnRvX2VkaXRvcihzKQogICAgICAgICAgICAgICAgcmV0dXJuCgogICAgZGVmIF9zYXZlX3NvdXJjZShzZWxmKSAtPiBOb25lOgogICAgICAgIHJlY29yZCA9IFNvdXJjZVJlY29yZCgKICAgICAgICAgICAgc291cmNlX25hbWU9c2VsZi5lZF9zb3VyY2VfbmFtZS50ZXh0KCkuc3RyaXAoKSwKICAgICAgICAgICAgYWxpYXM9c2VsZi5lZF9hbGlhcy50ZXh0KCkuc3RyaXAoKSwKICAgICAgICAgICAgc291cmNlX2tpbmQ9c2VsZi5lZF9raW5kLmN1cnJlbnRUZXh0KCkuc3RyaXAoKSwKICAgICAgICAgICAgc291cmNlX2xhbmc9c2VsZi5lZF9sYW5nLnRleHQoKS5zdHJpcCgpLAogICAgICAgICAgICBhY3RpdmU9c2VsZi5lZF9hY3RpdmUuaXNDaGVja2VkKCksCiAgICAgICAgKQogICAgICAgIGlmIHNlbGYuX2VkaXRpbmdfbmV3IG9yIG5vdCBzZWxmLl9sb2FkZWRfc291cmNlX25hbWU6CiAgICAgICAgICAgIHNlbGYuc291cmNlcy5hZGRfc291cmNlKHJlY29yZCkKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZWxmLnNvdXJjZXMucmVwbGFjZV9zb3VyY2Uoc2VsZi5fbG9hZGVkX3NvdXJjZV9uYW1lLCByZWNvcmQpCiAgICAgICAgc2VsZi5fbG9hZF9zb3VyY2VzKCkKICAgICAgICBzZWxmLl9jbGVhcl9lZGl0b3JfZmllbGRzKCkKCiAgICBkZWYgX2RlbGV0ZV9zb3VyY2Uoc2VsZikgLT4gTm9uZToKICAgICAgICBpZiBub3Qgc2VsZi5fbG9hZGVkX3NvdXJjZV9uYW1lOgogICAgICAgICAgICByZXR1cm4KICAgICAgICBpZiBRTWVzc2FnZUJveC5xdWVzdGlvbihzZWxmLCAiRGVsZXRlIFNvdXJjZSIsICJIYXJkIGRlbGV0ZSB0aGlzIHNvdXJjZT8iKSAhPSBRTWVzc2FnZUJveC5ZZXM6CiAgICAgICAgICAgIHJldHVybgogICAgICAgIHNlbGYuc291cmNlcy5kZWxldGVfc291cmNlX2hhcmQoc2VsZi5fbG9hZGVkX3NvdXJjZV9uYW1lKQogICAgICAgIHNlbGYuX2xvYWRfc291cmNlcygpCiAgICAgICAgc2VsZi5fY2xlYXJfZWRpdG9yX2ZpZWxkcygpCgogICAgZGVmIF9zZXRfYWN0aXZlKHNlbGYsIGFjdGl2ZTogYm9vbCkgLT4gTm9uZToKICAgICAgICBuYW1lcyA9IHNlbGYuX3NlbGVjdGVkX3NvdXJjZV9uYW1lcygpCiAgICAgICAgaWYgbmFtZXM6CiAgICAgICAgICAgIHNlbGYuc291cmNlcy5zZXRfYWN0aXZlKG5hbWVzLCBhY3RpdmUpCiAgICAgICAgICAgIHNlbGYuX2xvYWRfc291cmNlcygpCgogICAgZGVmIF9yZW1vdmVfc291cmNlcyhzZWxmKSAtPiBOb25lOgogICAgICAgIG5hbWVzID0gc2VsZi5fc2VsZWN0ZWRfc291cmNlX25hbWVzKCkKICAgICAgICBpZiBub3QgbmFtZXM6CiAgICAgICAgICAgIHJldHVybgogICAgICAgIGlmIFFNZXNzYWdlQm94LnF1ZXN0aW9uKHNlbGYsICJSZW1vdmUgU291cmNlcyIsICJIYXJkIGRlbGV0ZSBzZWxlY3RlZCBzb3VyY2VzPyIpICE9IFFNZXNzYWdlQm94LlllczoKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgZm9yIG4gaW4gbmFtZXM6CiAgICAgICAgICAgIHNlbGYuc291cmNlcy5kZWxldGVfc291cmNlX2hhcmQobikKICAgICAgICBzZWxmLl9sb2FkX3NvdXJjZXMoKQogICAgICAgIHNlbGYuX2NsZWFyX2VkaXRvcl9maWVsZHMoKQoKICAgIGRlZiBfZmV0Y2hfc2VsZWN0ZWQoc2VsZikgLT4gTm9uZToKICAgICAgICBuYW1lcyA9IHNlbGYuX3NlbGVjdGVkX3NvdXJjZV9uYW1lcygpCiAgICAgICAgaWYgbmFtZXM6CiAgICAgICAgICAgIHNlbGYuX2ZldGNoKG5hbWVzKQoKICAgIGRlZiBfZmV0Y2hfYWxsKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgbmFtZXMgPSBbcy5zb3VyY2VfbmFtZSBmb3IgcyBpbiBzZWxmLnNvdXJjZXMubG9hZF9zb3VyY2VzKCkgaWYgcy5hY3RpdmVdCiAgICAgICAgc2VsZi5fZmV0Y2gobmFtZXMpCgogICAgZGVmIF9mZXRjaChzZWxmLCBzb3VyY2VfbmFtZXM6IExpc3Rbc3RyXSkgLT4gTm9uZToKICAgICAgICByZXN1bHRzID0gc2VsZi5zb3VyY2VzLmZldGNoX3NvdXJjZXMoCiAgICAgICAgICAgIHNvdXJjZV9uYW1lcz1zb3VyY2VfbmFtZXMsCiAgICAgICAgICAgIHN0YXJ0X2RhdGU9c2VsZi5mZXRjaF9mcm9tLmRhdGUoKS50b1N0cmluZygieXl5eS1NTS1kZCIpLAogICAgICAgICAgICBlbmRfZGF0ZT1zZWxmLmZldGNoX3RvLmRhdGUoKS50b1N0cmluZygieXl5eS1NTS1kZCIpLAogICAgICAgICAgICBmb3JjZT1zZWxmLmZvcmNlX2NoZWNrLmlzQ2hlY2tlZCgpLAogICAgICAgICkKICAgICAgICBmb3IgciBpbiByZXN1bHRzOgogICAgICAgICAgICBzZWxmLmZldGNoX2xvZy5hZGQoRmV0Y2hMb2dFbnRyeSgqKnIuX19kaWN0X18pKQogICAgICAgIHNlbGYuX3JlZnJlc2hfZmV0Y2hfbG9nKCkKICAgICAgICBzZWxmLl9sb2FkX3Bvc3RzKCkKCiAgICBkZWYgX3JlZnJlc2hfZmV0Y2hfbG9nKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgbGluZXMgPSBbXQogICAgICAgIGZvciBlIGluIHNlbGYuZmV0Y2hfbG9nLmVudHJpZXMoKToKICAgICAgICAgICAgc3RhdHVzID0gIkVSUk9SIiBpZiBlLmVycm9yIGVsc2UgZiJ7ZS5mZXRjaGVkX2NvdW50fSBwb3N0cyIKICAgICAgICAgICAgbGluZXMuYXBwZW5kKGYiW3tlLnRpbWVzdGFtcH1dIHtlLnNvdXJjZV9uYW1lfSAoe2Uuc291cmNlX2tpbmR9KSDihpIge3N0YXR1c30iKQogICAgICAgICAgICBpZiBlLmVycm9yOgogICAgICAgICAgICAgICAgbGluZXMuYXBwZW5kKGYiICAgIHtlLmVycm9yfSIpCiAgICAgICAgc2VsZi5mZXRjaF9sb2dfdmlldy5zZXRQbGFpblRleHQoIlxuIi5qb2luKGxpbmVzKSkKCiAgICBkZWYgX29uX2V4dHJhY3RfZmluaXNoZWQoc2VsZikgLT4gTm9uZToKICAgICAgICBpZiBzZWxmLl9wcm9ncmVzczoKICAgICAgICAgICAgc2VsZi5fcHJvZ3Jlc3MuY2xvc2UoKQogICAgICAgICAgICBzZWxmLl9wcm9ncmVzcyA9IE5vbmUKCiAgICAgICAgc2VsZi5idG5fZXh0cmFjdC5zZXRFbmFibGVkKFRydWUpCiAgICAgICAgc2VsZi5fbG9hZF9wb3N0cygpCgogICAgICAgICMg4pyFIHJlcXVlc3QgbmF2aWdhdGlvbiB0byByZXZpZXcKICAgICAgICBzZWxmLnJldmlld19yZXF1ZXN0ZWQuZW1pdCgpCgAAAAAAAAAA60IAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA60IAAAAAAADRQQAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "src/sitrepc2/gui/review/review_workspace.py",
			"settings":
			{
				"buffer_size": 5472,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					5,
					1,
					"paste",
					null,
					"AQAAAAAAAAAAAAAAIR8AAAAAAABNHwAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSB0eXBpbmcgaW1wb3J0IE9wdGlvbmFsLCBEaWN0Cgpmcm9tIFB5U2lkZTYuUXRDb3JlIGltcG9ydCBRdApmcm9tIFB5U2lkZTYuUXRXaWRnZXRzIGltcG9ydCAoCiAgICBRV2lkZ2V0LAogICAgUVZCb3hMYXlvdXQsCiAgICBRU3BsaXR0ZXIsCiAgICBRTGFiZWwsCiAgICBRVGFibGVXaWRnZXQsCiAgICBRVGFibGVXaWRnZXRJdGVtLAogICAgUVRyZWVXaWRnZXQsCiAgICBRVHJlZVdpZGdldEl0ZW0sCiAgICBRQWJzdHJhY3RJdGVtVmlldywKKQoKZnJvbSBzaXRyZXBjMi5ndWkuaW5nZXN0LmNvbnRyb2xsZXIgaW1wb3J0ICgKICAgIEluZ2VzdENvbnRyb2xsZXIsCiAgICBJbmdlc3RQb3N0RmlsdGVyLAogICAgSW5nZXN0UG9zdFN0YXRlLAopCgpmcm9tIHNpdHJlcGMyLmd1aS5yZXZpZXcuY29udHJvbGxlciBpbXBvcnQgUmV2aWV3Q29udHJvbGxlcgpmcm9tIHNpdHJlcGMyLmRvbS5ub2RlcyBpbXBvcnQgQmFzZU5vZGUKCgojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KIyBSZXZpZXcgV29ya3NwYWNlCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKY2xhc3MgUmV2aWV3V29ya3NwYWNlKFFXaWRnZXQpOgogICAgIiIiCiAgICBVSSB3b3Jrc3BhY2UgZm9yIERPTSByZXZpZXcuCgogICAgUHVyZSBVSSByZXNwb25zaWJpbGl0aWVzOgogICAgLSBEaXNwbGF5IFJFQURZX0ZPUl9SRVZJRVcgcG9zdHMKICAgIC0gRGlzcGxheSBET00gdHJlZSBmb3Igc2VsZWN0ZWQgcG9zdAogICAgLSBSZWZsZWN0IGFuZCB1cGRhdGUgbm9kZSBzZWxlY3Rpb24gc3RhdGUKICAgICIiIgoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBwYXJlbnQ6IE9wdGlvbmFsW1FXaWRnZXRdID0gTm9uZSkgLT4gTm9uZToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKHBhcmVudCkKCiAgICAgICAgc2VsZi5pbmdlc3QgPSBJbmdlc3RDb250cm9sbGVyKCkKICAgICAgICBzZWxmLnJldmlldyA9IFJldmlld0NvbnRyb2xsZXIoc2VsZi5pbmdlc3QucmVjb3Jkc19kYl9wYXRoKQoKICAgICAgICBzZWxmLl9jdXJyZW50X3NuYXBzaG90X2lkOiBPcHRpb25hbFtpbnRdID0gTm9uZQogICAgICAgIHNlbGYuX2RvbV9ub2RlczogRGljdFtzdHIsIEJhc2VOb2RlXSA9IHt9CgogICAgICAgIHNlbGYuX2J1aWxkX3VpKCkKICAgICAgICBzZWxmLl9sb2FkX3Bvc3RzKCkKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBVSQogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBkZWYgX2J1aWxkX3VpKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgcm9vdCA9IFFWQm94TGF5b3V0KHNlbGYpCiAgICAgICAgcm9vdC5hZGRXaWRnZXQoUUxhYmVsKCJSZXZpZXcgRXh0cmFjdGVkIFBvc3RzIikpCgogICAgICAgIHNwbGl0dGVyID0gUVNwbGl0dGVyKFF0Lkhvcml6b250YWwpCgogICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICAjIExlZnQ6IFBvc3QgbGlzdAogICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICAgICAgc2VsZi50YWJsZSA9IFFUYWJsZVdpZGdldCgpCiAgICAgICAgc2VsZi50YWJsZS5zZXRDb2x1bW5Db3VudCg1KQogICAgICAgIHNlbGYudGFibGUuc2V0SG9yaXpvbnRhbEhlYWRlckxhYmVscygKICAgICAgICAgICAgWyJQdWJsaXNoZWQiLCAiQWxpYXMiLCAiU291cmNlIiwgIkV2ZW50cyIsICJTbmlwcGV0Il0KICAgICAgICApCiAgICAgICAgc2VsZi50YWJsZS5zZXRTZWxlY3Rpb25CZWhhdmlvcihRQWJzdHJhY3RJdGVtVmlldy5TZWxlY3RSb3dzKQogICAgICAgIHNlbGYudGFibGUuc2V0RWRpdFRyaWdnZXJzKFFBYnN0cmFjdEl0ZW1WaWV3Lk5vRWRpdFRyaWdnZXJzKQogICAgICAgIHNlbGYudGFibGUudmVydGljYWxIZWFkZXIoKS5zZXRWaXNpYmxlKEZhbHNlKQogICAgICAgIHNlbGYudGFibGUuaXRlbVNlbGVjdGlvbkNoYW5nZWQuY29ubmVjdChzZWxmLl9vbl9wb3N0X3NlbGVjdGVkKQoKICAgICAgICBzcGxpdHRlci5hZGRXaWRnZXQoc2VsZi50YWJsZSkKCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgICMgUmlnaHQ6IERPTSB0cmVlCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgICAgICBzZWxmLnRyZWUgPSBRVHJlZVdpZGdldCgpCiAgICAgICAgc2VsZi50cmVlLnNldEhlYWRlckxhYmVscyhbIk5vZGUiLCAiVHlwZSJdKQogICAgICAgIHNlbGYudHJlZS5pdGVtQ2hhbmdlZC5jb25uZWN0KHNlbGYuX29uX2l0ZW1fY2hlY2tfY2hhbmdlZCkKCiAgICAgICAgc3BsaXR0ZXIuYWRkV2lkZ2V0KHNlbGYudHJlZSkKICAgICAgICBzcGxpdHRlci5zZXRTdHJldGNoRmFjdG9yKDEsIDMpCgogICAgICAgIHJvb3QuYWRkV2lkZ2V0KHNwbGl0dGVyKQoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIFBvc3QgbG9hZGluZwogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBkZWYgX2xvYWRfcG9zdHMoc2VsZikgLT4gTm9uZToKICAgICAgICByb3dzID0gc2VsZi5pbmdlc3QucXVlcnlfcG9zdHMoCiAgICAgICAgICAgIEluZ2VzdFBvc3RGaWx0ZXIoc3RhdGU9SW5nZXN0UG9zdFN0YXRlLlJFQURZX0ZPUl9SRVZJRVcpCiAgICAgICAgKQoKICAgICAgICBzZWxmLnRhYmxlLnNldFJvd0NvdW50KGxlbihyb3dzKSkKCiAgICAgICAgZm9yIHIsIHJvdyBpbiBlbnVtZXJhdGUocm93cyk6CiAgICAgICAgICAgIGl0ZW1zID0gWwogICAgICAgICAgICAgICAgUVRhYmxlV2lkZ2V0SXRlbShyb3cucHVibGlzaGVkX2F0KSwKICAgICAgICAgICAgICAgIFFUYWJsZVdpZGdldEl0ZW0ocm93LmFsaWFzKSwKICAgICAgICAgICAgICAgIFFUYWJsZVdpZGdldEl0ZW0ocm93LnNvdXJjZSksCiAgICAgICAgICAgICAgICBRVGFibGVXaWRnZXRJdGVtKHN0cihyb3cuZXZlbnRfY291bnQpKSwKICAgICAgICAgICAgICAgIFFUYWJsZVdpZGdldEl0ZW0ocm93LnRleHRfc25pcHBldCksCiAgICAgICAgICAgIF0KICAgICAgICAgICAgZm9yIGMsIGl0ZW0gaW4gZW51bWVyYXRlKGl0ZW1zKToKICAgICAgICAgICAgICAgIGl0ZW0uc2V0RmxhZ3MoaXRlbS5mbGFncygpICYgflF0Lkl0ZW1Jc0VkaXRhYmxlKQogICAgICAgICAgICAgICAgc2VsZi50YWJsZS5zZXRJdGVtKHIsIGMsIGl0ZW0pCgogICAgICAgIHNlbGYudGFibGUucmVzaXplQ29sdW1uc1RvQ29udGVudHMoKQoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIFBvc3Qgc2VsZWN0aW9uCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGRlZiBfb25fcG9zdF9zZWxlY3RlZChzZWxmKSAtPiBOb25lOgogICAgICAgIGl0ZW1zID0gc2VsZi50YWJsZS5zZWxlY3RlZEl0ZW1zKCkKICAgICAgICBpZiBub3QgaXRlbXM6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICByb3dfaWR4ID0gaXRlbXNbMF0ucm93KCkKICAgICAgICByb3dzID0gc2VsZi5pbmdlc3QucXVlcnlfcG9zdHMoCiAgICAgICAgICAgIEluZ2VzdFBvc3RGaWx0ZXIoc3RhdGU9SW5nZXN0UG9zdFN0YXRlLlJFQURZX0ZPUl9SRVZJRVcpCiAgICAgICAgKQoKICAgICAgICBwb3N0X2lkID0gcm93c1tyb3dfaWR4XS5wb3N0X2lkCiAgICAgICAgbHNzX3J1bl9pZCA9IHNlbGYuaW5nZXN0LmdldF9sYXRlc3RfbHNzX3J1bl9pZChwb3N0X2lkKQogICAgICAgIGlmIG5vdCBsc3NfcnVuX2lkOgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgc25hcHNob3RfaWQsIG5vZGVzID0gc2VsZi5yZXZpZXcuZW50ZXJfaW5pdGlhbF9yZXZpZXcoCiAgICAgICAgICAgIGluZ2VzdF9wb3N0X2lkPXBvc3RfaWQsCiAgICAgICAgICAgIGxzc19ydW5faWQ9bHNzX3J1bl9pZCwKICAgICAgICApCgogICAgICAgIHNlbGYuX2N1cnJlbnRfc25hcHNob3RfaWQgPSBzbmFwc2hvdF9pZAogICAgICAgIHNlbGYuX2RvbV9ub2RlcyA9IG5vZGVzCgogICAgICAgIHNlbGYuX3JlYnVpbGRfZG9tX3RyZWUoKQoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIERPTSB0cmVlIHJlbmRlcmluZwogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBkZWYgX3JlYnVpbGRfZG9tX3RyZWUoc2VsZikgLT4gTm9uZToKICAgICAgICBzZWxmLnRyZWUuYmxvY2tTaWduYWxzKFRydWUpCiAgICAgICAgc2VsZi50cmVlLmNsZWFyKCkKCiAgICAgICAgcG9zdF9ub2RlID0gbmV4dCgKICAgICAgICAgICAgbiBmb3IgbiBpbiBzZWxmLl9kb21fbm9kZXMudmFsdWVzKCkKICAgICAgICAgICAgaWYgbi5ub2RlX2lkLnN0YXJ0c3dpdGgoInBvc3Q6IikKICAgICAgICApCgogICAgICAgIHJvb3RfaXRlbSA9IHNlbGYuX2J1aWxkX3RyZWVfaXRlbShwb3N0X25vZGUpCiAgICAgICAgc2VsZi50cmVlLmFkZFRvcExldmVsSXRlbShyb290X2l0ZW0pCiAgICAgICAgcm9vdF9pdGVtLnNldEV4cGFuZGVkKFRydWUpCgogICAgICAgIHNlbGYudHJlZS5ibG9ja1NpZ25hbHMoRmFsc2UpCgogICAgZGVmIF9idWlsZF90cmVlX2l0ZW0oc2VsZiwgbm9kZTogQmFzZU5vZGUpIC0+IFFUcmVlV2lkZ2V0SXRlbToKICAgICAgICBzZWxlY3RlZCA9IHNlbGYucmV2aWV3LmdldF9ub2RlX3NlbGVjdGlvbigKICAgICAgICAgICAgZG9tX3NuYXBzaG90X2lkPXNlbGYuX2N1cnJlbnRfc25hcHNob3RfaWQsCiAgICAgICAgICAgIGRvbV9ub2RlX2lkPW5vZGUubm9kZV9pZCwKICAgICAgICApCgogICAgICAgIGl0ZW0gPSBRVHJlZVdpZGdldEl0ZW0oW25vZGUuc3VtbWFyeSwgbm9kZS5ub2RlX3R5cGVdKQogICAgICAgIGl0ZW0uc2V0RGF0YSgwLCBRdC5Vc2VyUm9sZSwgbm9kZS5ub2RlX2lkKQogICAgICAgIGl0ZW0uc2V0RmxhZ3MoaXRlbS5mbGFncygpIHwgUXQuSXRlbUlzVXNlckNoZWNrYWJsZSkKICAgICAgICBpdGVtLnNldENoZWNrU3RhdGUoMCwgUXQuQ2hlY2tlZCBpZiBzZWxlY3RlZCBlbHNlIFF0LlVuY2hlY2tlZCkKCiAgICAgICAgZm9yIGNoaWxkIGluIG5vZGUuY2hpbGRyZW46CiAgICAgICAgICAgIGl0ZW0uYWRkQ2hpbGQoc2VsZi5fYnVpbGRfdHJlZV9pdGVtKGNoaWxkKSkKCiAgICAgICAgcmV0dXJuIGl0ZW0KCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBTZWxlY3Rpb24gcHJvcGFnYXRpb24KICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIF9vbl9pdGVtX2NoZWNrX2NoYW5nZWQoCiAgICAgICAgc2VsZiwKICAgICAgICBpdGVtOiBRVHJlZVdpZGdldEl0ZW0sCiAgICAgICAgY29sdW1uOiBpbnQsCiAgICApIC0+IE5vbmU6CiAgICAgICAgaWYgY29sdW1uICE9IDAgb3Igc2VsZi5fY3VycmVudF9zbmFwc2hvdF9pZCBpcyBOb25lOgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgbm9kZV9pZCA9IGl0ZW0uZGF0YSgwLCBRdC5Vc2VyUm9sZSkKICAgICAgICBjaGVja2VkID0gaXRlbS5jaGVja1N0YXRlKDApID09IFF0LkNoZWNrZWQKCiAgICAgICAgIyBQZXJzaXN0IHRoaXMgbm9kZQogICAgICAgIHNlbGYucmV2aWV3LnNldF9ub2RlX3NlbGVjdGVkKAogICAgICAgICAgICBkb21fc25hcHNob3RfaWQ9c2VsZi5fY3VycmVudF9zbmFwc2hvdF9pZCwKICAgICAgICAgICAgZG9tX25vZGVfaWQ9bm9kZV9pZCwKICAgICAgICAgICAgc2VsZWN0ZWQ9Y2hlY2tlZCwKICAgICAgICApCgogICAgICAgICMgUHJvcGFnYXRlIHRvIGNoaWxkcmVuCiAgICAgICAgc2VsZi5fcHJvcGFnYXRlX3RvX2NoaWxkcmVuKGl0ZW0sIGNoZWNrZWQpCgogICAgICAgICMgVXBkYXRlIHBhcmVudHMKICAgICAgICBzZWxmLl91cGRhdGVfcGFyZW50X3N0YXRlKGl0ZW0ucGFyZW50KCkpCgogICAgZGVmIF9wcm9wYWdhdGVfdG9fY2hpbGRyZW4oCiAgICAgICAgc2VsZiwKICAgICAgICBpdGVtOiBRVHJlZVdpZGdldEl0ZW0sCiAgICAgICAgc2VsZWN0ZWQ6IGJvb2wsCiAgICApIC0+IE5vbmU6CiAgICAgICAgZm9yIGkgaW4gcmFuZ2UoaXRlbS5jaGlsZENvdW50KCkpOgogICAgICAgICAgICBjaGlsZCA9IGl0ZW0uY2hpbGQoaSkKICAgICAgICAgICAgY2hpbGQuc2V0Q2hlY2tTdGF0ZSgwLCBRdC5DaGVja2VkIGlmIHNlbGVjdGVkIGVsc2UgUXQuVW5jaGVja2VkKQoKICAgICAgICAgICAgc2VsZi5yZXZpZXcuc2V0X25vZGVfc2VsZWN0ZWQoCiAgICAgICAgICAgICAgICBkb21fc25hcHNob3RfaWQ9c2VsZi5fY3VycmVudF9zbmFwc2hvdF9pZCwKICAgICAgICAgICAgICAgIGRvbV9ub2RlX2lkPWNoaWxkLmRhdGEoMCwgUXQuVXNlclJvbGUpLAogICAgICAgICAgICAgICAgc2VsZWN0ZWQ9c2VsZWN0ZWQsCiAgICAgICAgICAgICkKCiAgICAgICAgICAgIHNlbGYuX3Byb3BhZ2F0ZV90b19jaGlsZHJlbihjaGlsZCwgc2VsZWN0ZWQpCgogICAgZGVmIF91cGRhdGVfcGFyZW50X3N0YXRlKAogICAgICAgIHNlbGYsCiAgICAgICAgcGFyZW50OiBPcHRpb25hbFtRVHJlZVdpZGdldEl0ZW1dLAogICAgKSAtPiBOb25lOgogICAgICAgIGlmIG5vdCBwYXJlbnQ6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICBjaGVja2VkID0gMAogICAgICAgIHVuY2hlY2tlZCA9IDAKCiAgICAgICAgZm9yIGkgaW4gcmFuZ2UocGFyZW50LmNoaWxkQ291bnQoKSk6CiAgICAgICAgICAgIHN0YXRlID0gcGFyZW50LmNoaWxkKGkpLmNoZWNrU3RhdGUoMCkKICAgICAgICAgICAgaWYgc3RhdGUgPT0gUXQuQ2hlY2tlZDoKICAgICAgICAgICAgICAgIGNoZWNrZWQgKz0gMQogICAgICAgICAgICBlbGlmIHN0YXRlID09IFF0LlVuY2hlY2tlZDoKICAgICAgICAgICAgICAgIHVuY2hlY2tlZCArPSAxCgogICAgICAgIGlmIGNoZWNrZWQgPT0gcGFyZW50LmNoaWxkQ291bnQoKToKICAgICAgICAgICAgcGFyZW50LnNldENoZWNrU3RhdGUoMCwgUXQuQ2hlY2tlZCkKICAgICAgICAgICAgc2VsZWN0ZWQgPSBUcnVlCiAgICAgICAgZWxpZiB1bmNoZWNrZWQgPT0gcGFyZW50LmNoaWxkQ291bnQoKToKICAgICAgICAgICAgcGFyZW50LnNldENoZWNrU3RhdGUoMCwgUXQuVW5jaGVja2VkKQogICAgICAgICAgICBzZWxlY3RlZCA9IEZhbHNlCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcGFyZW50LnNldENoZWNrU3RhdGUoMCwgUXQuUGFydGlhbGx5Q2hlY2tlZCkKICAgICAgICAgICAgc2VsZWN0ZWQgPSBGYWxzZQoKICAgICAgICBzZWxmLnJldmlldy5zZXRfbm9kZV9zZWxlY3RlZCgKICAgICAgICAgICAgZG9tX3NuYXBzaG90X2lkPXNlbGYuX2N1cnJlbnRfc25hcHNob3RfaWQsCiAgICAgICAgICAgIGRvbV9ub2RlX2lkPXBhcmVudC5kYXRhKDAsIFF0LlVzZXJSb2xlKSwKICAgICAgICAgICAgc2VsZWN0ZWQ9c2VsZWN0ZWQsCiAgICAgICAgKQoKICAgICAgICBzZWxmLl91cGRhdGVfcGFyZW50X3N0YXRlKHBhcmVudC5wYXJlbnQoKSkK",
					"AQAAAAAAAAABAAAAAAAAAAAAAABNHwAAAAAAAAAAAAAAAPC/"
				],
				[
					8,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAnHwAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSB0eXBpbmcgaW1wb3J0IE9wdGlvbmFsLCBEaWN0Cgpmcm9tIFB5U2lkZTYuUXRDb3JlIGltcG9ydCBRdApmcm9tIFB5U2lkZTYuUXRXaWRnZXRzIGltcG9ydCAoCiAgICBRV2lkZ2V0LAogICAgUVZCb3hMYXlvdXQsCiAgICBRU3BsaXR0ZXIsCiAgICBRTGFiZWwsCiAgICBRVGFibGVXaWRnZXQsCiAgICBRVGFibGVXaWRnZXRJdGVtLAogICAgUVRyZWVXaWRnZXQsCiAgICBRVHJlZVdpZGdldEl0ZW0sCiAgICBRQWJzdHJhY3RJdGVtVmlldywKKQoKZnJvbSBzaXRyZXBjMi5ndWkuaW5nZXN0LmNvbnRyb2xsZXIgaW1wb3J0ICgKICAgIEluZ2VzdENvbnRyb2xsZXIsCiAgICBJbmdlc3RQb3N0RmlsdGVyLAogICAgSW5nZXN0UG9zdFN0YXRlLAopCgpmcm9tIHNpdHJlcGMyLmd1aS5yZXZpZXcuY29udHJvbGxlciBpbXBvcnQgUmV2aWV3Q29udHJvbGxlcgpmcm9tIHNpdHJlcGMyLmRvbS5ub2RlcyBpbXBvcnQgRG9tTm9kZSAgICMg4pyFIEZJWEVECgoKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiMgUmV2aWV3IFdvcmtzcGFjZQojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCmNsYXNzIFJldmlld1dvcmtzcGFjZShRV2lkZ2V0KToKICAgICIiIgogICAgVUkgd29ya3NwYWNlIGZvciBET00gcmV2aWV3LgoKICAgIFB1cmUgVUkgcmVzcG9uc2liaWxpdGllczoKICAgIC0gRGlzcGxheSBSRUFEWV9GT1JfUkVWSUVXIHBvc3RzCiAgICAtIERpc3BsYXkgRE9NIHRyZWUgZm9yIHNlbGVjdGVkIHBvc3QKICAgIC0gUmVmbGVjdCBhbmQgdXBkYXRlIG5vZGUgc2VsZWN0aW9uIHN0YXRlCiAgICAiIiIKCiAgICBkZWYgX19pbml0X18oc2VsZiwgcGFyZW50OiBPcHRpb25hbFtRV2lkZ2V0XSA9IE5vbmUpIC0+IE5vbmU6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXyhwYXJlbnQpCgogICAgICAgIHNlbGYuaW5nZXN0ID0gSW5nZXN0Q29udHJvbGxlcigpCiAgICAgICAgc2VsZi5yZXZpZXcgPSBSZXZpZXdDb250cm9sbGVyKHNlbGYuaW5nZXN0LnJlY29yZHNfZGJfcGF0aCkKCiAgICAgICAgc2VsZi5fY3VycmVudF9zbmFwc2hvdF9pZDogT3B0aW9uYWxbaW50XSA9IE5vbmUKICAgICAgICBzZWxmLl9kb21fbm9kZXM6IERpY3Rbc3RyLCBEb21Ob2RlXSA9IHt9ICAgIyDinIUgRklYRUQKCiAgICAgICAgc2VsZi5fYnVpbGRfdWkoKQogICAgICAgIHNlbGYuX2xvYWRfcG9zdHMoKQoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIFVJCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGRlZiBfYnVpbGRfdWkoc2VsZikgLT4gTm9uZToKICAgICAgICByb290ID0gUVZCb3hMYXlvdXQoc2VsZikKICAgICAgICByb290LmFkZFdpZGdldChRTGFiZWwoIlJldmlldyBFeHRyYWN0ZWQgUG9zdHMiKSkKCiAgICAgICAgc3BsaXR0ZXIgPSBRU3BsaXR0ZXIoUXQuSG9yaXpvbnRhbCkKCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgICMgTGVmdDogUG9zdCBsaXN0CiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgICAgICBzZWxmLnRhYmxlID0gUVRhYmxlV2lkZ2V0KCkKICAgICAgICBzZWxmLnRhYmxlLnNldENvbHVtbkNvdW50KDUpCiAgICAgICAgc2VsZi50YWJsZS5zZXRIb3Jpem9udGFsSGVhZGVyTGFiZWxzKAogICAgICAgICAgICBbIlB1Ymxpc2hlZCIsICJBbGlhcyIsICJTb3VyY2UiLCAiRXZlbnRzIiwgIlNuaXBwZXQiXQogICAgICAgICkKICAgICAgICBzZWxmLnRhYmxlLnNldFNlbGVjdGlvbkJlaGF2aW9yKFFBYnN0cmFjdEl0ZW1WaWV3LlNlbGVjdFJvd3MpCiAgICAgICAgc2VsZi50YWJsZS5zZXRFZGl0VHJpZ2dlcnMoUUFic3RyYWN0SXRlbVZpZXcuTm9FZGl0VHJpZ2dlcnMpCiAgICAgICAgc2VsZi50YWJsZS52ZXJ0aWNhbEhlYWRlcigpLnNldFZpc2libGUoRmFsc2UpCiAgICAgICAgc2VsZi50YWJsZS5pdGVtU2VsZWN0aW9uQ2hhbmdlZC5jb25uZWN0KHNlbGYuX29uX3Bvc3Rfc2VsZWN0ZWQpCgogICAgICAgIHNwbGl0dGVyLmFkZFdpZGdldChzZWxmLnRhYmxlKQoKICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgIyBSaWdodDogRE9NIHRyZWUKICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgICAgIHNlbGYudHJlZSA9IFFUcmVlV2lkZ2V0KCkKICAgICAgICBzZWxmLnRyZWUuc2V0SGVhZGVyTGFiZWxzKFsiTm9kZSIsICJUeXBlIl0pCiAgICAgICAgc2VsZi50cmVlLml0ZW1DaGFuZ2VkLmNvbm5lY3Qoc2VsZi5fb25faXRlbV9jaGVja19jaGFuZ2VkKQoKICAgICAgICBzcGxpdHRlci5hZGRXaWRnZXQoc2VsZi50cmVlKQogICAgICAgIHNwbGl0dGVyLnNldFN0cmV0Y2hGYWN0b3IoMSwgMykKCiAgICAgICAgcm9vdC5hZGRXaWRnZXQoc3BsaXR0ZXIpCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICMgUG9zdCBsb2FkaW5nCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGRlZiBfbG9hZF9wb3N0cyhzZWxmKSAtPiBOb25lOgogICAgICAgIHJvd3MgPSBzZWxmLmluZ2VzdC5xdWVyeV9wb3N0cygKICAgICAgICAgICAgSW5nZXN0UG9zdEZpbHRlcihzdGF0ZT1Jbmdlc3RQb3N0U3RhdGUuUkVBRFlfRk9SX1JFVklFVykKICAgICAgICApCgogICAgICAgIHNlbGYudGFibGUuc2V0Um93Q291bnQobGVuKHJvd3MpKQoKICAgICAgICBmb3Igciwgcm93IGluIGVudW1lcmF0ZShyb3dzKToKICAgICAgICAgICAgaXRlbXMgPSBbCiAgICAgICAgICAgICAgICBRVGFibGVXaWRnZXRJdGVtKHJvdy5wdWJsaXNoZWRfYXQpLAogICAgICAgICAgICAgICAgUVRhYmxlV2lkZ2V0SXRlbShyb3cuYWxpYXMpLAogICAgICAgICAgICAgICAgUVRhYmxlV2lkZ2V0SXRlbShyb3cuc291cmNlKSwKICAgICAgICAgICAgICAgIFFUYWJsZVdpZGdldEl0ZW0oc3RyKHJvdy5ldmVudF9jb3VudCkpLAogICAgICAgICAgICAgICAgUVRhYmxlV2lkZ2V0SXRlbShyb3cudGV4dF9zbmlwcGV0KSwKICAgICAgICAgICAgXQogICAgICAgICAgICBmb3IgYywgaXRlbSBpbiBlbnVtZXJhdGUoaXRlbXMpOgogICAgICAgICAgICAgICAgaXRlbS5zZXRGbGFncyhpdGVtLmZsYWdzKCkgJiB+UXQuSXRlbUlzRWRpdGFibGUpCiAgICAgICAgICAgICAgICBzZWxmLnRhYmxlLnNldEl0ZW0ociwgYywgaXRlbSkKCiAgICAgICAgc2VsZi50YWJsZS5yZXNpemVDb2x1bW5zVG9Db250ZW50cygpCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICMgUG9zdCBzZWxlY3Rpb24KICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIF9vbl9wb3N0X3NlbGVjdGVkKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgaXRlbXMgPSBzZWxmLnRhYmxlLnNlbGVjdGVkSXRlbXMoKQogICAgICAgIGlmIG5vdCBpdGVtczoKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIHJvd19pZHggPSBpdGVtc1swXS5yb3coKQogICAgICAgIHJvd3MgPSBzZWxmLmluZ2VzdC5xdWVyeV9wb3N0cygKICAgICAgICAgICAgSW5nZXN0UG9zdEZpbHRlcihzdGF0ZT1Jbmdlc3RQb3N0U3RhdGUuUkVBRFlfRk9SX1JFVklFVykKICAgICAgICApCgogICAgICAgIHBvc3RfaWQgPSByb3dzW3Jvd19pZHhdLnBvc3RfaWQKICAgICAgICBsc3NfcnVuX2lkID0gc2VsZi5pbmdlc3QuZ2V0X2xhdGVzdF9sc3NfcnVuX2lkKHBvc3RfaWQpCiAgICAgICAgaWYgbm90IGxzc19ydW5faWQ6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICBzbmFwc2hvdF9pZCwgbm9kZXMgPSBzZWxmLnJldmlldy5lbnRlcl9pbml0aWFsX3JldmlldygKICAgICAgICAgICAgaW5nZXN0X3Bvc3RfaWQ9cG9zdF9pZCwKICAgICAgICAgICAgbHNzX3J1bl9pZD1sc3NfcnVuX2lkLAogICAgICAgICkKCiAgICAgICAgc2VsZi5fY3VycmVudF9zbmFwc2hvdF9pZCA9IHNuYXBzaG90X2lkCiAgICAgICAgc2VsZi5fZG9tX25vZGVzID0gbm9kZXMKCiAgICAgICAgc2VsZi5fcmVidWlsZF9kb21fdHJlZSgpCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICMgRE9NIHRyZWUgcmVuZGVyaW5nCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGRlZiBfcmVidWlsZF9kb21fdHJlZShzZWxmKSAtPiBOb25lOgogICAgICAgIHNlbGYudHJlZS5ibG9ja1NpZ25hbHMoVHJ1ZSkKICAgICAgICBzZWxmLnRyZWUuY2xlYXIoKQoKICAgICAgICBwb3N0X25vZGUgPSBuZXh0KAogICAgICAgICAgICBuIGZvciBuIGluIHNlbGYuX2RvbV9ub2Rlcy52YWx1ZXMoKQogICAgICAgICAgICBpZiBuLm5vZGVfaWQuc3RhcnRzd2l0aCgicG9zdDoiKQogICAgICAgICkKCiAgICAgICAgcm9vdF9pdGVtID0gc2VsZi5fYnVpbGRfdHJlZV9pdGVtKHBvc3Rfbm9kZSkKICAgICAgICBzZWxmLnRyZWUuYWRkVG9wTGV2ZWxJdGVtKHJvb3RfaXRlbSkKICAgICAgICByb290X2l0ZW0uc2V0RXhwYW5kZWQoVHJ1ZSkKCiAgICAgICAgc2VsZi50cmVlLmJsb2NrU2lnbmFscyhGYWxzZSkKCiAgICBkZWYgX2J1aWxkX3RyZWVfaXRlbShzZWxmLCBub2RlOiBEb21Ob2RlKSAtPiBRVHJlZVdpZGdldEl0ZW06ICAgIyDinIUgRklYRUQKICAgICAgICBzZWxlY3RlZCA9IHNlbGYucmV2aWV3LmdldF9ub2RlX3NlbGVjdGlvbigKICAgICAgICAgICAgZG9tX3NuYXBzaG90X2lkPXNlbGYuX2N1cnJlbnRfc25hcHNob3RfaWQsCiAgICAgICAgICAgIGRvbV9ub2RlX2lkPW5vZGUubm9kZV9pZCwKICAgICAgICApCgogICAgICAgIGl0ZW0gPSBRVHJlZVdpZGdldEl0ZW0oW25vZGUuc3VtbWFyeSwgbm9kZS5fX2NsYXNzX18uX19uYW1lX19dKQogICAgICAgIGl0ZW0uc2V0RGF0YSgwLCBRdC5Vc2VyUm9sZSwgbm9kZS5ub2RlX2lkKQogICAgICAgIGl0ZW0uc2V0RmxhZ3MoaXRlbS5mbGFncygpIHwgUXQuSXRlbUlzVXNlckNoZWNrYWJsZSkKICAgICAgICBpdGVtLnNldENoZWNrU3RhdGUoMCwgUXQuQ2hlY2tlZCBpZiBzZWxlY3RlZCBlbHNlIFF0LlVuY2hlY2tlZCkKCiAgICAgICAgZm9yIGNoaWxkIGluIG5vZGUuY2hpbGRyZW46CiAgICAgICAgICAgIGl0ZW0uYWRkQ2hpbGQoc2VsZi5fYnVpbGRfdHJlZV9pdGVtKGNoaWxkKSkKCiAgICAgICAgcmV0dXJuIGl0ZW0KCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBTZWxlY3Rpb24gcHJvcGFnYXRpb24KICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIF9vbl9pdGVtX2NoZWNrX2NoYW5nZWQoCiAgICAgICAgc2VsZiwKICAgICAgICBpdGVtOiBRVHJlZVdpZGdldEl0ZW0sCiAgICAgICAgY29sdW1uOiBpbnQsCiAgICApIC0+IE5vbmU6CiAgICAgICAgaWYgY29sdW1uICE9IDAgb3Igc2VsZi5fY3VycmVudF9zbmFwc2hvdF9pZCBpcyBOb25lOgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgbm9kZV9pZCA9IGl0ZW0uZGF0YSgwLCBRdC5Vc2VyUm9sZSkKICAgICAgICBjaGVja2VkID0gaXRlbS5jaGVja1N0YXRlKDApID09IFF0LkNoZWNrZWQKCiAgICAgICAgc2VsZi5yZXZpZXcuc2V0X25vZGVfc2VsZWN0ZWQoCiAgICAgICAgICAgIGRvbV9zbmFwc2hvdF9pZD1zZWxmLl9jdXJyZW50X3NuYXBzaG90X2lkLAogICAgICAgICAgICBkb21fbm9kZV9pZD1ub2RlX2lkLAogICAgICAgICAgICBzZWxlY3RlZD1jaGVja2VkLAogICAgICAgICkKCiAgICAgICAgc2VsZi5fcHJvcGFnYXRlX3RvX2NoaWxkcmVuKGl0ZW0sIGNoZWNrZWQpCiAgICAgICAgc2VsZi5fdXBkYXRlX3BhcmVudF9zdGF0ZShpdGVtLnBhcmVudCgpKQoKICAgIGRlZiBfcHJvcGFnYXRlX3RvX2NoaWxkcmVuKAogICAgICAgIHNlbGYsCiAgICAgICAgaXRlbTogUVRyZWVXaWRnZXRJdGVtLAogICAgICAgIHNlbGVjdGVkOiBib29sLAogICAgKSAtPiBOb25lOgogICAgICAgIGZvciBpIGluIHJhbmdlKGl0ZW0uY2hpbGRDb3VudCgpKToKICAgICAgICAgICAgY2hpbGQgPSBpdGVtLmNoaWxkKGkpCiAgICAgICAgICAgIGNoaWxkLnNldENoZWNrU3RhdGUoMCwgUXQuQ2hlY2tlZCBpZiBzZWxlY3RlZCBlbHNlIFF0LlVuY2hlY2tlZCkKCiAgICAgICAgICAgIHNlbGYucmV2aWV3LnNldF9ub2RlX3NlbGVjdGVkKAogICAgICAgICAgICAgICAgZG9tX3NuYXBzaG90X2lkPXNlbGYuX2N1cnJlbnRfc25hcHNob3RfaWQsCiAgICAgICAgICAgICAgICBkb21fbm9kZV9pZD1jaGlsZC5kYXRhKDAsIFF0LlVzZXJSb2xlKSwKICAgICAgICAgICAgICAgIHNlbGVjdGVkPXNlbGVjdGVkLAogICAgICAgICAgICApCgogICAgICAgICAgICBzZWxmLl9wcm9wYWdhdGVfdG9fY2hpbGRyZW4oY2hpbGQsIHNlbGVjdGVkKQoKICAgIGRlZiBfdXBkYXRlX3BhcmVudF9zdGF0ZSgKICAgICAgICBzZWxmLAogICAgICAgIHBhcmVudDogT3B0aW9uYWxbUVRyZWVXaWRnZXRJdGVtXSwKICAgICkgLT4gTm9uZToKICAgICAgICBpZiBub3QgcGFyZW50OgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgY2hlY2tlZCA9IDAKICAgICAgICB1bmNoZWNrZWQgPSAwCgogICAgICAgIGZvciBpIGluIHJhbmdlKHBhcmVudC5jaGlsZENvdW50KCkpOgogICAgICAgICAgICBzdGF0ZSA9IHBhcmVudC5jaGlsZChpKS5jaGVja1N0YXRlKDApCiAgICAgICAgICAgIGlmIHN0YXRlID09IFF0LkNoZWNrZWQ6CiAgICAgICAgICAgICAgICBjaGVja2VkICs9IDEKICAgICAgICAgICAgZWxpZiBzdGF0ZSA9PSBRdC5VbmNoZWNrZWQ6CiAgICAgICAgICAgICAgICB1bmNoZWNrZWQgKz0gMQoKICAgICAgICBpZiBjaGVja2VkID09IHBhcmVudC5jaGlsZENvdW50KCk6CiAgICAgICAgICAgIHBhcmVudC5zZXRDaGVja1N0YXRlKDAsIFF0LkNoZWNrZWQpCiAgICAgICAgICAgIHNlbGVjdGVkID0gVHJ1ZQogICAgICAgIGVsaWYgdW5jaGVja2VkID09IHBhcmVudC5jaGlsZENvdW50KCk6CiAgICAgICAgICAgIHBhcmVudC5zZXRDaGVja1N0YXRlKDAsIFF0LlVuY2hlY2tlZCkKICAgICAgICAgICAgc2VsZWN0ZWQgPSBGYWxzZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHBhcmVudC5zZXRDaGVja1N0YXRlKDAsIFF0LlBhcnRpYWxseUNoZWNrZWQpCiAgICAgICAgICAgIHNlbGVjdGVkID0gRmFsc2UKCiAgICAgICAgc2VsZi5yZXZpZXcuc2V0X25vZGVfc2VsZWN0ZWQoCiAgICAgICAgICAgIGRvbV9zbmFwc2hvdF9pZD1zZWxmLl9jdXJyZW50X3NuYXBzaG90X2lkLAogICAgICAgICAgICBkb21fbm9kZV9pZD1wYXJlbnQuZGF0YSgwLCBRdC5Vc2VyUm9sZSksCiAgICAgICAgICAgIHNlbGVjdGVkPXNlbGVjdGVkLAogICAgICAgICkKCiAgICAgICAgc2VsZi5fdXBkYXRlX3BhcmVudF9zdGF0ZShwYXJlbnQucGFyZW50KCkpCgAAAAAAAAAAIR8AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA1hwAAAAAAADWHAAAAAAAAAAAAAAAAPC/"
				],
				[
					13,
					1,
					"paste",
					null,
					"AQAAAAYCAAAAAAAANQIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAABgIAAAAAAAAGAgAAAAAAAAAAAAAAAPC/"
				],
				[
					14,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABWHwAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSB0eXBpbmcgaW1wb3J0IE9wdGlvbmFsLCBEaWN0Cgpmcm9tIFB5U2lkZTYuUXRDb3JlIGltcG9ydCBRdApmcm9tIFB5U2lkZTYuUXRXaWRnZXRzIGltcG9ydCAoCiAgICBRV2lkZ2V0LAogICAgUVZCb3hMYXlvdXQsCiAgICBRU3BsaXR0ZXIsCiAgICBRTGFiZWwsCiAgICBRVGFibGVXaWRnZXQsCiAgICBRVGFibGVXaWRnZXRJdGVtLAogICAgUVRyZWVXaWRnZXQsCiAgICBRVHJlZVdpZGdldEl0ZW0sCiAgICBRQWJzdHJhY3RJdGVtVmlldywKKQoKZnJvbSBzaXRyZXBjMi5ndWkuaW5nZXN0LmNvbnRyb2xsZXIgaW1wb3J0ICgKICAgIEluZ2VzdENvbnRyb2xsZXIsCiAgICBJbmdlc3RQb3N0RmlsdGVyLAogICAgSW5nZXN0UG9zdFN0YXRlLAopCgpmcm9tIHNpdHJlcGMyLmd1aS5yZXZpZXcuY29udHJvbGxlciBpbXBvcnQgUmV2aWV3Q29udHJvbGxlcgpmcm9tIHNpdHJlcGMyLmRvbS5ub2RlcyBpbXBvcnQgRG9tTm9kZSAgICMg4pyFIEZJWEVECmZyb20gc2l0cmVwYzIuY29uZmlnLnBhdGhzIGltcG9ydCByZWNvcmRzX3BhdGgKCgojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KIyBSZXZpZXcgV29ya3NwYWNlCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKY2xhc3MgUmV2aWV3V29ya3NwYWNlKFFXaWRnZXQpOgogICAgIiIiCiAgICBVSSB3b3Jrc3BhY2UgZm9yIERPTSByZXZpZXcuCgogICAgUHVyZSBVSSByZXNwb25zaWJpbGl0aWVzOgogICAgLSBEaXNwbGF5IFJFQURZX0ZPUl9SRVZJRVcgcG9zdHMKICAgIC0gRGlzcGxheSBET00gdHJlZSBmb3Igc2VsZWN0ZWQgcG9zdAogICAgLSBSZWZsZWN0IGFuZCB1cGRhdGUgbm9kZSBzZWxlY3Rpb24gc3RhdGUKICAgICIiIgoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBwYXJlbnQ6IE9wdGlvbmFsW1FXaWRnZXRdID0gTm9uZSkgLT4gTm9uZToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKHBhcmVudCkKCiAgICAgICAgc2VsZi5pbmdlc3QgPSBJbmdlc3RDb250cm9sbGVyKCkKICAgICAgICBzZWxmLnJldmlldyA9IFJldmlld0NvbnRyb2xsZXIoc2VsZi5pbmdlc3QucmVjb3Jkc19kYl9wYXRoKQoKICAgICAgICBzZWxmLl9jdXJyZW50X3NuYXBzaG90X2lkOiBPcHRpb25hbFtpbnRdID0gTm9uZQogICAgICAgIHNlbGYuX2RvbV9ub2RlczogRGljdFtzdHIsIERvbU5vZGVdID0ge30gICAjIOKchSBGSVhFRAoKICAgICAgICBzZWxmLl9idWlsZF91aSgpCiAgICAgICAgc2VsZi5fbG9hZF9wb3N0cygpCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICMgVUkKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIF9idWlsZF91aShzZWxmKSAtPiBOb25lOgogICAgICAgIHJvb3QgPSBRVkJveExheW91dChzZWxmKQogICAgICAgIHJvb3QuYWRkV2lkZ2V0KFFMYWJlbCgiUmV2aWV3IEV4dHJhY3RlZCBQb3N0cyIpKQoKICAgICAgICBzcGxpdHRlciA9IFFTcGxpdHRlcihRdC5Ib3Jpem9udGFsKQoKICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgIyBMZWZ0OiBQb3N0IGxpc3QKICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgICAgIHNlbGYudGFibGUgPSBRVGFibGVXaWRnZXQoKQogICAgICAgIHNlbGYudGFibGUuc2V0Q29sdW1uQ291bnQoNSkKICAgICAgICBzZWxmLnRhYmxlLnNldEhvcml6b250YWxIZWFkZXJMYWJlbHMoCiAgICAgICAgICAgIFsiUHVibGlzaGVkIiwgIkFsaWFzIiwgIlNvdXJjZSIsICJFdmVudHMiLCAiU25pcHBldCJdCiAgICAgICAgKQogICAgICAgIHNlbGYudGFibGUuc2V0U2VsZWN0aW9uQmVoYXZpb3IoUUFic3RyYWN0SXRlbVZpZXcuU2VsZWN0Um93cykKICAgICAgICBzZWxmLnRhYmxlLnNldEVkaXRUcmlnZ2VycyhRQWJzdHJhY3RJdGVtVmlldy5Ob0VkaXRUcmlnZ2VycykKICAgICAgICBzZWxmLnRhYmxlLnZlcnRpY2FsSGVhZGVyKCkuc2V0VmlzaWJsZShGYWxzZSkKICAgICAgICBzZWxmLnRhYmxlLml0ZW1TZWxlY3Rpb25DaGFuZ2VkLmNvbm5lY3Qoc2VsZi5fb25fcG9zdF9zZWxlY3RlZCkKCiAgICAgICAgc3BsaXR0ZXIuYWRkV2lkZ2V0KHNlbGYudGFibGUpCgogICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICAjIFJpZ2h0OiBET00gdHJlZQogICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICAgICAgc2VsZi50cmVlID0gUVRyZWVXaWRnZXQoKQogICAgICAgIHNlbGYudHJlZS5zZXRIZWFkZXJMYWJlbHMoWyJOb2RlIiwgIlR5cGUiXSkKICAgICAgICBzZWxmLnRyZWUuaXRlbUNoYW5nZWQuY29ubmVjdChzZWxmLl9vbl9pdGVtX2NoZWNrX2NoYW5nZWQpCgogICAgICAgIHNwbGl0dGVyLmFkZFdpZGdldChzZWxmLnRyZWUpCiAgICAgICAgc3BsaXR0ZXIuc2V0U3RyZXRjaEZhY3RvcigxLCAzKQoKICAgICAgICByb290LmFkZFdpZGdldChzcGxpdHRlcikKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBQb3N0IGxvYWRpbmcKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIF9sb2FkX3Bvc3RzKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgcm93cyA9IHNlbGYuaW5nZXN0LnF1ZXJ5X3Bvc3RzKAogICAgICAgICAgICBJbmdlc3RQb3N0RmlsdGVyKHN0YXRlPUluZ2VzdFBvc3RTdGF0ZS5SRUFEWV9GT1JfUkVWSUVXKQogICAgICAgICkKCiAgICAgICAgc2VsZi50YWJsZS5zZXRSb3dDb3VudChsZW4ocm93cykpCgogICAgICAgIGZvciByLCByb3cgaW4gZW51bWVyYXRlKHJvd3MpOgogICAgICAgICAgICBpdGVtcyA9IFsKICAgICAgICAgICAgICAgIFFUYWJsZVdpZGdldEl0ZW0ocm93LnB1Ymxpc2hlZF9hdCksCiAgICAgICAgICAgICAgICBRVGFibGVXaWRnZXRJdGVtKHJvdy5hbGlhcyksCiAgICAgICAgICAgICAgICBRVGFibGVXaWRnZXRJdGVtKHJvdy5zb3VyY2UpLAogICAgICAgICAgICAgICAgUVRhYmxlV2lkZ2V0SXRlbShzdHIocm93LmV2ZW50X2NvdW50KSksCiAgICAgICAgICAgICAgICBRVGFibGVXaWRnZXRJdGVtKHJvdy50ZXh0X3NuaXBwZXQpLAogICAgICAgICAgICBdCiAgICAgICAgICAgIGZvciBjLCBpdGVtIGluIGVudW1lcmF0ZShpdGVtcyk6CiAgICAgICAgICAgICAgICBpdGVtLnNldEZsYWdzKGl0ZW0uZmxhZ3MoKSAmIH5RdC5JdGVtSXNFZGl0YWJsZSkKICAgICAgICAgICAgICAgIHNlbGYudGFibGUuc2V0SXRlbShyLCBjLCBpdGVtKQoKICAgICAgICBzZWxmLnRhYmxlLnJlc2l6ZUNvbHVtbnNUb0NvbnRlbnRzKCkKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBQb3N0IHNlbGVjdGlvbgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBkZWYgX29uX3Bvc3Rfc2VsZWN0ZWQoc2VsZikgLT4gTm9uZToKICAgICAgICBpdGVtcyA9IHNlbGYudGFibGUuc2VsZWN0ZWRJdGVtcygpCiAgICAgICAgaWYgbm90IGl0ZW1zOgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgcm93X2lkeCA9IGl0ZW1zWzBdLnJvdygpCiAgICAgICAgcm93cyA9IHNlbGYuaW5nZXN0LnF1ZXJ5X3Bvc3RzKAogICAgICAgICAgICBJbmdlc3RQb3N0RmlsdGVyKHN0YXRlPUluZ2VzdFBvc3RTdGF0ZS5SRUFEWV9GT1JfUkVWSUVXKQogICAgICAgICkKCiAgICAgICAgcG9zdF9pZCA9IHJvd3Nbcm93X2lkeF0ucG9zdF9pZAogICAgICAgIGxzc19ydW5faWQgPSBzZWxmLmluZ2VzdC5nZXRfbGF0ZXN0X2xzc19ydW5faWQocG9zdF9pZCkKICAgICAgICBpZiBub3QgbHNzX3J1bl9pZDoKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIHNuYXBzaG90X2lkLCBub2RlcyA9IHNlbGYucmV2aWV3LmVudGVyX2luaXRpYWxfcmV2aWV3KAogICAgICAgICAgICBpbmdlc3RfcG9zdF9pZD1wb3N0X2lkLAogICAgICAgICAgICBsc3NfcnVuX2lkPWxzc19ydW5faWQsCiAgICAgICAgKQoKICAgICAgICBzZWxmLl9jdXJyZW50X3NuYXBzaG90X2lkID0gc25hcHNob3RfaWQKICAgICAgICBzZWxmLl9kb21fbm9kZXMgPSBub2RlcwoKICAgICAgICBzZWxmLl9yZWJ1aWxkX2RvbV90cmVlKCkKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBET00gdHJlZSByZW5kZXJpbmcKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIF9yZWJ1aWxkX2RvbV90cmVlKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgc2VsZi50cmVlLmJsb2NrU2lnbmFscyhUcnVlKQogICAgICAgIHNlbGYudHJlZS5jbGVhcigpCgogICAgICAgIHBvc3Rfbm9kZSA9IG5leHQoCiAgICAgICAgICAgIG4gZm9yIG4gaW4gc2VsZi5fZG9tX25vZGVzLnZhbHVlcygpCiAgICAgICAgICAgIGlmIG4ubm9kZV9pZC5zdGFydHN3aXRoKCJwb3N0OiIpCiAgICAgICAgKQoKICAgICAgICByb290X2l0ZW0gPSBzZWxmLl9idWlsZF90cmVlX2l0ZW0ocG9zdF9ub2RlKQogICAgICAgIHNlbGYudHJlZS5hZGRUb3BMZXZlbEl0ZW0ocm9vdF9pdGVtKQogICAgICAgIHJvb3RfaXRlbS5zZXRFeHBhbmRlZChUcnVlKQoKICAgICAgICBzZWxmLnRyZWUuYmxvY2tTaWduYWxzKEZhbHNlKQoKICAgIGRlZiBfYnVpbGRfdHJlZV9pdGVtKHNlbGYsIG5vZGU6IERvbU5vZGUpIC0+IFFUcmVlV2lkZ2V0SXRlbTogICAjIOKchSBGSVhFRAogICAgICAgIHNlbGVjdGVkID0gc2VsZi5yZXZpZXcuZ2V0X25vZGVfc2VsZWN0aW9uKAogICAgICAgICAgICBkb21fc25hcHNob3RfaWQ9c2VsZi5fY3VycmVudF9zbmFwc2hvdF9pZCwKICAgICAgICAgICAgZG9tX25vZGVfaWQ9bm9kZS5ub2RlX2lkLAogICAgICAgICkKCiAgICAgICAgaXRlbSA9IFFUcmVlV2lkZ2V0SXRlbShbbm9kZS5zdW1tYXJ5LCBub2RlLl9fY2xhc3NfXy5fX25hbWVfX10pCiAgICAgICAgaXRlbS5zZXREYXRhKDAsIFF0LlVzZXJSb2xlLCBub2RlLm5vZGVfaWQpCiAgICAgICAgaXRlbS5zZXRGbGFncyhpdGVtLmZsYWdzKCkgfCBRdC5JdGVtSXNVc2VyQ2hlY2thYmxlKQogICAgICAgIGl0ZW0uc2V0Q2hlY2tTdGF0ZSgwLCBRdC5DaGVja2VkIGlmIHNlbGVjdGVkIGVsc2UgUXQuVW5jaGVja2VkKQoKICAgICAgICBmb3IgY2hpbGQgaW4gbm9kZS5jaGlsZHJlbjoKICAgICAgICAgICAgaXRlbS5hZGRDaGlsZChzZWxmLl9idWlsZF90cmVlX2l0ZW0oY2hpbGQpKQoKICAgICAgICByZXR1cm4gaXRlbQoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIFNlbGVjdGlvbiBwcm9wYWdhdGlvbgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBkZWYgX29uX2l0ZW1fY2hlY2tfY2hhbmdlZCgKICAgICAgICBzZWxmLAogICAgICAgIGl0ZW06IFFUcmVlV2lkZ2V0SXRlbSwKICAgICAgICBjb2x1bW46IGludCwKICAgICkgLT4gTm9uZToKICAgICAgICBpZiBjb2x1bW4gIT0gMCBvciBzZWxmLl9jdXJyZW50X3NuYXBzaG90X2lkIGlzIE5vbmU6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICBub2RlX2lkID0gaXRlbS5kYXRhKDAsIFF0LlVzZXJSb2xlKQogICAgICAgIGNoZWNrZWQgPSBpdGVtLmNoZWNrU3RhdGUoMCkgPT0gUXQuQ2hlY2tlZAoKICAgICAgICBzZWxmLnJldmlldy5zZXRfbm9kZV9zZWxlY3RlZCgKICAgICAgICAgICAgZG9tX3NuYXBzaG90X2lkPXNlbGYuX2N1cnJlbnRfc25hcHNob3RfaWQsCiAgICAgICAgICAgIGRvbV9ub2RlX2lkPW5vZGVfaWQsCiAgICAgICAgICAgIHNlbGVjdGVkPWNoZWNrZWQsCiAgICAgICAgKQoKICAgICAgICBzZWxmLl9wcm9wYWdhdGVfdG9fY2hpbGRyZW4oaXRlbSwgY2hlY2tlZCkKICAgICAgICBzZWxmLl91cGRhdGVfcGFyZW50X3N0YXRlKGl0ZW0ucGFyZW50KCkpCgogICAgZGVmIF9wcm9wYWdhdGVfdG9fY2hpbGRyZW4oCiAgICAgICAgc2VsZiwKICAgICAgICBpdGVtOiBRVHJlZVdpZGdldEl0ZW0sCiAgICAgICAgc2VsZWN0ZWQ6IGJvb2wsCiAgICApIC0+IE5vbmU6CiAgICAgICAgZm9yIGkgaW4gcmFuZ2UoaXRlbS5jaGlsZENvdW50KCkpOgogICAgICAgICAgICBjaGlsZCA9IGl0ZW0uY2hpbGQoaSkKICAgICAgICAgICAgY2hpbGQuc2V0Q2hlY2tTdGF0ZSgwLCBRdC5DaGVja2VkIGlmIHNlbGVjdGVkIGVsc2UgUXQuVW5jaGVja2VkKQoKICAgICAgICAgICAgc2VsZi5yZXZpZXcuc2V0X25vZGVfc2VsZWN0ZWQoCiAgICAgICAgICAgICAgICBkb21fc25hcHNob3RfaWQ9c2VsZi5fY3VycmVudF9zbmFwc2hvdF9pZCwKICAgICAgICAgICAgICAgIGRvbV9ub2RlX2lkPWNoaWxkLmRhdGEoMCwgUXQuVXNlclJvbGUpLAogICAgICAgICAgICAgICAgc2VsZWN0ZWQ9c2VsZWN0ZWQsCiAgICAgICAgICAgICkKCiAgICAgICAgICAgIHNlbGYuX3Byb3BhZ2F0ZV90b19jaGlsZHJlbihjaGlsZCwgc2VsZWN0ZWQpCgogICAgZGVmIF91cGRhdGVfcGFyZW50X3N0YXRlKAogICAgICAgIHNlbGYsCiAgICAgICAgcGFyZW50OiBPcHRpb25hbFtRVHJlZVdpZGdldEl0ZW1dLAogICAgKSAtPiBOb25lOgogICAgICAgIGlmIG5vdCBwYXJlbnQ6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICBjaGVja2VkID0gMAogICAgICAgIHVuY2hlY2tlZCA9IDAKCiAgICAgICAgZm9yIGkgaW4gcmFuZ2UocGFyZW50LmNoaWxkQ291bnQoKSk6CiAgICAgICAgICAgIHN0YXRlID0gcGFyZW50LmNoaWxkKGkpLmNoZWNrU3RhdGUoMCkKICAgICAgICAgICAgaWYgc3RhdGUgPT0gUXQuQ2hlY2tlZDoKICAgICAgICAgICAgICAgIGNoZWNrZWQgKz0gMQogICAgICAgICAgICBlbGlmIHN0YXRlID09IFF0LlVuY2hlY2tlZDoKICAgICAgICAgICAgICAgIHVuY2hlY2tlZCArPSAxCgogICAgICAgIGlmIGNoZWNrZWQgPT0gcGFyZW50LmNoaWxkQ291bnQoKToKICAgICAgICAgICAgcGFyZW50LnNldENoZWNrU3RhdGUoMCwgUXQuQ2hlY2tlZCkKICAgICAgICAgICAgc2VsZWN0ZWQgPSBUcnVlCiAgICAgICAgZWxpZiB1bmNoZWNrZWQgPT0gcGFyZW50LmNoaWxkQ291bnQoKToKICAgICAgICAgICAgcGFyZW50LnNldENoZWNrU3RhdGUoMCwgUXQuVW5jaGVja2VkKQogICAgICAgICAgICBzZWxlY3RlZCA9IEZhbHNlCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcGFyZW50LnNldENoZWNrU3RhdGUoMCwgUXQuUGFydGlhbGx5Q2hlY2tlZCkKICAgICAgICAgICAgc2VsZWN0ZWQgPSBGYWxzZQoKICAgICAgICBzZWxmLnJldmlldy5zZXRfbm9kZV9zZWxlY3RlZCgKICAgICAgICAgICAgZG9tX3NuYXBzaG90X2lkPXNlbGYuX2N1cnJlbnRfc25hcHNob3RfaWQsCiAgICAgICAgICAgIGRvbV9ub2RlX2lkPXBhcmVudC5kYXRhKDAsIFF0LlVzZXJSb2xlKSwKICAgICAgICAgICAgc2VsZWN0ZWQ9c2VsZWN0ZWQsCiAgICAgICAgKQoKICAgICAgICBzZWxmLl91cGRhdGVfcGFyZW50X3N0YXRlKHBhcmVudC5wYXJlbnQoKSkKAAAAAAAAAABQHwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAANQIAAAAAAAA1AgAAAAAAAAAAAAAAAPC/"
				],
				[
					19,
					1,
					"paste",
					null,
					"AQAAAGsEAAAAAAAAnwQAAAAAAAA7AAAAc2VsZi5yZXZpZXcgPSBSZXZpZXdDb250cm9sbGVyKHNlbGYuaW5nZXN0LnJlY29yZHNfZGJfcGF0aCk",
					"AQAAAAAAAAABAAAApgQAAAAAAABrBAAAAAAAAAAAAAAAAPC/"
				],
				[
					22,
					1,
					"left_delete",
					null,
					"AQAAAKUEAAAAAAAApQQAAAAAAAAEAAAAICAgIA",
					"AQAAAAAAAAABAAAAqQQAAAAAAACpBAAAAAAAAAAAAAAAAPC/"
				],
				[
					23,
					1,
					"insert",
					{
						"characters": "\t"
					},
					"AQAAAKUEAAAAAAAAqQQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAApQQAAAAAAAClBAAAAAAAAAAAAAAAAPC/"
				],
				[
					25,
					1,
					"left_delete",
					null,
					"AQAAAJ8EAAAAAAAAnwQAAAAAAAABAAAACg",
					"AQAAAAAAAAABAAAAoAQAAAAAAACgBAAAAAAAAAAAAAAAAExA"
				],
				[
					26,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABOHwAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSB0eXBpbmcgaW1wb3J0IE9wdGlvbmFsLCBEaWN0Cgpmcm9tIFB5U2lkZTYuUXRDb3JlIGltcG9ydCBRdApmcm9tIFB5U2lkZTYuUXRXaWRnZXRzIGltcG9ydCAoCiAgICBRV2lkZ2V0LAogICAgUVZCb3hMYXlvdXQsCiAgICBRU3BsaXR0ZXIsCiAgICBRTGFiZWwsCiAgICBRVGFibGVXaWRnZXQsCiAgICBRVGFibGVXaWRnZXRJdGVtLAogICAgUVRyZWVXaWRnZXQsCiAgICBRVHJlZVdpZGdldEl0ZW0sCiAgICBRQWJzdHJhY3RJdGVtVmlldywKKQoKZnJvbSBzaXRyZXBjMi5ndWkuaW5nZXN0LmNvbnRyb2xsZXIgaW1wb3J0ICgKICAgIEluZ2VzdENvbnRyb2xsZXIsCiAgICBJbmdlc3RQb3N0RmlsdGVyLAogICAgSW5nZXN0UG9zdFN0YXRlLAopCgpmcm9tIHNpdHJlcGMyLmd1aS5yZXZpZXcuY29udHJvbGxlciBpbXBvcnQgUmV2aWV3Q29udHJvbGxlcgpmcm9tIHNpdHJlcGMyLmRvbS5ub2RlcyBpbXBvcnQgRG9tTm9kZSAgICMg4pyFIEZJWEVECmZyb20gc2l0cmVwYzIuY29uZmlnLnBhdGhzIGltcG9ydCByZWNvcmRzX3BhdGgKCgojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KIyBSZXZpZXcgV29ya3NwYWNlCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKY2xhc3MgUmV2aWV3V29ya3NwYWNlKFFXaWRnZXQpOgogICAgIiIiCiAgICBVSSB3b3Jrc3BhY2UgZm9yIERPTSByZXZpZXcuCgogICAgUHVyZSBVSSByZXNwb25zaWJpbGl0aWVzOgogICAgLSBEaXNwbGF5IFJFQURZX0ZPUl9SRVZJRVcgcG9zdHMKICAgIC0gRGlzcGxheSBET00gdHJlZSBmb3Igc2VsZWN0ZWQgcG9zdAogICAgLSBSZWZsZWN0IGFuZCB1cGRhdGUgbm9kZSBzZWxlY3Rpb24gc3RhdGUKICAgICIiIgoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBwYXJlbnQ6IE9wdGlvbmFsW1FXaWRnZXRdID0gTm9uZSkgLT4gTm9uZToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKHBhcmVudCkKCiAgICAgICAgc2VsZi5pbmdlc3QgPSBJbmdlc3RDb250cm9sbGVyKCkKICAgICAgICBzZWxmLnJldmlldyA9IFJldmlld0NvbnRyb2xsZXIoc3RyKHJlY29yZHNfcGF0aCgpKSkKCiAgICAgICAgc2VsZi5fY3VycmVudF9zbmFwc2hvdF9pZDogT3B0aW9uYWxbaW50XSA9IE5vbmUKICAgICAgICBzZWxmLl9kb21fbm9kZXM6IERpY3Rbc3RyLCBEb21Ob2RlXSA9IHt9ICAgIyDinIUgRklYRUQKCiAgICAgICAgc2VsZi5fYnVpbGRfdWkoKQogICAgICAgIHNlbGYuX2xvYWRfcG9zdHMoKQoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIFVJCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGRlZiBfYnVpbGRfdWkoc2VsZikgLT4gTm9uZToKICAgICAgICByb290ID0gUVZCb3hMYXlvdXQoc2VsZikKICAgICAgICByb290LmFkZFdpZGdldChRTGFiZWwoIlJldmlldyBFeHRyYWN0ZWQgUG9zdHMiKSkKCiAgICAgICAgc3BsaXR0ZXIgPSBRU3BsaXR0ZXIoUXQuSG9yaXpvbnRhbCkKCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgICMgTGVmdDogUG9zdCBsaXN0CiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgICAgICBzZWxmLnRhYmxlID0gUVRhYmxlV2lkZ2V0KCkKICAgICAgICBzZWxmLnRhYmxlLnNldENvbHVtbkNvdW50KDUpCiAgICAgICAgc2VsZi50YWJsZS5zZXRIb3Jpem9udGFsSGVhZGVyTGFiZWxzKAogICAgICAgICAgICBbIlB1Ymxpc2hlZCIsICJBbGlhcyIsICJTb3VyY2UiLCAiRXZlbnRzIiwgIlNuaXBwZXQiXQogICAgICAgICkKICAgICAgICBzZWxmLnRhYmxlLnNldFNlbGVjdGlvbkJlaGF2aW9yKFFBYnN0cmFjdEl0ZW1WaWV3LlNlbGVjdFJvd3MpCiAgICAgICAgc2VsZi50YWJsZS5zZXRFZGl0VHJpZ2dlcnMoUUFic3RyYWN0SXRlbVZpZXcuTm9FZGl0VHJpZ2dlcnMpCiAgICAgICAgc2VsZi50YWJsZS52ZXJ0aWNhbEhlYWRlcigpLnNldFZpc2libGUoRmFsc2UpCiAgICAgICAgc2VsZi50YWJsZS5pdGVtU2VsZWN0aW9uQ2hhbmdlZC5jb25uZWN0KHNlbGYuX29uX3Bvc3Rfc2VsZWN0ZWQpCgogICAgICAgIHNwbGl0dGVyLmFkZFdpZGdldChzZWxmLnRhYmxlKQoKICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgIyBSaWdodDogRE9NIHRyZWUKICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgICAgIHNlbGYudHJlZSA9IFFUcmVlV2lkZ2V0KCkKICAgICAgICBzZWxmLnRyZWUuc2V0SGVhZGVyTGFiZWxzKFsiTm9kZSIsICJUeXBlIl0pCiAgICAgICAgc2VsZi50cmVlLml0ZW1DaGFuZ2VkLmNvbm5lY3Qoc2VsZi5fb25faXRlbV9jaGVja19jaGFuZ2VkKQoKICAgICAgICBzcGxpdHRlci5hZGRXaWRnZXQoc2VsZi50cmVlKQogICAgICAgIHNwbGl0dGVyLnNldFN0cmV0Y2hGYWN0b3IoMSwgMykKCiAgICAgICAgcm9vdC5hZGRXaWRnZXQoc3BsaXR0ZXIpCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICMgUG9zdCBsb2FkaW5nCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGRlZiBfbG9hZF9wb3N0cyhzZWxmKSAtPiBOb25lOgogICAgICAgIHJvd3MgPSBzZWxmLmluZ2VzdC5xdWVyeV9wb3N0cygKICAgICAgICAgICAgSW5nZXN0UG9zdEZpbHRlcihzdGF0ZT1Jbmdlc3RQb3N0U3RhdGUuUkVBRFlfRk9SX1JFVklFVykKICAgICAgICApCgogICAgICAgIHNlbGYudGFibGUuc2V0Um93Q291bnQobGVuKHJvd3MpKQoKICAgICAgICBmb3Igciwgcm93IGluIGVudW1lcmF0ZShyb3dzKToKICAgICAgICAgICAgaXRlbXMgPSBbCiAgICAgICAgICAgICAgICBRVGFibGVXaWRnZXRJdGVtKHJvdy5wdWJsaXNoZWRfYXQpLAogICAgICAgICAgICAgICAgUVRhYmxlV2lkZ2V0SXRlbShyb3cuYWxpYXMpLAogICAgICAgICAgICAgICAgUVRhYmxlV2lkZ2V0SXRlbShyb3cuc291cmNlKSwKICAgICAgICAgICAgICAgIFFUYWJsZVdpZGdldEl0ZW0oc3RyKHJvdy5ldmVudF9jb3VudCkpLAogICAgICAgICAgICAgICAgUVRhYmxlV2lkZ2V0SXRlbShyb3cudGV4dF9zbmlwcGV0KSwKICAgICAgICAgICAgXQogICAgICAgICAgICBmb3IgYywgaXRlbSBpbiBlbnVtZXJhdGUoaXRlbXMpOgogICAgICAgICAgICAgICAgaXRlbS5zZXRGbGFncyhpdGVtLmZsYWdzKCkgJiB+UXQuSXRlbUlzRWRpdGFibGUpCiAgICAgICAgICAgICAgICBzZWxmLnRhYmxlLnNldEl0ZW0ociwgYywgaXRlbSkKCiAgICAgICAgc2VsZi50YWJsZS5yZXNpemVDb2x1bW5zVG9Db250ZW50cygpCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICMgUG9zdCBzZWxlY3Rpb24KICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIF9vbl9wb3N0X3NlbGVjdGVkKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgaXRlbXMgPSBzZWxmLnRhYmxlLnNlbGVjdGVkSXRlbXMoKQogICAgICAgIGlmIG5vdCBpdGVtczoKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIHJvd19pZHggPSBpdGVtc1swXS5yb3coKQogICAgICAgIHJvd3MgPSBzZWxmLmluZ2VzdC5xdWVyeV9wb3N0cygKICAgICAgICAgICAgSW5nZXN0UG9zdEZpbHRlcihzdGF0ZT1Jbmdlc3RQb3N0U3RhdGUuUkVBRFlfRk9SX1JFVklFVykKICAgICAgICApCgogICAgICAgIHBvc3RfaWQgPSByb3dzW3Jvd19pZHhdLnBvc3RfaWQKICAgICAgICBsc3NfcnVuX2lkID0gc2VsZi5pbmdlc3QuZ2V0X2xhdGVzdF9sc3NfcnVuX2lkKHBvc3RfaWQpCiAgICAgICAgaWYgbm90IGxzc19ydW5faWQ6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICBzbmFwc2hvdF9pZCwgbm9kZXMgPSBzZWxmLnJldmlldy5lbnRlcl9pbml0aWFsX3JldmlldygKICAgICAgICAgICAgaW5nZXN0X3Bvc3RfaWQ9cG9zdF9pZCwKICAgICAgICAgICAgbHNzX3J1bl9pZD1sc3NfcnVuX2lkLAogICAgICAgICkKCiAgICAgICAgc2VsZi5fY3VycmVudF9zbmFwc2hvdF9pZCA9IHNuYXBzaG90X2lkCiAgICAgICAgc2VsZi5fZG9tX25vZGVzID0gbm9kZXMKCiAgICAgICAgc2VsZi5fcmVidWlsZF9kb21fdHJlZSgpCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICMgRE9NIHRyZWUgcmVuZGVyaW5nCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGRlZiBfcmVidWlsZF9kb21fdHJlZShzZWxmKSAtPiBOb25lOgogICAgICAgIHNlbGYudHJlZS5ibG9ja1NpZ25hbHMoVHJ1ZSkKICAgICAgICBzZWxmLnRyZWUuY2xlYXIoKQoKICAgICAgICBwb3N0X25vZGUgPSBuZXh0KAogICAgICAgICAgICBuIGZvciBuIGluIHNlbGYuX2RvbV9ub2Rlcy52YWx1ZXMoKQogICAgICAgICAgICBpZiBuLm5vZGVfaWQuc3RhcnRzd2l0aCgicG9zdDoiKQogICAgICAgICkKCiAgICAgICAgcm9vdF9pdGVtID0gc2VsZi5fYnVpbGRfdHJlZV9pdGVtKHBvc3Rfbm9kZSkKICAgICAgICBzZWxmLnRyZWUuYWRkVG9wTGV2ZWxJdGVtKHJvb3RfaXRlbSkKICAgICAgICByb290X2l0ZW0uc2V0RXhwYW5kZWQoVHJ1ZSkKCiAgICAgICAgc2VsZi50cmVlLmJsb2NrU2lnbmFscyhGYWxzZSkKCiAgICBkZWYgX2J1aWxkX3RyZWVfaXRlbShzZWxmLCBub2RlOiBEb21Ob2RlKSAtPiBRVHJlZVdpZGdldEl0ZW06ICAgIyDinIUgRklYRUQKICAgICAgICBzZWxlY3RlZCA9IHNlbGYucmV2aWV3LmdldF9ub2RlX3NlbGVjdGlvbigKICAgICAgICAgICAgZG9tX3NuYXBzaG90X2lkPXNlbGYuX2N1cnJlbnRfc25hcHNob3RfaWQsCiAgICAgICAgICAgIGRvbV9ub2RlX2lkPW5vZGUubm9kZV9pZCwKICAgICAgICApCgogICAgICAgIGl0ZW0gPSBRVHJlZVdpZGdldEl0ZW0oW25vZGUuc3VtbWFyeSwgbm9kZS5fX2NsYXNzX18uX19uYW1lX19dKQogICAgICAgIGl0ZW0uc2V0RGF0YSgwLCBRdC5Vc2VyUm9sZSwgbm9kZS5ub2RlX2lkKQogICAgICAgIGl0ZW0uc2V0RmxhZ3MoaXRlbS5mbGFncygpIHwgUXQuSXRlbUlzVXNlckNoZWNrYWJsZSkKICAgICAgICBpdGVtLnNldENoZWNrU3RhdGUoMCwgUXQuQ2hlY2tlZCBpZiBzZWxlY3RlZCBlbHNlIFF0LlVuY2hlY2tlZCkKCiAgICAgICAgZm9yIGNoaWxkIGluIG5vZGUuY2hpbGRyZW46CiAgICAgICAgICAgIGl0ZW0uYWRkQ2hpbGQoc2VsZi5fYnVpbGRfdHJlZV9pdGVtKGNoaWxkKSkKCiAgICAgICAgcmV0dXJuIGl0ZW0KCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBTZWxlY3Rpb24gcHJvcGFnYXRpb24KICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIF9vbl9pdGVtX2NoZWNrX2NoYW5nZWQoCiAgICAgICAgc2VsZiwKICAgICAgICBpdGVtOiBRVHJlZVdpZGdldEl0ZW0sCiAgICAgICAgY29sdW1uOiBpbnQsCiAgICApIC0+IE5vbmU6CiAgICAgICAgaWYgY29sdW1uICE9IDAgb3Igc2VsZi5fY3VycmVudF9zbmFwc2hvdF9pZCBpcyBOb25lOgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgbm9kZV9pZCA9IGl0ZW0uZGF0YSgwLCBRdC5Vc2VyUm9sZSkKICAgICAgICBjaGVja2VkID0gaXRlbS5jaGVja1N0YXRlKDApID09IFF0LkNoZWNrZWQKCiAgICAgICAgc2VsZi5yZXZpZXcuc2V0X25vZGVfc2VsZWN0ZWQoCiAgICAgICAgICAgIGRvbV9zbmFwc2hvdF9pZD1zZWxmLl9jdXJyZW50X3NuYXBzaG90X2lkLAogICAgICAgICAgICBkb21fbm9kZV9pZD1ub2RlX2lkLAogICAgICAgICAgICBzZWxlY3RlZD1jaGVja2VkLAogICAgICAgICkKCiAgICAgICAgc2VsZi5fcHJvcGFnYXRlX3RvX2NoaWxkcmVuKGl0ZW0sIGNoZWNrZWQpCiAgICAgICAgc2VsZi5fdXBkYXRlX3BhcmVudF9zdGF0ZShpdGVtLnBhcmVudCgpKQoKICAgIGRlZiBfcHJvcGFnYXRlX3RvX2NoaWxkcmVuKAogICAgICAgIHNlbGYsCiAgICAgICAgaXRlbTogUVRyZWVXaWRnZXRJdGVtLAogICAgICAgIHNlbGVjdGVkOiBib29sLAogICAgKSAtPiBOb25lOgogICAgICAgIGZvciBpIGluIHJhbmdlKGl0ZW0uY2hpbGRDb3VudCgpKToKICAgICAgICAgICAgY2hpbGQgPSBpdGVtLmNoaWxkKGkpCiAgICAgICAgICAgIGNoaWxkLnNldENoZWNrU3RhdGUoMCwgUXQuQ2hlY2tlZCBpZiBzZWxlY3RlZCBlbHNlIFF0LlVuY2hlY2tlZCkKCiAgICAgICAgICAgIHNlbGYucmV2aWV3LnNldF9ub2RlX3NlbGVjdGVkKAogICAgICAgICAgICAgICAgZG9tX3NuYXBzaG90X2lkPXNlbGYuX2N1cnJlbnRfc25hcHNob3RfaWQsCiAgICAgICAgICAgICAgICBkb21fbm9kZV9pZD1jaGlsZC5kYXRhKDAsIFF0LlVzZXJSb2xlKSwKICAgICAgICAgICAgICAgIHNlbGVjdGVkPXNlbGVjdGVkLAogICAgICAgICAgICApCgogICAgICAgICAgICBzZWxmLl9wcm9wYWdhdGVfdG9fY2hpbGRyZW4oY2hpbGQsIHNlbGVjdGVkKQoKICAgIGRlZiBfdXBkYXRlX3BhcmVudF9zdGF0ZSgKICAgICAgICBzZWxmLAogICAgICAgIHBhcmVudDogT3B0aW9uYWxbUVRyZWVXaWRnZXRJdGVtXSwKICAgICkgLT4gTm9uZToKICAgICAgICBpZiBub3QgcGFyZW50OgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgY2hlY2tlZCA9IDAKICAgICAgICB1bmNoZWNrZWQgPSAwCgogICAgICAgIGZvciBpIGluIHJhbmdlKHBhcmVudC5jaGlsZENvdW50KCkpOgogICAgICAgICAgICBzdGF0ZSA9IHBhcmVudC5jaGlsZChpKS5jaGVja1N0YXRlKDApCiAgICAgICAgICAgIGlmIHN0YXRlID09IFF0LkNoZWNrZWQ6CiAgICAgICAgICAgICAgICBjaGVja2VkICs9IDEKICAgICAgICAgICAgZWxpZiBzdGF0ZSA9PSBRdC5VbmNoZWNrZWQ6CiAgICAgICAgICAgICAgICB1bmNoZWNrZWQgKz0gMQoKICAgICAgICBpZiBjaGVja2VkID09IHBhcmVudC5jaGlsZENvdW50KCk6CiAgICAgICAgICAgIHBhcmVudC5zZXRDaGVja1N0YXRlKDAsIFF0LkNoZWNrZWQpCiAgICAgICAgICAgIHNlbGVjdGVkID0gVHJ1ZQogICAgICAgIGVsaWYgdW5jaGVja2VkID09IHBhcmVudC5jaGlsZENvdW50KCk6CiAgICAgICAgICAgIHBhcmVudC5zZXRDaGVja1N0YXRlKDAsIFF0LlVuY2hlY2tlZCkKICAgICAgICAgICAgc2VsZWN0ZWQgPSBGYWxzZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHBhcmVudC5zZXRDaGVja1N0YXRlKDAsIFF0LlBhcnRpYWxseUNoZWNrZWQpCiAgICAgICAgICAgIHNlbGVjdGVkID0gRmFsc2UKCiAgICAgICAgc2VsZi5yZXZpZXcuc2V0X25vZGVfc2VsZWN0ZWQoCiAgICAgICAgICAgIGRvbV9zbmFwc2hvdF9pZD1zZWxmLl9jdXJyZW50X3NuYXBzaG90X2lkLAogICAgICAgICAgICBkb21fbm9kZV9pZD1wYXJlbnQuZGF0YSgwLCBRdC5Vc2VyUm9sZSksCiAgICAgICAgICAgIHNlbGVjdGVkPXNlbGVjdGVkLAogICAgICAgICkKCiAgICAgICAgc2VsZi5fdXBkYXRlX3BhcmVudF9zdGF0ZShwYXJlbnQucGFyZW50KCkpCgAAAAAAAAAASB8AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAnwQAAAAAAACfBAAAAAAAAAAAAAAAAPC/"
				],
				[
					29,
					1,
					"paste",
					null,
					"AQAAANYDAAAAAAAAHgUAAAAAAAB1AQAAICAgIGRlZiBfX2luaXRfXyhzZWxmLCBwYXJlbnQ6IE9wdGlvbmFsW1FXaWRnZXRdID0gTm9uZSkgLT4gTm9uZToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKHBhcmVudCkKCiAgICAgICAgc2VsZi5pbmdlc3QgPSBJbmdlc3RDb250cm9sbGVyKCkKICAgICAgICBzZWxmLnJldmlldyA9IFJldmlld0NvbnRyb2xsZXIoc3RyKHJlY29yZHNfcGF0aCgpKSkKCiAgICAgICAgc2VsZi5fY3VycmVudF9zbmFwc2hvdF9pZDogT3B0aW9uYWxbaW50XSA9IE5vbmUKICAgICAgICBzZWxmLl9kb21fbm9kZXM6IERpY3Rbc3RyLCBEb21Ob2RlXSA9IHt9ICAgIyDinIUgRklYRUQKCiAgICAgICAgc2VsZi5fYnVpbGRfdWkoKQogICAgICAgIHNlbGYuX2xvYWRfcG9zdHMoKQ",
					"AQAAAAAAAAABAAAASQUAAAAAAADWAwAAAAAAAAAAAAAAAPC/"
				],
				[
					32,
					1,
					"indent",
					null,
					"CAAAANYDAAAAAAAA2gMAAAAAAAAAAAAAGAQAAAAAAAAcBAAAAAAAAAAAAAA6BAAAAAAAAD4EAAAAAAAAAAAAAGMEAAAAAAAAZwQAAAAAAAAAAAAAoAQAAAAAAACkBAAAAAAAAAAAAADYBAAAAAAAANwEAAAAAAAAAAAAAAoFAAAAAAAADgUAAAAAAAAAAAAAIwUAAAAAAAAnBQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAHgUAAAAAAADWAwAAAAAAAAAAAAAAAPC/"
				],
				[
					33,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABBHwAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSB0eXBpbmcgaW1wb3J0IE9wdGlvbmFsLCBEaWN0Cgpmcm9tIFB5U2lkZTYuUXRDb3JlIGltcG9ydCBRdApmcm9tIFB5U2lkZTYuUXRXaWRnZXRzIGltcG9ydCAoCiAgICBRV2lkZ2V0LAogICAgUVZCb3hMYXlvdXQsCiAgICBRU3BsaXR0ZXIsCiAgICBRTGFiZWwsCiAgICBRVGFibGVXaWRnZXQsCiAgICBRVGFibGVXaWRnZXRJdGVtLAogICAgUVRyZWVXaWRnZXQsCiAgICBRVHJlZVdpZGdldEl0ZW0sCiAgICBRQWJzdHJhY3RJdGVtVmlldywKKQoKZnJvbSBzaXRyZXBjMi5ndWkuaW5nZXN0LmNvbnRyb2xsZXIgaW1wb3J0ICgKICAgIEluZ2VzdENvbnRyb2xsZXIsCiAgICBJbmdlc3RQb3N0RmlsdGVyLAogICAgSW5nZXN0UG9zdFN0YXRlLAopCgpmcm9tIHNpdHJlcGMyLmd1aS5yZXZpZXcuY29udHJvbGxlciBpbXBvcnQgUmV2aWV3Q29udHJvbGxlcgpmcm9tIHNpdHJlcGMyLmRvbS5ub2RlcyBpbXBvcnQgRG9tTm9kZSAgICMg4pyFIEZJWEVECmZyb20gc2l0cmVwYzIuY29uZmlnLnBhdGhzIGltcG9ydCByZWNvcmRzX3BhdGgKCgojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KIyBSZXZpZXcgV29ya3NwYWNlCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKY2xhc3MgUmV2aWV3V29ya3NwYWNlKFFXaWRnZXQpOgogICAgIiIiCiAgICBVSSB3b3Jrc3BhY2UgZm9yIERPTSByZXZpZXcuCgogICAgUHVyZSBVSSByZXNwb25zaWJpbGl0aWVzOgogICAgLSBEaXNwbGF5IFJFQURZX0ZPUl9SRVZJRVcgcG9zdHMKICAgIC0gRGlzcGxheSBET00gdHJlZSBmb3Igc2VsZWN0ZWQgcG9zdAogICAgLSBSZWZsZWN0IGFuZCB1cGRhdGUgbm9kZSBzZWxlY3Rpb24gc3RhdGUKICAgICIiIgoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBwYXJlbnQ6IE9wdGlvbmFsW1FXaWRnZXRdID0gTm9uZSkgLT4gTm9uZToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKHBhcmVudCkKCiAgICAgICAgc2VsZi5pbmdlc3QgPSBJbmdlc3RDb250cm9sbGVyKCkKICAgICAgICBzZWxmLnJldmlldyA9IFJldmlld0NvbnRyb2xsZXIoc3RyKHJlY29yZHNfcGF0aCgpKSkKCiAgICAgICAgc2VsZi5fY3VycmVudF9zbmFwc2hvdF9pZDogT3B0aW9uYWxbaW50XSA9IE5vbmUKICAgICAgICBzZWxmLl9kb21fbm9kZXM6IERpY3Rbc3RyLCBEb21Ob2RlXSA9IHt9CgogICAgICAgIHNlbGYuX2J1aWxkX3VpKCkKICAgICAgICBzZWxmLl9sb2FkX3Bvc3RzKCkKCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICMgVUkKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIF9idWlsZF91aShzZWxmKSAtPiBOb25lOgogICAgICAgIHJvb3QgPSBRVkJveExheW91dChzZWxmKQogICAgICAgIHJvb3QuYWRkV2lkZ2V0KFFMYWJlbCgiUmV2aWV3IEV4dHJhY3RlZCBQb3N0cyIpKQoKICAgICAgICBzcGxpdHRlciA9IFFTcGxpdHRlcihRdC5Ib3Jpem9udGFsKQoKICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgIyBMZWZ0OiBQb3N0IGxpc3QKICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgICAgIHNlbGYudGFibGUgPSBRVGFibGVXaWRnZXQoKQogICAgICAgIHNlbGYudGFibGUuc2V0Q29sdW1uQ291bnQoNSkKICAgICAgICBzZWxmLnRhYmxlLnNldEhvcml6b250YWxIZWFkZXJMYWJlbHMoCiAgICAgICAgICAgIFsiUHVibGlzaGVkIiwgIkFsaWFzIiwgIlNvdXJjZSIsICJFdmVudHMiLCAiU25pcHBldCJdCiAgICAgICAgKQogICAgICAgIHNlbGYudGFibGUuc2V0U2VsZWN0aW9uQmVoYXZpb3IoUUFic3RyYWN0SXRlbVZpZXcuU2VsZWN0Um93cykKICAgICAgICBzZWxmLnRhYmxlLnNldEVkaXRUcmlnZ2VycyhRQWJzdHJhY3RJdGVtVmlldy5Ob0VkaXRUcmlnZ2VycykKICAgICAgICBzZWxmLnRhYmxlLnZlcnRpY2FsSGVhZGVyKCkuc2V0VmlzaWJsZShGYWxzZSkKICAgICAgICBzZWxmLnRhYmxlLml0ZW1TZWxlY3Rpb25DaGFuZ2VkLmNvbm5lY3Qoc2VsZi5fb25fcG9zdF9zZWxlY3RlZCkKCiAgICAgICAgc3BsaXR0ZXIuYWRkV2lkZ2V0KHNlbGYudGFibGUpCgogICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICAjIFJpZ2h0OiBET00gdHJlZQogICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICAgICAgc2VsZi50cmVlID0gUVRyZWVXaWRnZXQoKQogICAgICAgIHNlbGYudHJlZS5zZXRIZWFkZXJMYWJlbHMoWyJOb2RlIiwgIlR5cGUiXSkKICAgICAgICBzZWxmLnRyZWUuaXRlbUNoYW5nZWQuY29ubmVjdChzZWxmLl9vbl9pdGVtX2NoZWNrX2NoYW5nZWQpCgogICAgICAgIHNwbGl0dGVyLmFkZFdpZGdldChzZWxmLnRyZWUpCiAgICAgICAgc3BsaXR0ZXIuc2V0U3RyZXRjaEZhY3RvcigxLCAzKQoKICAgICAgICByb290LmFkZFdpZGdldChzcGxpdHRlcikKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBQb3N0IGxvYWRpbmcKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIF9sb2FkX3Bvc3RzKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgcm93cyA9IHNlbGYuaW5nZXN0LnF1ZXJ5X3Bvc3RzKAogICAgICAgICAgICBJbmdlc3RQb3N0RmlsdGVyKHN0YXRlPUluZ2VzdFBvc3RTdGF0ZS5SRUFEWV9GT1JfUkVWSUVXKQogICAgICAgICkKCiAgICAgICAgc2VsZi50YWJsZS5zZXRSb3dDb3VudChsZW4ocm93cykpCgogICAgICAgIGZvciByLCByb3cgaW4gZW51bWVyYXRlKHJvd3MpOgogICAgICAgICAgICBpdGVtcyA9IFsKICAgICAgICAgICAgICAgIFFUYWJsZVdpZGdldEl0ZW0ocm93LnB1Ymxpc2hlZF9hdCksCiAgICAgICAgICAgICAgICBRVGFibGVXaWRnZXRJdGVtKHJvdy5hbGlhcyksCiAgICAgICAgICAgICAgICBRVGFibGVXaWRnZXRJdGVtKHJvdy5zb3VyY2UpLAogICAgICAgICAgICAgICAgUVRhYmxlV2lkZ2V0SXRlbShzdHIocm93LmV2ZW50X2NvdW50KSksCiAgICAgICAgICAgICAgICBRVGFibGVXaWRnZXRJdGVtKHJvdy50ZXh0X3NuaXBwZXQpLAogICAgICAgICAgICBdCiAgICAgICAgICAgIGZvciBjLCBpdGVtIGluIGVudW1lcmF0ZShpdGVtcyk6CiAgICAgICAgICAgICAgICBpdGVtLnNldEZsYWdzKGl0ZW0uZmxhZ3MoKSAmIH5RdC5JdGVtSXNFZGl0YWJsZSkKICAgICAgICAgICAgICAgIHNlbGYudGFibGUuc2V0SXRlbShyLCBjLCBpdGVtKQoKICAgICAgICBzZWxmLnRhYmxlLnJlc2l6ZUNvbHVtbnNUb0NvbnRlbnRzKCkKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBQb3N0IHNlbGVjdGlvbgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBkZWYgX29uX3Bvc3Rfc2VsZWN0ZWQoc2VsZikgLT4gTm9uZToKICAgICAgICBpdGVtcyA9IHNlbGYudGFibGUuc2VsZWN0ZWRJdGVtcygpCiAgICAgICAgaWYgbm90IGl0ZW1zOgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgcm93X2lkeCA9IGl0ZW1zWzBdLnJvdygpCiAgICAgICAgcm93cyA9IHNlbGYuaW5nZXN0LnF1ZXJ5X3Bvc3RzKAogICAgICAgICAgICBJbmdlc3RQb3N0RmlsdGVyKHN0YXRlPUluZ2VzdFBvc3RTdGF0ZS5SRUFEWV9GT1JfUkVWSUVXKQogICAgICAgICkKCiAgICAgICAgcG9zdF9pZCA9IHJvd3Nbcm93X2lkeF0ucG9zdF9pZAogICAgICAgIGxzc19ydW5faWQgPSBzZWxmLmluZ2VzdC5nZXRfbGF0ZXN0X2xzc19ydW5faWQocG9zdF9pZCkKICAgICAgICBpZiBub3QgbHNzX3J1bl9pZDoKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIHNuYXBzaG90X2lkLCBub2RlcyA9IHNlbGYucmV2aWV3LmVudGVyX2luaXRpYWxfcmV2aWV3KAogICAgICAgICAgICBpbmdlc3RfcG9zdF9pZD1wb3N0X2lkLAogICAgICAgICAgICBsc3NfcnVuX2lkPWxzc19ydW5faWQsCiAgICAgICAgKQoKICAgICAgICBzZWxmLl9jdXJyZW50X3NuYXBzaG90X2lkID0gc25hcHNob3RfaWQKICAgICAgICBzZWxmLl9kb21fbm9kZXMgPSBub2RlcwoKICAgICAgICBzZWxmLl9yZWJ1aWxkX2RvbV90cmVlKCkKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBET00gdHJlZSByZW5kZXJpbmcKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIF9yZWJ1aWxkX2RvbV90cmVlKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgc2VsZi50cmVlLmJsb2NrU2lnbmFscyhUcnVlKQogICAgICAgIHNlbGYudHJlZS5jbGVhcigpCgogICAgICAgIHBvc3Rfbm9kZSA9IG5leHQoCiAgICAgICAgICAgIG4gZm9yIG4gaW4gc2VsZi5fZG9tX25vZGVzLnZhbHVlcygpCiAgICAgICAgICAgIGlmIG4ubm9kZV9pZC5zdGFydHN3aXRoKCJwb3N0OiIpCiAgICAgICAgKQoKICAgICAgICByb290X2l0ZW0gPSBzZWxmLl9idWlsZF90cmVlX2l0ZW0ocG9zdF9ub2RlKQogICAgICAgIHNlbGYudHJlZS5hZGRUb3BMZXZlbEl0ZW0ocm9vdF9pdGVtKQogICAgICAgIHJvb3RfaXRlbS5zZXRFeHBhbmRlZChUcnVlKQoKICAgICAgICBzZWxmLnRyZWUuYmxvY2tTaWduYWxzKEZhbHNlKQoKICAgIGRlZiBfYnVpbGRfdHJlZV9pdGVtKHNlbGYsIG5vZGU6IERvbU5vZGUpIC0+IFFUcmVlV2lkZ2V0SXRlbTogICAjIOKchSBGSVhFRAogICAgICAgIHNlbGVjdGVkID0gc2VsZi5yZXZpZXcuZ2V0X25vZGVfc2VsZWN0aW9uKAogICAgICAgICAgICBkb21fc25hcHNob3RfaWQ9c2VsZi5fY3VycmVudF9zbmFwc2hvdF9pZCwKICAgICAgICAgICAgZG9tX25vZGVfaWQ9bm9kZS5ub2RlX2lkLAogICAgICAgICkKCiAgICAgICAgaXRlbSA9IFFUcmVlV2lkZ2V0SXRlbShbbm9kZS5zdW1tYXJ5LCBub2RlLl9fY2xhc3NfXy5fX25hbWVfX10pCiAgICAgICAgaXRlbS5zZXREYXRhKDAsIFF0LlVzZXJSb2xlLCBub2RlLm5vZGVfaWQpCiAgICAgICAgaXRlbS5zZXRGbGFncyhpdGVtLmZsYWdzKCkgfCBRdC5JdGVtSXNVc2VyQ2hlY2thYmxlKQogICAgICAgIGl0ZW0uc2V0Q2hlY2tTdGF0ZSgwLCBRdC5DaGVja2VkIGlmIHNlbGVjdGVkIGVsc2UgUXQuVW5jaGVja2VkKQoKICAgICAgICBmb3IgY2hpbGQgaW4gbm9kZS5jaGlsZHJlbjoKICAgICAgICAgICAgaXRlbS5hZGRDaGlsZChzZWxmLl9idWlsZF90cmVlX2l0ZW0oY2hpbGQpKQoKICAgICAgICByZXR1cm4gaXRlbQoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIFNlbGVjdGlvbiBwcm9wYWdhdGlvbgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBkZWYgX29uX2l0ZW1fY2hlY2tfY2hhbmdlZCgKICAgICAgICBzZWxmLAogICAgICAgIGl0ZW06IFFUcmVlV2lkZ2V0SXRlbSwKICAgICAgICBjb2x1bW46IGludCwKICAgICkgLT4gTm9uZToKICAgICAgICBpZiBjb2x1bW4gIT0gMCBvciBzZWxmLl9jdXJyZW50X3NuYXBzaG90X2lkIGlzIE5vbmU6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICBub2RlX2lkID0gaXRlbS5kYXRhKDAsIFF0LlVzZXJSb2xlKQogICAgICAgIGNoZWNrZWQgPSBpdGVtLmNoZWNrU3RhdGUoMCkgPT0gUXQuQ2hlY2tlZAoKICAgICAgICBzZWxmLnJldmlldy5zZXRfbm9kZV9zZWxlY3RlZCgKICAgICAgICAgICAgZG9tX3NuYXBzaG90X2lkPXNlbGYuX2N1cnJlbnRfc25hcHNob3RfaWQsCiAgICAgICAgICAgIGRvbV9ub2RlX2lkPW5vZGVfaWQsCiAgICAgICAgICAgIHNlbGVjdGVkPWNoZWNrZWQsCiAgICAgICAgKQoKICAgICAgICBzZWxmLl9wcm9wYWdhdGVfdG9fY2hpbGRyZW4oaXRlbSwgY2hlY2tlZCkKICAgICAgICBzZWxmLl91cGRhdGVfcGFyZW50X3N0YXRlKGl0ZW0ucGFyZW50KCkpCgogICAgZGVmIF9wcm9wYWdhdGVfdG9fY2hpbGRyZW4oCiAgICAgICAgc2VsZiwKICAgICAgICBpdGVtOiBRVHJlZVdpZGdldEl0ZW0sCiAgICAgICAgc2VsZWN0ZWQ6IGJvb2wsCiAgICApIC0+IE5vbmU6CiAgICAgICAgZm9yIGkgaW4gcmFuZ2UoaXRlbS5jaGlsZENvdW50KCkpOgogICAgICAgICAgICBjaGlsZCA9IGl0ZW0uY2hpbGQoaSkKICAgICAgICAgICAgY2hpbGQuc2V0Q2hlY2tTdGF0ZSgwLCBRdC5DaGVja2VkIGlmIHNlbGVjdGVkIGVsc2UgUXQuVW5jaGVja2VkKQoKICAgICAgICAgICAgc2VsZi5yZXZpZXcuc2V0X25vZGVfc2VsZWN0ZWQoCiAgICAgICAgICAgICAgICBkb21fc25hcHNob3RfaWQ9c2VsZi5fY3VycmVudF9zbmFwc2hvdF9pZCwKICAgICAgICAgICAgICAgIGRvbV9ub2RlX2lkPWNoaWxkLmRhdGEoMCwgUXQuVXNlclJvbGUpLAogICAgICAgICAgICAgICAgc2VsZWN0ZWQ9c2VsZWN0ZWQsCiAgICAgICAgICAgICkKCiAgICAgICAgICAgIHNlbGYuX3Byb3BhZ2F0ZV90b19jaGlsZHJlbihjaGlsZCwgc2VsZWN0ZWQpCgogICAgZGVmIF91cGRhdGVfcGFyZW50X3N0YXRlKAogICAgICAgIHNlbGYsCiAgICAgICAgcGFyZW50OiBPcHRpb25hbFtRVHJlZVdpZGdldEl0ZW1dLAogICAgKSAtPiBOb25lOgogICAgICAgIGlmIG5vdCBwYXJlbnQ6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICBjaGVja2VkID0gMAogICAgICAgIHVuY2hlY2tlZCA9IDAKCiAgICAgICAgZm9yIGkgaW4gcmFuZ2UocGFyZW50LmNoaWxkQ291bnQoKSk6CiAgICAgICAgICAgIHN0YXRlID0gcGFyZW50LmNoaWxkKGkpLmNoZWNrU3RhdGUoMCkKICAgICAgICAgICAgaWYgc3RhdGUgPT0gUXQuQ2hlY2tlZDoKICAgICAgICAgICAgICAgIGNoZWNrZWQgKz0gMQogICAgICAgICAgICBlbGlmIHN0YXRlID09IFF0LlVuY2hlY2tlZDoKICAgICAgICAgICAgICAgIHVuY2hlY2tlZCArPSAxCgogICAgICAgIGlmIGNoZWNrZWQgPT0gcGFyZW50LmNoaWxkQ291bnQoKToKICAgICAgICAgICAgcGFyZW50LnNldENoZWNrU3RhdGUoMCwgUXQuQ2hlY2tlZCkKICAgICAgICAgICAgc2VsZWN0ZWQgPSBUcnVlCiAgICAgICAgZWxpZiB1bmNoZWNrZWQgPT0gcGFyZW50LmNoaWxkQ291bnQoKToKICAgICAgICAgICAgcGFyZW50LnNldENoZWNrU3RhdGUoMCwgUXQuVW5jaGVja2VkKQogICAgICAgICAgICBzZWxlY3RlZCA9IEZhbHNlCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcGFyZW50LnNldENoZWNrU3RhdGUoMCwgUXQuUGFydGlhbGx5Q2hlY2tlZCkKICAgICAgICAgICAgc2VsZWN0ZWQgPSBGYWxzZQoKICAgICAgICBzZWxmLnJldmlldy5zZXRfbm9kZV9zZWxlY3RlZCgKICAgICAgICAgICAgZG9tX3NuYXBzaG90X2lkPXNlbGYuX2N1cnJlbnRfc25hcHNob3RfaWQsCiAgICAgICAgICAgIGRvbV9ub2RlX2lkPXBhcmVudC5kYXRhKDAsIFF0LlVzZXJSb2xlKSwKICAgICAgICAgICAgc2VsZWN0ZWQ9c2VsZWN0ZWQsCiAgICAgICAgKQoKICAgICAgICBzZWxmLl91cGRhdGVfcGFyZW50X3N0YXRlKHBhcmVudC5wYXJlbnQoKSkKAAAAAAAAAAA9HwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAPgUAAAAAAADWAwAAAAAAAAAAAAAAAPC/"
				],
				[
					37,
					1,
					"paste",
					null,
					"AQAAAAAAAAAAAAAAYBUAAAAAAABBHwAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSB0eXBpbmcgaW1wb3J0IE9wdGlvbmFsLCBEaWN0Cgpmcm9tIFB5U2lkZTYuUXRDb3JlIGltcG9ydCBRdApmcm9tIFB5U2lkZTYuUXRXaWRnZXRzIGltcG9ydCAoCiAgICBRV2lkZ2V0LAogICAgUVZCb3hMYXlvdXQsCiAgICBRU3BsaXR0ZXIsCiAgICBRTGFiZWwsCiAgICBRVGFibGVXaWRnZXQsCiAgICBRVGFibGVXaWRnZXRJdGVtLAogICAgUVRyZWVXaWRnZXQsCiAgICBRVHJlZVdpZGdldEl0ZW0sCiAgICBRQWJzdHJhY3RJdGVtVmlldywKKQoKZnJvbSBzaXRyZXBjMi5ndWkuaW5nZXN0LmNvbnRyb2xsZXIgaW1wb3J0ICgKICAgIEluZ2VzdENvbnRyb2xsZXIsCiAgICBJbmdlc3RQb3N0RmlsdGVyLAogICAgSW5nZXN0UG9zdFN0YXRlLAopCgpmcm9tIHNpdHJlcGMyLmd1aS5yZXZpZXcuY29udHJvbGxlciBpbXBvcnQgUmV2aWV3Q29udHJvbGxlcgpmcm9tIHNpdHJlcGMyLmRvbS5ub2RlcyBpbXBvcnQgRG9tTm9kZSAgICMg4pyFIEZJWEVECmZyb20gc2l0cmVwYzIuY29uZmlnLnBhdGhzIGltcG9ydCByZWNvcmRzX3BhdGgKCgojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KIyBSZXZpZXcgV29ya3NwYWNlCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKY2xhc3MgUmV2aWV3V29ya3NwYWNlKFFXaWRnZXQpOgogICAgIiIiCiAgICBVSSB3b3Jrc3BhY2UgZm9yIERPTSByZXZpZXcuCgogICAgUHVyZSBVSSByZXNwb25zaWJpbGl0aWVzOgogICAgLSBEaXNwbGF5IFJFQURZX0ZPUl9SRVZJRVcgcG9zdHMKICAgIC0gRGlzcGxheSBET00gdHJlZSBmb3Igc2VsZWN0ZWQgcG9zdAogICAgLSBSZWZsZWN0IGFuZCB1cGRhdGUgbm9kZSBzZWxlY3Rpb24gc3RhdGUKICAgICIiIgoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBwYXJlbnQ6IE9wdGlvbmFsW1FXaWRnZXRdID0gTm9uZSkgLT4gTm9uZToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKHBhcmVudCkKCiAgICAgICAgc2VsZi5pbmdlc3QgPSBJbmdlc3RDb250cm9sbGVyKCkKICAgICAgICBzZWxmLnJldmlldyA9IFJldmlld0NvbnRyb2xsZXIoc3RyKHJlY29yZHNfcGF0aCgpKSkKCiAgICAgICAgc2VsZi5fY3VycmVudF9zbmFwc2hvdF9pZDogT3B0aW9uYWxbaW50XSA9IE5vbmUKICAgICAgICBzZWxmLl9kb21fbm9kZXM6IERpY3Rbc3RyLCBEb21Ob2RlXSA9IHt9CgogICAgICAgIHNlbGYuX2J1aWxkX3VpKCkKICAgICAgICBzZWxmLl9sb2FkX3Bvc3RzKCkKCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICMgVUkKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIF9idWlsZF91aShzZWxmKSAtPiBOb25lOgogICAgICAgIHJvb3QgPSBRVkJveExheW91dChzZWxmKQogICAgICAgIHJvb3QuYWRkV2lkZ2V0KFFMYWJlbCgiUmV2aWV3IEV4dHJhY3RlZCBQb3N0cyIpKQoKICAgICAgICBzcGxpdHRlciA9IFFTcGxpdHRlcihRdC5Ib3Jpem9udGFsKQoKICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgIyBMZWZ0OiBQb3N0IGxpc3QKICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgICAgIHNlbGYudGFibGUgPSBRVGFibGVXaWRnZXQoKQogICAgICAgIHNlbGYudGFibGUuc2V0Q29sdW1uQ291bnQoNSkKICAgICAgICBzZWxmLnRhYmxlLnNldEhvcml6b250YWxIZWFkZXJMYWJlbHMoCiAgICAgICAgICAgIFsiUHVibGlzaGVkIiwgIkFsaWFzIiwgIlNvdXJjZSIsICJFdmVudHMiLCAiU25pcHBldCJdCiAgICAgICAgKQogICAgICAgIHNlbGYudGFibGUuc2V0U2VsZWN0aW9uQmVoYXZpb3IoUUFic3RyYWN0SXRlbVZpZXcuU2VsZWN0Um93cykKICAgICAgICBzZWxmLnRhYmxlLnNldEVkaXRUcmlnZ2VycyhRQWJzdHJhY3RJdGVtVmlldy5Ob0VkaXRUcmlnZ2VycykKICAgICAgICBzZWxmLnRhYmxlLnZlcnRpY2FsSGVhZGVyKCkuc2V0VmlzaWJsZShGYWxzZSkKICAgICAgICBzZWxmLnRhYmxlLml0ZW1TZWxlY3Rpb25DaGFuZ2VkLmNvbm5lY3Qoc2VsZi5fb25fcG9zdF9zZWxlY3RlZCkKCiAgICAgICAgc3BsaXR0ZXIuYWRkV2lkZ2V0KHNlbGYudGFibGUpCgogICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICAjIFJpZ2h0OiBET00gdHJlZQogICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICAgICAgc2VsZi50cmVlID0gUVRyZWVXaWRnZXQoKQogICAgICAgIHNlbGYudHJlZS5zZXRIZWFkZXJMYWJlbHMoWyJOb2RlIiwgIlR5cGUiXSkKICAgICAgICBzZWxmLnRyZWUuaXRlbUNoYW5nZWQuY29ubmVjdChzZWxmLl9vbl9pdGVtX2NoZWNrX2NoYW5nZWQpCgogICAgICAgIHNwbGl0dGVyLmFkZFdpZGdldChzZWxmLnRyZWUpCiAgICAgICAgc3BsaXR0ZXIuc2V0U3RyZXRjaEZhY3RvcigxLCAzKQoKICAgICAgICByb290LmFkZFdpZGdldChzcGxpdHRlcikKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBQb3N0IGxvYWRpbmcKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIF9sb2FkX3Bvc3RzKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgcm93cyA9IHNlbGYuaW5nZXN0LnF1ZXJ5X3Bvc3RzKAogICAgICAgICAgICBJbmdlc3RQb3N0RmlsdGVyKHN0YXRlPUluZ2VzdFBvc3RTdGF0ZS5SRUFEWV9GT1JfUkVWSUVXKQogICAgICAgICkKCiAgICAgICAgc2VsZi50YWJsZS5zZXRSb3dDb3VudChsZW4ocm93cykpCgogICAgICAgIGZvciByLCByb3cgaW4gZW51bWVyYXRlKHJvd3MpOgogICAgICAgICAgICBpdGVtcyA9IFsKICAgICAgICAgICAgICAgIFFUYWJsZVdpZGdldEl0ZW0ocm93LnB1Ymxpc2hlZF9hdCksCiAgICAgICAgICAgICAgICBRVGFibGVXaWRnZXRJdGVtKHJvdy5hbGlhcyksCiAgICAgICAgICAgICAgICBRVGFibGVXaWRnZXRJdGVtKHJvdy5zb3VyY2UpLAogICAgICAgICAgICAgICAgUVRhYmxlV2lkZ2V0SXRlbShzdHIocm93LmV2ZW50X2NvdW50KSksCiAgICAgICAgICAgICAgICBRVGFibGVXaWRnZXRJdGVtKHJvdy50ZXh0X3NuaXBwZXQpLAogICAgICAgICAgICBdCiAgICAgICAgICAgIGZvciBjLCBpdGVtIGluIGVudW1lcmF0ZShpdGVtcyk6CiAgICAgICAgICAgICAgICBpdGVtLnNldEZsYWdzKGl0ZW0uZmxhZ3MoKSAmIH5RdC5JdGVtSXNFZGl0YWJsZSkKICAgICAgICAgICAgICAgIHNlbGYudGFibGUuc2V0SXRlbShyLCBjLCBpdGVtKQoKICAgICAgICBzZWxmLnRhYmxlLnJlc2l6ZUNvbHVtbnNUb0NvbnRlbnRzKCkKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBQb3N0IHNlbGVjdGlvbgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBkZWYgX29uX3Bvc3Rfc2VsZWN0ZWQoc2VsZikgLT4gTm9uZToKICAgICAgICBpdGVtcyA9IHNlbGYudGFibGUuc2VsZWN0ZWRJdGVtcygpCiAgICAgICAgaWYgbm90IGl0ZW1zOgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgcm93X2lkeCA9IGl0ZW1zWzBdLnJvdygpCiAgICAgICAgcm93cyA9IHNlbGYuaW5nZXN0LnF1ZXJ5X3Bvc3RzKAogICAgICAgICAgICBJbmdlc3RQb3N0RmlsdGVyKHN0YXRlPUluZ2VzdFBvc3RTdGF0ZS5SRUFEWV9GT1JfUkVWSUVXKQogICAgICAgICkKCiAgICAgICAgcG9zdF9pZCA9IHJvd3Nbcm93X2lkeF0ucG9zdF9pZAogICAgICAgIGxzc19ydW5faWQgPSBzZWxmLmluZ2VzdC5nZXRfbGF0ZXN0X2xzc19ydW5faWQocG9zdF9pZCkKICAgICAgICBpZiBub3QgbHNzX3J1bl9pZDoKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIHNuYXBzaG90X2lkLCBub2RlcyA9IHNlbGYucmV2aWV3LmVudGVyX2luaXRpYWxfcmV2aWV3KAogICAgICAgICAgICBpbmdlc3RfcG9zdF9pZD1wb3N0X2lkLAogICAgICAgICAgICBsc3NfcnVuX2lkPWxzc19ydW5faWQsCiAgICAgICAgKQoKICAgICAgICBzZWxmLl9jdXJyZW50X3NuYXBzaG90X2lkID0gc25hcHNob3RfaWQKICAgICAgICBzZWxmLl9kb21fbm9kZXMgPSBub2RlcwoKICAgICAgICBzZWxmLl9yZWJ1aWxkX2RvbV90cmVlKCkKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBET00gdHJlZSByZW5kZXJpbmcKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIF9yZWJ1aWxkX2RvbV90cmVlKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgc2VsZi50cmVlLmJsb2NrU2lnbmFscyhUcnVlKQogICAgICAgIHNlbGYudHJlZS5jbGVhcigpCgogICAgICAgIHBvc3Rfbm9kZSA9IG5leHQoCiAgICAgICAgICAgIG4gZm9yIG4gaW4gc2VsZi5fZG9tX25vZGVzLnZhbHVlcygpCiAgICAgICAgICAgIGlmIG4ubm9kZV9pZC5zdGFydHN3aXRoKCJwb3N0OiIpCiAgICAgICAgKQoKICAgICAgICByb290X2l0ZW0gPSBzZWxmLl9idWlsZF90cmVlX2l0ZW0ocG9zdF9ub2RlKQogICAgICAgIHNlbGYudHJlZS5hZGRUb3BMZXZlbEl0ZW0ocm9vdF9pdGVtKQogICAgICAgIHJvb3RfaXRlbS5zZXRFeHBhbmRlZChUcnVlKQoKICAgICAgICBzZWxmLnRyZWUuYmxvY2tTaWduYWxzKEZhbHNlKQoKICAgIGRlZiBfYnVpbGRfdHJlZV9pdGVtKHNlbGYsIG5vZGU6IERvbU5vZGUpIC0+IFFUcmVlV2lkZ2V0SXRlbTogICAjIOKchSBGSVhFRAogICAgICAgIHNlbGVjdGVkID0gc2VsZi5yZXZpZXcuZ2V0X25vZGVfc2VsZWN0aW9uKAogICAgICAgICAgICBkb21fc25hcHNob3RfaWQ9c2VsZi5fY3VycmVudF9zbmFwc2hvdF9pZCwKICAgICAgICAgICAgZG9tX25vZGVfaWQ9bm9kZS5ub2RlX2lkLAogICAgICAgICkKCiAgICAgICAgaXRlbSA9IFFUcmVlV2lkZ2V0SXRlbShbbm9kZS5zdW1tYXJ5LCBub2RlLl9fY2xhc3NfXy5fX25hbWVfX10pCiAgICAgICAgaXRlbS5zZXREYXRhKDAsIFF0LlVzZXJSb2xlLCBub2RlLm5vZGVfaWQpCiAgICAgICAgaXRlbS5zZXRGbGFncyhpdGVtLmZsYWdzKCkgfCBRdC5JdGVtSXNVc2VyQ2hlY2thYmxlKQogICAgICAgIGl0ZW0uc2V0Q2hlY2tTdGF0ZSgwLCBRdC5DaGVja2VkIGlmIHNlbGVjdGVkIGVsc2UgUXQuVW5jaGVja2VkKQoKICAgICAgICBmb3IgY2hpbGQgaW4gbm9kZS5jaGlsZHJlbjoKICAgICAgICAgICAgaXRlbS5hZGRDaGlsZChzZWxmLl9idWlsZF90cmVlX2l0ZW0oY2hpbGQpKQoKICAgICAgICByZXR1cm4gaXRlbQoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIFNlbGVjdGlvbiBwcm9wYWdhdGlvbgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBkZWYgX29uX2l0ZW1fY2hlY2tfY2hhbmdlZCgKICAgICAgICBzZWxmLAogICAgICAgIGl0ZW06IFFUcmVlV2lkZ2V0SXRlbSwKICAgICAgICBjb2x1bW46IGludCwKICAgICkgLT4gTm9uZToKICAgICAgICBpZiBjb2x1bW4gIT0gMCBvciBzZWxmLl9jdXJyZW50X3NuYXBzaG90X2lkIGlzIE5vbmU6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICBub2RlX2lkID0gaXRlbS5kYXRhKDAsIFF0LlVzZXJSb2xlKQogICAgICAgIGNoZWNrZWQgPSBpdGVtLmNoZWNrU3RhdGUoMCkgPT0gUXQuQ2hlY2tlZAoKICAgICAgICBzZWxmLnJldmlldy5zZXRfbm9kZV9zZWxlY3RlZCgKICAgICAgICAgICAgZG9tX3NuYXBzaG90X2lkPXNlbGYuX2N1cnJlbnRfc25hcHNob3RfaWQsCiAgICAgICAgICAgIGRvbV9ub2RlX2lkPW5vZGVfaWQsCiAgICAgICAgICAgIHNlbGVjdGVkPWNoZWNrZWQsCiAgICAgICAgKQoKICAgICAgICBzZWxmLl9wcm9wYWdhdGVfdG9fY2hpbGRyZW4oaXRlbSwgY2hlY2tlZCkKICAgICAgICBzZWxmLl91cGRhdGVfcGFyZW50X3N0YXRlKGl0ZW0ucGFyZW50KCkpCgogICAgZGVmIF9wcm9wYWdhdGVfdG9fY2hpbGRyZW4oCiAgICAgICAgc2VsZiwKICAgICAgICBpdGVtOiBRVHJlZVdpZGdldEl0ZW0sCiAgICAgICAgc2VsZWN0ZWQ6IGJvb2wsCiAgICApIC0+IE5vbmU6CiAgICAgICAgZm9yIGkgaW4gcmFuZ2UoaXRlbS5jaGlsZENvdW50KCkpOgogICAgICAgICAgICBjaGlsZCA9IGl0ZW0uY2hpbGQoaSkKICAgICAgICAgICAgY2hpbGQuc2V0Q2hlY2tTdGF0ZSgwLCBRdC5DaGVja2VkIGlmIHNlbGVjdGVkIGVsc2UgUXQuVW5jaGVja2VkKQoKICAgICAgICAgICAgc2VsZi5yZXZpZXcuc2V0X25vZGVfc2VsZWN0ZWQoCiAgICAgICAgICAgICAgICBkb21fc25hcHNob3RfaWQ9c2VsZi5fY3VycmVudF9zbmFwc2hvdF9pZCwKICAgICAgICAgICAgICAgIGRvbV9ub2RlX2lkPWNoaWxkLmRhdGEoMCwgUXQuVXNlclJvbGUpLAogICAgICAgICAgICAgICAgc2VsZWN0ZWQ9c2VsZWN0ZWQsCiAgICAgICAgICAgICkKCiAgICAgICAgICAgIHNlbGYuX3Byb3BhZ2F0ZV90b19jaGlsZHJlbihjaGlsZCwgc2VsZWN0ZWQpCgogICAgZGVmIF91cGRhdGVfcGFyZW50X3N0YXRlKAogICAgICAgIHNlbGYsCiAgICAgICAgcGFyZW50OiBPcHRpb25hbFtRVHJlZVdpZGdldEl0ZW1dLAogICAgKSAtPiBOb25lOgogICAgICAgIGlmIG5vdCBwYXJlbnQ6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICBjaGVja2VkID0gMAogICAgICAgIHVuY2hlY2tlZCA9IDAKCiAgICAgICAgZm9yIGkgaW4gcmFuZ2UocGFyZW50LmNoaWxkQ291bnQoKSk6CiAgICAgICAgICAgIHN0YXRlID0gcGFyZW50LmNoaWxkKGkpLmNoZWNrU3RhdGUoMCkKICAgICAgICAgICAgaWYgc3RhdGUgPT0gUXQuQ2hlY2tlZDoKICAgICAgICAgICAgICAgIGNoZWNrZWQgKz0gMQogICAgICAgICAgICBlbGlmIHN0YXRlID09IFF0LlVuY2hlY2tlZDoKICAgICAgICAgICAgICAgIHVuY2hlY2tlZCArPSAxCgogICAgICAgIGlmIGNoZWNrZWQgPT0gcGFyZW50LmNoaWxkQ291bnQoKToKICAgICAgICAgICAgcGFyZW50LnNldENoZWNrU3RhdGUoMCwgUXQuQ2hlY2tlZCkKICAgICAgICAgICAgc2VsZWN0ZWQgPSBUcnVlCiAgICAgICAgZWxpZiB1bmNoZWNrZWQgPT0gcGFyZW50LmNoaWxkQ291bnQoKToKICAgICAgICAgICAgcGFyZW50LnNldENoZWNrU3RhdGUoMCwgUXQuVW5jaGVja2VkKQogICAgICAgICAgICBzZWxlY3RlZCA9IEZhbHNlCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcGFyZW50LnNldENoZWNrU3RhdGUoMCwgUXQuUGFydGlhbGx5Q2hlY2tlZCkKICAgICAgICAgICAgc2VsZWN0ZWQgPSBGYWxzZQoKICAgICAgICBzZWxmLnJldmlldy5zZXRfbm9kZV9zZWxlY3RlZCgKICAgICAgICAgICAgZG9tX3NuYXBzaG90X2lkPXNlbGYuX2N1cnJlbnRfc25hcHNob3RfaWQsCiAgICAgICAgICAgIGRvbV9ub2RlX2lkPXBhcmVudC5kYXRhKDAsIFF0LlVzZXJSb2xlKSwKICAgICAgICAgICAgc2VsZWN0ZWQ9c2VsZWN0ZWQsCiAgICAgICAgKQoKICAgICAgICBzZWxmLl91cGRhdGVfcGFyZW50X3N0YXRlKHBhcmVudC5wYXJlbnQoKSkK",
					"AQAAAAAAAAABAAAAAAAAAAAAAAA9HwAAAAAAAAAAAAAAAPC/"
				],
				[
					38,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABgFQAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSB0eXBpbmcgaW1wb3J0IERpY3QsIE9wdGlvbmFsCgpmcm9tIFB5U2lkZTYuUXRDb3JlIGltcG9ydCBRdApmcm9tIFB5U2lkZTYuUXRXaWRnZXRzIGltcG9ydCAoCiAgICBRV2lkZ2V0LAogICAgUVZCb3hMYXlvdXQsCiAgICBRU3BsaXR0ZXIsCiAgICBRTGFiZWwsCiAgICBRVGFibGVXaWRnZXQsCiAgICBRVGFibGVXaWRnZXRJdGVtLAogICAgUVRyZWVXaWRnZXQsCiAgICBRVHJlZVdpZGdldEl0ZW0sCiAgICBRQWJzdHJhY3RJdGVtVmlldywKKQoKZnJvbSBzaXRyZXBjMi5ndWkucmV2aWV3LmNvbnRyb2xsZXIgaW1wb3J0IFJldmlld0NvbnRyb2xsZXIKCgojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KIyBSZXZpZXcgV29ya3NwYWNlCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKY2xhc3MgUmV2aWV3V29ya3NwYWNlKFFXaWRnZXQpOgogICAgIiIiCiAgICBET00tYmFja2VkIHJldmlldyB3b3Jrc3BhY2UuCiAgICAiIiIKCiAgICBkZWYgX19pbml0X18oc2VsZiwgcGFyZW50OiBPcHRpb25hbFtRV2lkZ2V0XSA9IE5vbmUpIC0+IE5vbmU6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXyhwYXJlbnQpCgogICAgICAgIHNlbGYucmV2aWV3ID0gUmV2aWV3Q29udHJvbGxlcigpCgogICAgICAgIHNlbGYuX2N1cnJlbnRfc25hcHNob3RfaWQ6IE9wdGlvbmFsW2ludF0gPSBOb25lCiAgICAgICAgc2VsZi5fbm9kZXNfYnlfaWQ6IERpY3RbaW50LCBRVHJlZVdpZGdldEl0ZW1dID0ge30KCiAgICAgICAgc2VsZi5fYnVpbGRfdWkoKQogICAgICAgIHNlbGYuX2xvYWRfcnVucygpCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICMgVUkKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIF9idWlsZF91aShzZWxmKSAtPiBOb25lOgogICAgICAgIHJvb3QgPSBRVkJveExheW91dChzZWxmKQogICAgICAgIHJvb3QuYWRkV2lkZ2V0KFFMYWJlbCgiRE9NIFJldmlldyIpKQoKICAgICAgICBzcGxpdHRlciA9IFFTcGxpdHRlcihRdC5Ib3Jpem9udGFsKQoKICAgICAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgIyBSdW5zIHRhYmxlCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgICAgICBzZWxmLnRhYmxlID0gUVRhYmxlV2lkZ2V0KCkKICAgICAgICBzZWxmLnRhYmxlLnNldENvbHVtbkNvdW50KDQpCiAgICAgICAgc2VsZi50YWJsZS5zZXRIb3Jpem9udGFsSGVhZGVyTGFiZWxzKAogICAgICAgICAgICBbIkluZ2VzdCBQb3N0IiwgIkxTUyBSdW4iLCAiRXZlbnRzIiwgIlN0YXJ0ZWQiXQogICAgICAgICkKICAgICAgICBzZWxmLnRhYmxlLnNldFNlbGVjdGlvbkJlaGF2aW9yKFFBYnN0cmFjdEl0ZW1WaWV3LlNlbGVjdFJvd3MpCiAgICAgICAgc2VsZi50YWJsZS5zZXRFZGl0VHJpZ2dlcnMoUUFic3RyYWN0SXRlbVZpZXcuTm9FZGl0VHJpZ2dlcnMpCiAgICAgICAgc2VsZi50YWJsZS52ZXJ0aWNhbEhlYWRlcigpLnNldFZpc2libGUoRmFsc2UpCiAgICAgICAgc2VsZi50YWJsZS5pdGVtU2VsZWN0aW9uQ2hhbmdlZC5jb25uZWN0KHNlbGYuX29uX3J1bl9zZWxlY3RlZCkKCiAgICAgICAgc3BsaXR0ZXIuYWRkV2lkZ2V0KHNlbGYudGFibGUpCgogICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICAjIERPTSB0cmVlCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgICAgICBzZWxmLnRyZWUgPSBRVHJlZVdpZGdldCgpCiAgICAgICAgc2VsZi50cmVlLnNldEhlYWRlckxhYmVscyhbIk5vZGUiLCAiVHlwZSJdKQogICAgICAgIHNlbGYudHJlZS5pdGVtQ2hhbmdlZC5jb25uZWN0KHNlbGYuX29uX2l0ZW1fY2hhbmdlZCkKCiAgICAgICAgc3BsaXR0ZXIuYWRkV2lkZ2V0KHNlbGYudHJlZSkKICAgICAgICBzcGxpdHRlci5zZXRTdHJldGNoRmFjdG9yKDEsIDMpCgogICAgICAgIHJvb3QuYWRkV2lkZ2V0KHNwbGl0dGVyKQoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIFJ1bnMKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIF9sb2FkX3J1bnMoc2VsZikgLT4gTm9uZToKICAgICAgICBydW5zID0gc2VsZi5yZXZpZXcubGlzdF9yZXZpZXdhYmxlX3J1bnMoKQoKICAgICAgICBzZWxmLnRhYmxlLnNldFJvd0NvdW50KGxlbihydW5zKSkKCiAgICAgICAgZm9yIHIsIHJvdyBpbiBlbnVtZXJhdGUocnVucyk6CiAgICAgICAgICAgIHNlbGYudGFibGUuc2V0SXRlbShyLCAwLCBRVGFibGVXaWRnZXRJdGVtKHN0cihyb3dbImluZ2VzdF9wb3N0X2lkIl0pKSkKICAgICAgICAgICAgc2VsZi50YWJsZS5zZXRJdGVtKHIsIDEsIFFUYWJsZVdpZGdldEl0ZW0oc3RyKHJvd1sibHNzX3J1bl9pZCJdKSkpCiAgICAgICAgICAgIHNlbGYudGFibGUuc2V0SXRlbShyLCAyLCBRVGFibGVXaWRnZXRJdGVtKHN0cihyb3dbImV2ZW50X2NvdW50Il0pKSkKICAgICAgICAgICAgc2VsZi50YWJsZS5zZXRJdGVtKHIsIDMsIFFUYWJsZVdpZGdldEl0ZW0ocm93WyJzdGFydGVkX2F0Il0pKQoKICAgICAgICBzZWxmLnRhYmxlLnJlc2l6ZUNvbHVtbnNUb0NvbnRlbnRzKCkKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBSdW4gc2VsZWN0aW9uCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGRlZiBfb25fcnVuX3NlbGVjdGVkKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgaXRlbXMgPSBzZWxmLnRhYmxlLnNlbGVjdGVkSXRlbXMoKQogICAgICAgIGlmIG5vdCBpdGVtczoKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIHJvdyA9IGl0ZW1zWzBdLnJvdygpCgogICAgICAgIGluZ2VzdF9wb3N0X2lkID0gaW50KHNlbGYudGFibGUuaXRlbShyb3csIDApLnRleHQoKSkKICAgICAgICBsc3NfcnVuX2lkID0gaW50KHNlbGYudGFibGUuaXRlbShyb3csIDEpLnRleHQoKSkKCiAgICAgICAgc25hcHNob3RfaWQgPSBzZWxmLnJldmlldy5lbnRlcl9pbml0aWFsX3JldmlldygKICAgICAgICAgICAgaW5nZXN0X3Bvc3RfaWQ9aW5nZXN0X3Bvc3RfaWQsCiAgICAgICAgICAgIGxzc19ydW5faWQ9bHNzX3J1bl9pZCwKICAgICAgICApCgogICAgICAgIHNlbGYuX2N1cnJlbnRfc25hcHNob3RfaWQgPSBzbmFwc2hvdF9pZAogICAgICAgIHNlbGYuX2xvYWRfZG9tX3RyZWUoKQoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIFRyZWUKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIF9sb2FkX2RvbV90cmVlKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgc2VsZi50cmVlLmJsb2NrU2lnbmFscyhUcnVlKQogICAgICAgIHNlbGYudHJlZS5jbGVhcigpCiAgICAgICAgc2VsZi5fbm9kZXNfYnlfaWQuY2xlYXIoKQoKICAgICAgICByb3dzID0gc2VsZi5yZXZpZXcubG9hZF9kb21fdHJlZSgKICAgICAgICAgICAgZG9tX3NuYXBzaG90X2lkPXNlbGYuX2N1cnJlbnRfc25hcHNob3RfaWQKICAgICAgICApCgogICAgICAgICMgRmlyc3QgcGFzczogY3JlYXRlIGl0ZW1zCiAgICAgICAgZm9yIHJvdyBpbiByb3dzOgogICAgICAgICAgICBpdGVtID0gUVRyZWVXaWRnZXRJdGVtKFtyb3dbInN1bW1hcnkiXSwgcm93WyJub2RlX3R5cGUiXV0pCiAgICAgICAgICAgIGl0ZW0uc2V0RGF0YSgwLCBRdC5Vc2VyUm9sZSwgcm93WyJub2RlX2lkIl0pCiAgICAgICAgICAgIGl0ZW0uc2V0RmxhZ3MoaXRlbS5mbGFncygpIHwgUXQuSXRlbUlzVXNlckNoZWNrYWJsZSkKICAgICAgICAgICAgaXRlbS5zZXRDaGVja1N0YXRlKAogICAgICAgICAgICAgICAgMCwgUXQuQ2hlY2tlZCBpZiByb3dbInNlbGVjdGVkIl0gZWxzZSBRdC5VbmNoZWNrZWQKICAgICAgICAgICAgKQogICAgICAgICAgICBzZWxmLl9ub2Rlc19ieV9pZFtyb3dbIm5vZGVfaWQiXV0gPSBpdGVtCgogICAgICAgICMgU2Vjb25kIHBhc3M6IHBhcmVudC9jaGlsZCB3aXJpbmcKICAgICAgICBmb3Igcm93IGluIHJvd3M6CiAgICAgICAgICAgIGl0ZW0gPSBzZWxmLl9ub2Rlc19ieV9pZFtyb3dbIm5vZGVfaWQiXV0KICAgICAgICAgICAgcGFyZW50X2lkID0gcm93WyJwYXJlbnRfaWQiXQoKICAgICAgICAgICAgaWYgcGFyZW50X2lkIGlzIE5vbmU6CiAgICAgICAgICAgICAgICBzZWxmLnRyZWUuYWRkVG9wTGV2ZWxJdGVtKGl0ZW0pCiAgICAgICAgICAgICAgICBpdGVtLnNldEV4cGFuZGVkKFRydWUpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBzZWxmLl9ub2Rlc19ieV9pZFtwYXJlbnRfaWRdLmFkZENoaWxkKGl0ZW0pCgogICAgICAgIHNlbGYudHJlZS5ibG9ja1NpZ25hbHMoRmFsc2UpCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICMgU2VsZWN0aW9uCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGRlZiBfb25faXRlbV9jaGFuZ2VkKAogICAgICAgIHNlbGYsCiAgICAgICAgaXRlbTogUVRyZWVXaWRnZXRJdGVtLAogICAgICAgIGNvbHVtbjogaW50LAogICAgKSAtPiBOb25lOgogICAgICAgIGlmIGNvbHVtbiAhPSAwIG9yIHNlbGYuX2N1cnJlbnRfc25hcHNob3RfaWQgaXMgTm9uZToKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIG5vZGVfaWQgPSBpdGVtLmRhdGEoMCwgUXQuVXNlclJvbGUpCiAgICAgICAgc2VsZWN0ZWQgPSBpdGVtLmNoZWNrU3RhdGUoMCkgPT0gUXQuQ2hlY2tlZAoKICAgICAgICBzZWxmLnJldmlldy5zZXRfbm9kZV9zZWxlY3RlZCgKICAgICAgICAgICAgZG9tX3NuYXBzaG90X2lkPXNlbGYuX2N1cnJlbnRfc25hcHNob3RfaWQsCiAgICAgICAgICAgIGRvbV9ub2RlX2lkPW5vZGVfaWQsCiAgICAgICAgICAgIHNlbGVjdGVkPXNlbGVjdGVkLAogICAgICAgICkKAAAAAAAAAABgFQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAYBUAAAAAAABgFQAAAAAAAAAAAAAAAPC/"
				]
			]
		}
	],
	"build_system": "",
	"build_system_choices":
	[
	],
	"build_varint": "",
	"command_palette":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
		],
		"width": 0.0
	},
	"console":
	{
		"height": 0.0,
		"history":
		[
		]
	},
	"distraction_free":
	{
		"menu_visible": true,
		"show_minimap": false,
		"show_open_files": false,
		"show_tabs": false,
		"side_bar_visible": false,
		"status_bar_visible": false
	},
	"expanded_folders":
	[
		"/Volumes/bladerunner/Projects/sitrepc2",
		"/Volumes/bladerunner/Projects/sitrepc2/.sitrepc2",
		"/Volumes/bladerunner/Projects/sitrepc2/src",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/dom",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gazetteer",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/ingest",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/lss",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/schema",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/schema/gazetteer",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/schema/lexicon",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/schema/records"
	],
	"file_history":
	[
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/dom/dom_persist_tree.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/schema/records/dom.sql",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/dom/nodes.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/review/controller.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/ingest/controller.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/ingest/ingest_workspace.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/review/review_workspace.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/lss/pipeline.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/cli/extract_cmd.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/ingest/fetch_log_model.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/ingest/source_controller.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/reference/seed_sources.jsonl",
		"/Volumes/bladerunner/Projects/sitrepc2/pyproject.toml",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/app.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/main_window.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/docrule/main_window.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/docrule/ui/ingest_record_picker_dialog.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/docrule/ui/gazetteer_alias_panel.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/cli/fetch_cmd.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/cli/lss_cmd.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/dom/dom_location_enrich.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/dom/dom_context_attach.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/dom/dom_enrichment.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/dom/dom_builder.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/lss/phrases.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/dom/dom_ingest.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/lss/lss_scoping.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/ui/model_validator_dialog.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/ui/gazetteer_alias_panel.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/lss/events.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/ingest/telegram.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/schema/records/lss.sql",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/lss/typedefs.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/lss/extract_lss.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/dbeditc2/main_window.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/schema/gazetteer/gazetteer.sql",
		"/Volumes/bladerunner/Projects/sitrepc2/src/dbeditc2/widgets/loc_form.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/dbeditc2/location_ws.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/dbeditc2/widgets/loc_search_panel.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/dbeditc2/gazetteer_ws.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/spatial/frontline.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/dom/dom_filtering.py",
		"/Users/bladerunner/Projects/telex/test_ingest.norm.txt",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/dom/dom_loader.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/cli/dom_cmd.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/cli/app.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/cli/dom_cmd",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/dom/candidate_confidence.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/dom/dom_persistence.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/config/paths.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/cli/init_cmd.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/reference/loc_polylines.geojson",
		"/Volumes/bladerunner/Projects/sitrepc2/src/dbeditc2/services/gazetteer_read.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/dbeditc2/services/gazetteer_search.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/dbeditc2/widgets/search_panel.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/dbeditc2/controller/editor_controller.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/dbeditc2/widgets/navigation_tree.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/dbeditc2/services/gazetteer_alias_browser.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/dbeditc2/app.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/dbeditc2/lexicon_ws.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/dbeditc2/widgets/details/empty_state_view.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/dbeditc2/models.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/dbeditc2/enums.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/dbeditc2/widgets/app_toolbar.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/dbeditc2/services/lexicon_read.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/dbeditc2/widgets/details/gazetteer_details_view.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/dbeditc2/widgets/details/lexicon_phrase_builder_view.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/docruleredit/models/entity_ruler.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/dbeditc2/widgets/entry_list_view.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/dbeditc2/widgets/entry_details_stack.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/dbeditc2/widgets/main_window.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/lss/persist.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/schema/lexicon/lexicon.sql",
		"/Users/bladerunner/Projects/telex/telex.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/viewer/document_html_viewer.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/ui/highlight_toolbar.py",
		"/Users/bladerunner/Projects/telex/seed_sources.jsonl",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/ui/ingest_record_picker_dialog.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/ui/document_summary_panel.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gazetteer/alias_service.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/ui/attribute_inspector.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/cli/source_cmd.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/ingest/translate.py",
		"/Users/bladerunner/Projects/mod-mymap/data/spatial/op_groups.geojson",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/ingest/facebook.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/ingest/twitter.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/ingest/http.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/docruleredit/nlp/pipeline.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/controller/document_controller.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/aliasedit.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/docruleredit/main_window.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/docruleredit/ui/entity_ruler_panel.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/reference/seed_lexicon.json",
		"/Volumes/bladerunner/Projects/sitrepc2/src/docruleredit/app.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/docruleredit/controller/document_controller.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/docruleredit/io/ruler_io.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/docruleredit/ui/highlight_toolbar.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/docruleredit/ui/document_summary_panel.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/docruleredit/ui/attribute_inspector.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/docruleredit/ui/menus.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/docruleredit/viewer/document_viewer.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/docruleredit/io/csv_loader.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/docruleredit/io/json_loader.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/docruleredit/io/text_loader.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/docruleredit/ruler_io.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/docruleredit/entity_ruler.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/docruleredit/document_controller.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/docruleredit/pipeline.py",
		"/Users/bladerunner/Projects/sitrepc2.bak/src/sitrepc2/frontline/loc_amk.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gazetteer/osm_ingest.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gazetteer/__init__.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/ingest/loaders.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/ingest/ingest_controller.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/schema/records/ingest.sql",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/main.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/__init__.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/dom/__init__.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/ingest/__init__.py",
		"/Volumes/bladerunner/Projects/sitrepc2/README.md",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/db/schema.sql",
		"/Volumes/bladerunner/Projects/sitrepc2/scripts/add_admin4.py",
		"/Volumes/bladerunner/Projects/sitrepc2/scripts/enrich_admin4.py",
		"/Volumes/bladerunner/Projects/sitrepc2/data/spatial/regions.geojson",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/review/pd_serialization.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/db/pipeline.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/review/pd_nodes.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gazetteer/io.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gazetteer/index.py"
	],
	"find":
	{
		"height": 38.0
	},
	"find_in_files":
	{
		"height": 119.0,
		"where_history":
		[
			"/Volumes/bladerunner/Projects/sitrepc2",
			"<open folders>"
		]
	},
	"find_state":
	{
		"case_sensitive": true,
		"find_history":
		[
			"IngestController",
			"model",
			"_run_next_extract",
			"on_extract",
			"on_source_selection",
			"STATE_COLOR",
			"PostState",
			"_remove_sources",
			"self.ed_kind",
			"remove_sources",
			"set_active",
			"sources",
			"remove_from_sources",
			"def _remove_sources",
			"_remove_sources",
			"_populate_ro",
			"def _populate",
			"self._pending",
			"self._pending_alias_text",
			"set_current_label",
			"selectedText",
			"selectedTextChanged",
			"CONTEXT",
			"attached = ",
			"\")\"",
			"persist_role",
			"persist",
			"role",
			"PhraseMatch",
			"extracted_word",
			"role_kind",
			"iter_content_words",
			"word_matches(",
			"WordMatch",
			"osm",
			"btn",
			"width",
			"min_width",
			"self.setEnable",
			"selected",
			"select",
			"(?, ?, ?, ?, ?, ?)",
			"osm",
			"osm_id",
			"get(\"",
			"select",
			"int(",
			"in",
			"int(",
			"set_view_mode",
			"_gazetteer_ws",
			"def _load_groups",
			"iter_content_words",
			"iter_words",
			"summary",
			"text",
			"LOCATION",
			"nearest_loc",
			"dist_from_loc",
			"distance_from_loc",
			"collect",
			"keep_non",
			"if keep_",
			"json",
			"lexicon.json",
			"lexicon.db",
			"osm_id",
			"def _alias_input",
			"def alias_input",
			"alias_input",
			"set_entity",
			"build_lss_events",
			"def build",
			"extract_callback",
			"role_candidate",
			"role_",
			"overlap",
			"word matches",
			"word_matches",
			"compute",
			"build_",
			"phrases",
			"from phrases",
			"like = ",
			"strip",
			"strip()",
			"text =",
			"root",
			"current_root",
			"copied",
			"war_lexicon.json",
			"war_lexicon.jsonl",
			"menu",
			"meta",
			"osmium.",
			"on_open_dom",
			"def load_posts",
			"def _load_sources",
			"on_extract_clicked",
			"extract_button",
			"print",
			"if not _matches",
			"#if not _matches_phrase_filter(text_orig):\n    #continue",
			"if not _matches_phrase_filter(text_orig):\n    continue",
			"if not _pass",
			"if not",
			"load_dotenv",
			"direction",
			"id ",
			"direction",
			"region_osm",
			", ",
			"region",
			"from sitrepc2.nlp.",
			"search",
			"decode",
			"Chervona Sloboda",
			"Sloboda",
			"Q33345",
			"27212295",
			"Q33345",
			"Severodonetsk",
			"Q33349",
			"orikhiv",
			"orikhov",
			"590847913708267500",
			"myrne",
			"petrovskoye"
		],
		"highlight": true,
		"in_selection": false,
		"preserve_case": false,
		"regex": false,
		"replace_history":
		[
			"phrase_matches(",
			"PhraseMatch",
			"_location_ws",
			"dist_from_front",
			"distance_from_front",
			",",
			"from sitrepc2.lss",
			"region",
			"register_search_phrases",
			"events",
			"Event",
			"Location",
			"EventMatch",
			"WordMatch",
			"GAZ_GROUPS",
			"",
			"Location",
			"EventMatch",
			"LocaleCandidate",
			"List"
		],
		"reverse": false,
		"scrollbar_highlights": true,
		"show_context": true,
		"use_buffer2": false,
		"use_gitignore": true,
		"whole_word": false,
		"wrap": true
	},
	"groups":
	[
		{
			"sheets":
			[
				{
					"buffer": 0,
					"file": "src/sitrepc2/gui/main_window.py",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 2766,
						"regions":
						{
						},
						"selection":
						[
							[
								2766,
								2766
							]
						],
						"settings":
						{
							"incomplete_sync": null,
							"remote_loading": false,
							"synced": false,
							"syntax": "Packages/Python/Python.sublime-syntax",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 671.0,
						"zoom_level": 1.0
					},
					"stack_index": 5,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 1,
					"file": "src/sitrepc2/dom/dom_scoping.py",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 6038,
						"regions":
						{
						},
						"selection":
						[
							[
								6038,
								6038
							]
						],
						"settings":
						{
							"auto_name": "from __future__ import annotations",
							"incomplete_sync": null,
							"remote_loading": false,
							"synced": false,
							"syntax": "Packages/Python/Python.sublime-syntax",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 2701.0,
						"zoom_level": 1.0
					},
					"stack_index": 4,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 2,
					"file": "src/sitrepc2/dom/dom_tree_builder.py",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 6894,
						"regions":
						{
						},
						"selection":
						[
							[
								1,
								4836
							]
						],
						"settings":
						{
							"auto_name": "from __future__ import annotations",
							"incomplete_sync": null,
							"syntax": "Packages/Python/Python.sublime-syntax",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 2284.0,
						"zoom_level": 1.0
					},
					"stack_index": 3,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 3,
					"file": "src/sitrepc2/dom/dom_first_review.py",
					"selected": true,
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 2768,
						"regions":
						{
						},
						"selection":
						[
							[
								1839,
								1839
							]
						],
						"settings":
						{
							"auto_name": "from __future__ import annotations",
							"incomplete_sync": null,
							"syntax": "Packages/Python/Python.sublime-syntax",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 366.0,
						"zoom_level": 1.0
					},
					"stack_index": 0,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 4,
					"file": "src/sitrepc2/dom/nodes.py",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 3643,
						"regions":
						{
						},
						"selection":
						[
							[
								1219,
								1219
							]
						],
						"settings":
						{
							"incomplete_sync": null,
							"remote_loading": false,
							"synced": false,
							"syntax": "Packages/Python/Python.sublime-syntax",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 1182.0,
						"zoom_level": 1.0
					},
					"stack_index": 1,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 5,
					"file": "src/sitrepc2/dom/dom_dedupe.py",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 6235,
						"regions":
						{
						},
						"selection":
						[
							[
								5621,
								5621
							]
						],
						"settings":
						{
							"auto_name": "from __future__ import annotations",
							"incomplete_sync": null,
							"remote_loading": false,
							"synced": false,
							"syntax": "Packages/Python/Python.sublime-syntax",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 515.0,
						"zoom_level": 1.0
					},
					"stack_index": 2,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 6,
					"file": "src/sitrepc2/gui/ingest/ingest_workspace.py",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 17131,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								17131
							]
						],
						"settings":
						{
							"incomplete_sync": null,
							"remote_loading": false,
							"synced": false,
							"syntax": "Packages/Python/Python.sublime-syntax",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 6538.0,
						"zoom_level": 1.0
					},
					"stack_index": 7,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 7,
					"file": "src/sitrepc2/gui/review/review_workspace.py",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 5472,
						"regions":
						{
						},
						"selection":
						[
							[
								5472,
								5472
							]
						],
						"settings":
						{
							"incomplete_sync": null,
							"remote_loading": false,
							"synced": false,
							"syntax": "Packages/Python/Python.sublime-syntax",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 1847.0,
						"zoom_level": 1.0
					},
					"stack_index": 6,
					"stack_multiselect": false,
					"type": "text"
				}
			]
		}
	],
	"incremental_find":
	{
		"height": 23.0
	},
	"input":
	{
		"height": 44.0
	},
	"layout":
	{
		"cells":
		[
			[
				0,
				0,
				1,
				1
			]
		],
		"cols":
		[
			0.0,
			1.0
		],
		"rows":
		[
			0.0,
			1.0
		]
	},
	"menu_visible": true,
	"output.SFTP":
	{
		"height": 0.0,
		"history":
		[
		]
	},
	"output.find_results":
	{
		"height": 160.0,
		"history":
		[
		]
	},
	"pinned_build_system": "",
	"project": "sitrepc2.sublime-project",
	"replace":
	{
		"height": 68.0
	},
	"save_all_on_build": true,
	"select_file":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
			[
				"",
				"utils/units/unit_str.py"
			]
		],
		"width": 0.0
	},
	"select_project":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
		],
		"width": 0.0
	},
	"select_symbol":
	{
		"height": 255.0,
		"last_filter": "",
		"selected_items":
		[
		],
		"width": 592.0
	},
	"selected_group": 0,
	"settings":
	{
	},
	"show_minimap": false,
	"show_open_files": true,
	"show_tabs": true,
	"side_bar_visible": true,
	"side_bar_width": 205.0,
	"status_bar_visible": true,
	"template_settings":
	{
	}
}
