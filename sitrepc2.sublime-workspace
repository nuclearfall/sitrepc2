{
	"auto_complete":
	{
		"selected_items":
		[
			[
				"region",
				"region_names"
			],
			[
				"defa",
				"default_aliases_field"
			],
			[
				"TRA",
				"TRAINING_HASHTAGS"
			],
			[
				"norn",
				"normalize_location_key"
			],
			[
				"Pr",
				"ProximityAnchor"
			],
			[
				"candidat",
				"locale_candidates"
			],
			[
				"Resol",
				"ResolvedLocation"
			],
			[
				"Ev",
				"EventMention"
			],
			[
				"serai",
				"serialize_resolved"
			],
			[
				"rnd",
				"rndr_ctx_changed"
			],
			[
				"phy",
				"phys_ctx_changed"
			],
			[
				"edpi_",
				"edpi_ctx_changed"
			],
			[
				"prope",
				"property\tNew Property"
			],
			[
				"Cano",
				"CANONICAL"
			],
			[
				"__",
				"__setattr__"
			],
			[
				"imp",
				"imprecise_str"
			],
			[
				"g",
				"geometryChanged"
			],
			[
				"geom",
				"geometryAboutToChange"
			],
			[
				"para",
				"params_kwargs"
			],
			[
				"_fiel",
				"_fields_by_key"
			],
			[
				"proe",
				"property_line_edit"
			],
			[
				"pre",
				"property_line_edit"
			],
			[
				"Proper",
				"property\tNew Property"
			],
			[
				"Ty",
				"TYPE_CHECKING"
			],
			[
				"prop",
				"propertyCommitted"
			],
			[
				"pro",
				"property\tNew Property"
			],
			[
				"U",
				"UnitStrGeometryField"
			],
			[
				"propert",
				"property\tNew Property"
			],
			[
				"Unit",
				"UnitStrGeometry"
			],
			[
				"TYP",
				"TYPE_CHECKING"
			],
			[
				"new_rec",
				"new_rect_y"
			],
			[
				"ele",
				"elem_modview"
			],
			[
				"geome",
				"geometryChanged"
			],
			[
				"proepr",
				"property\tNew Property"
			],
			[
				"opu",
				"populate_pages_with_csv"
			],
			[
				"appl",
				"_apply_base_hints"
			],
			[
				"proper",
				"property\tNew Property"
			],
			[
				"bor",
				"border_width"
			],
			[
				"_ds",
				"_display_dpi"
			],
			[
				"proep",
				"property\tNew Property"
			],
			[
				"setMax",
				"setMaximumWidth"
			],
			[
				"DEF",
				"DEFAULT_INCREMENTS"
			],
			[
				"geomet",
				"geometry_with_px_pos"
			],
			[
				"uni",
				"unit_str_geometry_field"
			],
			[
				"Uni",
				"UnitStrGeometryField"
			],
			[
				"_geom",
				"unit_str_geometry_field"
			],
			[
				"QGraph",
				"QGraphicsObject"
			],
			[
				"bll",
				"bleed_field"
			],
			[
				"corn",
				"corners_field"
			],
			[
				"_bor",
				"_border_color"
			],
			[
				"_obr",
				"_border_color"
			],
			[
				"bord",
				"border_color"
			],
			[
				"QPAIN",
				"QPainterPathStroker"
			],
			[
				"_has_",
				"_has_csv_content"
			],
			[
				"c",
				"component_template"
			],
			[
				"compon",
				"component_template"
			],
			[
				"ov",
				"_overset_hit_rect"
			],
			[
				"ove",
				"overset_hit_rect"
			],
			[
				"lai",
				"laid_out_h"
			],
			[
				"lad",
				"laid_out_w"
			],
			[
				"is_",
				"is_overset_expanded"
			],
			[
				"_is",
				"_is_overset_expanded"
			],
			[
				"_over",
				"_overset_hit_rect"
			],
			[
				"with",
				"geometry_with_px_pos"
			],
			[
				"Al",
				"AlignLeft"
			],
			[
				"Align",
				"AlignHCenter"
			],
			[
				"font",
				"last_font_new_default"
			],
			[
				"remove_t",
				"remove_template_by_pid"
			],
			[
				"bleed",
				"bleed_label"
			],
			[
				"UnitS",
				"UnitStrGeometry"
			],
			[
				"Compon",
				"ComponentTemplate"
			],
			[
				"req",
				"required_next"
			],
			[
				"ComponentTem",
				"ComponentTemplateView"
			],
			[
				"remove_temp",
				"remove_template_from_all_tabs"
			],
			[
				"upd",
				"updateGrid"
			],
			[
				"_pa",
				"_pagination_policy"
			],
			[
				"paginat",
				"pagination_policy"
			],
			[
				"pag",
				"pagination_policy"
			],
			[
				"Clon",
				"CloneComponentToSlotsCommand"
			],
			[
				"pagina",
				"pagination_policy"
			],
			[
				"white",
				"whitespace_in_units"
			],
			[
				"set",
				"setParentItem"
			],
			[
				"Com",
				"ComponentElement"
			],
			[
				"parse",
				"parse_dimension"
			],
			[
				"unre",
				"unreg_target"
			],
			[
				"prot",
				"proto_registry"
			],
			[
				"temp",
				"template_updated"
			],
			[
				"resize_s",
				"resize_start_item_pos"
			],
			[
				"UnitSt",
				"UnitStrGeometry"
			],
			[
				"_dragging_star",
				"_dragging_start_geom"
			],
			[
				"resize_st",
				"resize_start_item_geometry"
			],
			[
				"_dra",
				"_dragging_start_geom"
			],
			[
				"starting",
				"starting_drag_item"
			],
			[
				"elem",
				"elment_changed"
			],
			[
				"unit_st",
				"unit_str_geometry"
			],
			[
				"obje",
				"object_registered"
			],
			[
				"globa",
				"global_get_by_prefix"
			],
			[
				"ori",
				"orientation_changed"
			],
			[
				"_a",
				"_applyOrientation"
			],
			[
				"PAGE",
				"PAGE_SIZES"
			],
			[
				"_regis",
				"_ensure_registered"
			],
			[
				"sele",
				"selected_element"
			],
			[
				"get_all_",
				"get_global_by_type"
			],
			[
				"_handl",
				"_handle_property_change"
			],
			[
				"selec",
				"selected_element"
			],
			[
				"conf",
				"conform_geometry_pos"
			],
			[
				"conform",
				"conform_geometry_rect"
			],
			[
				"conform_geom",
				"conform_geometry_rect"
			],
			[
				"_mar",
				"_margin_top"
			],
			[
				"pagination",
				"pagination_policy"
			],
			[
				"compone",
				"component_template"
			],
			[
				"cand",
				"candidate_item"
			],
			[
				"flag",
				"display_flag_changed"
			],
			[
				"curre",
				"currentItem"
			],
			[
				"get_page",
				"get_page_rect_px"
			],
			[
				"_marg",
				"_margin_right"
			],
			[
				"Resiz",
				"ResizeAndMoveElementCommand"
			],
			[
				"Resize",
				"ResizeTemplateCommand"
			],
			[
				"Change",
				"ChangeGeometryCommand"
			],
			[
				"QGraphcisS",
				"QGraphicsSceneDragDropEvent"
			],
			[
				"_current",
				"_current_template"
			],
			[
				"on",
				"object_name_changed"
			],
			[
				"setM",
				"setMinimumWidth"
			],
			[
				"setMini",
				"setMinimumWidth"
			],
			[
				"C",
				"ComponentTemplate"
			],
			[
				"_al",
				"_alt_drag_first_pass"
			],
			[
				"resize_star",
				"resize_start_scene_pos"
			],
			[
				"eleme",
				"element_changed"
			]
		]
	},
	"buffers":
	[
		{
			"file": "src/sitrepc2/gui/ingest/ingest_workspace.py",
			"settings":
			{
				"buffer_size": 17495,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					37,
					1,
					"paste",
					null,
					"AQAAAAAAAAAAAAAAV0QAAAAAAAB4RAAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSB0eXBpbmcgaW1wb3J0IE9wdGlvbmFsLCBMaXN0Cgpmcm9tIFB5U2lkZTYuUXRDb3JlIGltcG9ydCBRdCwgUURhdGUsIFFUaHJlYWQsIFNpZ25hbApmcm9tIFB5U2lkZTYuUXRXaWRnZXRzIGltcG9ydCAoCiAgICBRV2lkZ2V0LAogICAgUVZCb3hMYXlvdXQsCiAgICBRSEJveExheW91dCwKICAgIFFMYWJlbCwKICAgIFFQdXNoQnV0dG9uLAogICAgUURhdGVFZGl0LAogICAgUVRhYmxlV2lkZ2V0LAogICAgUVRhYmxlV2lkZ2V0SXRlbSwKICAgIFFBYnN0cmFjdEl0ZW1WaWV3LAogICAgUVRleHRFZGl0LAogICAgUVNwbGl0dGVyLAogICAgUUxpc3RXaWRnZXQsCiAgICBRTGlzdFdpZGdldEl0ZW0sCiAgICBRVGFiV2lkZ2V0LAogICAgUUNoZWNrQm94LAogICAgUU1lc3NhZ2VCb3gsCiAgICBRQ29tYm9Cb3gsCiAgICBRR3JvdXBCb3gsCiAgICBRRm9ybUxheW91dCwKICAgIFFMaW5lRWRpdCwKICAgIFFQcm9ncmVzc0RpYWxvZywKKQoKZnJvbSBzaXRyZXBjMi5ndWkuaW5nZXN0LmNvbnRyb2xsZXIgaW1wb3J0ICgKICAgIEluZ2VzdENvbnRyb2xsZXIsCiAgICBJbmdlc3RQb3N0RmlsdGVyLAogICAgSW5nZXN0UG9zdFN0YXRlLAopCmZyb20gc2l0cmVwYzIuZ3VpLmluZ2VzdC5zb3VyY2VfY29udHJvbGxlciBpbXBvcnQgKAogICAgU291cmNlQ29udHJvbGxlciwKICAgIFNvdXJjZVJlY29yZCwKKQpmcm9tIHNpdHJlcGMyLmd1aS5pbmdlc3QuZmV0Y2hfbG9nX21vZGVsIGltcG9ydCAoCiAgICBGZXRjaExvZ01vZGVsLAogICAgRmV0Y2hMb2dFbnRyeSwKKQoKZnJvbSBzaXRyZXBjMi5sc3MucGlwZWxpbmUgaW1wb3J0IHJ1bl9sc3NfcGlwZWxpbmUKCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQojIExpZmVjeWNsZSB2aXN1YWxzCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKU1RBVEVfSUNPTiA9IHsKICAgIEluZ2VzdFBvc3RTdGF0ZS5SQVc6ICLij7oiLAogICAgSW5nZXN0UG9zdFN0YXRlLkxTU19SVU5OSU5HOiAi8J+UhCIsCiAgICBJbmdlc3RQb3N0U3RhdGUuTk9fRVZFTlRTOiAi4pqgIiwKICAgIEluZ2VzdFBvc3RTdGF0ZS5SRUFEWV9GT1JfUkVWSUVXOiAi8J+foSIsCiAgICBJbmdlc3RQb3N0U3RhdGUuQ09NTUlUVEVEOiAi4pyFIiwKfQoKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiMgTFNTIFdvcmtlciAodGhyZWFkZWQpCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKY2xhc3MgTFNTV29ya2VyKFFUaHJlYWQpOgogICAgZmluaXNoZWRfb2sgPSBTaWduYWwoKQogICAgZmFpbGVkID0gU2lnbmFsKHN0cikKCiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICBwb3N0czogbGlzdFtkaWN0XSwKICAgICAgICAqLAogICAgICAgIHJlcHJvY2VzczogYm9vbCwKICAgICAgICBwYXJlbnQ6IE9wdGlvbmFsW1FXaWRnZXRdID0gTm9uZSwKICAgICkgLT4gTm9uZToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKHBhcmVudCkKICAgICAgICBzZWxmLl9wb3N0cyA9IHBvc3RzCiAgICAgICAgc2VsZi5fcmVwcm9jZXNzID0gcmVwcm9jZXNzCgogICAgZGVmIHJ1bihzZWxmKSAtPiBOb25lOgogICAgICAgIHRyeToKICAgICAgICAgICAgcnVuX2xzc19waXBlbGluZSgKICAgICAgICAgICAgICAgIHNlbGYuX3Bvc3RzLAogICAgICAgICAgICAgICAgcmVwcm9jZXNzPXNlbGYuX3JlcHJvY2VzcywKICAgICAgICAgICAgKQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZXhjOgogICAgICAgICAgICBzZWxmLmZhaWxlZC5lbWl0KHN0cihleGMpKQogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgc2VsZi5maW5pc2hlZF9vay5lbWl0KCkKCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQojIEluZ2VzdCBXb3Jrc3BhY2UKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgpjbGFzcyBJbmdlc3RXb3Jrc3BhY2UoUVdpZGdldCk6CiAgICBleHRyYWN0aW9uX2NvbXBsZXRlZCA9IFNpZ25hbCgpCiAgICByZXZpZXdfcmVxdWVzdGVkID0gU2lnbmFsKCkKICAgIAogICAgZGVmIF9faW5pdF9fKHNlbGYsIHBhcmVudDogT3B0aW9uYWxbUVdpZGdldF0gPSBOb25lKSAtPiBOb25lOgogICAgICAgIHN1cGVyKCkuX19pbml0X18ocGFyZW50KQoKICAgICAgICBzZWxmLmluZ2VzdCA9IEluZ2VzdENvbnRyb2xsZXIoKQogICAgICAgIHNlbGYuc291cmNlcyA9IFNvdXJjZUNvbnRyb2xsZXIoKQogICAgICAgIHNlbGYuZmV0Y2hfbG9nID0gRmV0Y2hMb2dNb2RlbCgpCgogICAgICAgIHNlbGYuX2VkaXRpbmdfbmV3ID0gRmFsc2UKICAgICAgICBzZWxmLl9sb2FkZWRfc291cmNlX25hbWU6IE9wdGlvbmFsW3N0cl0gPSBOb25lCgogICAgICAgIHNlbGYuX3Byb2dyZXNzOiBPcHRpb25hbFtRUHJvZ3Jlc3NEaWFsb2ddID0gTm9uZQogICAgICAgIHNlbGYuX2xzc193b3JrZXI6IE9wdGlvbmFsW0xTU1dvcmtlcl0gPSBOb25lCgogICAgICAgIHNlbGYuX2J1aWxkX3VpKCkKICAgICAgICBzZWxmLl9sb2FkX3NvdXJjZXMoKQogICAgICAgIHNlbGYuX2xvYWRfcG9zdHMoKQoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIFVJCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGRlZiBfYnVpbGRfdWkoc2VsZikgLT4gTm9uZToKICAgICAgICByb290ID0gUVZCb3hMYXlvdXQoc2VsZikKCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgICMgVG9vbGJhcgogICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICAgICAgdG9vbGJhciA9IFFIQm94TGF5b3V0KCkKCiAgICAgICAgc2VsZi5idG5fZW5hYmxlID0gUVB1c2hCdXR0b24oIkVuYWJsZSIpCiAgICAgICAgc2VsZi5idG5fZGlzYWJsZSA9IFFQdXNoQnV0dG9uKCJEaXNhYmxlIikKICAgICAgICBzZWxmLmJ0bl9yZW1vdmUgPSBRUHVzaEJ1dHRvbigiUmVtb3ZlIikKCiAgICAgICAgc2VsZi5mZXRjaF9mcm9tID0gUURhdGVFZGl0KCkKICAgICAgICBzZWxmLmZldGNoX3RvID0gUURhdGVFZGl0KCkKICAgICAgICBzZWxmLmZvcmNlX2NoZWNrID0gUUNoZWNrQm94KCJGb3JjZSIpCgogICAgICAgIHRvZGF5ID0gUURhdGUuY3VycmVudERhdGUoKQogICAgICAgIHNlbGYuZmV0Y2hfZnJvbS5zZXREYXRlKHRvZGF5LmFkZERheXMoLTEpKQogICAgICAgIHNlbGYuZmV0Y2hfdG8uc2V0RGF0ZSh0b2RheSkKCiAgICAgICAgZm9yIHcgaW4gKHNlbGYuZmV0Y2hfZnJvbSwgc2VsZi5mZXRjaF90byk6CiAgICAgICAgICAgIHcuc2V0Q2FsZW5kYXJQb3B1cChUcnVlKQogICAgICAgICAgICB3LnNldERpc3BsYXlGb3JtYXQoInl5eXktTU0tZGQiKQoKICAgICAgICBzZWxmLmJ0bl9mZXRjaF9zZWxlY3RlZCA9IFFQdXNoQnV0dG9uKCJGZXRjaCBTZWxlY3RlZCIpCiAgICAgICAgc2VsZi5idG5fZmV0Y2hfYWxsID0gUVB1c2hCdXR0b24oIkZldGNoIEFsbCBFbmFibGVkIikKCiAgICAgICAgdG9vbGJhci5hZGRXaWRnZXQoc2VsZi5idG5fZW5hYmxlKQogICAgICAgIHRvb2xiYXIuYWRkV2lkZ2V0KHNlbGYuYnRuX2Rpc2FibGUpCiAgICAgICAgdG9vbGJhci5hZGRXaWRnZXQoc2VsZi5idG5fcmVtb3ZlKQogICAgICAgIHRvb2xiYXIuYWRkU3BhY2luZygyMCkKICAgICAgICB0b29sYmFyLmFkZFdpZGdldChRTGFiZWwoIkZldGNoIGZyb206IikpCiAgICAgICAgdG9vbGJhci5hZGRXaWRnZXQoc2VsZi5mZXRjaF9mcm9tKQogICAgICAgIHRvb2xiYXIuYWRkV2lkZ2V0KFFMYWJlbCgidG86IikpCiAgICAgICAgdG9vbGJhci5hZGRXaWRnZXQoc2VsZi5mZXRjaF90bykKICAgICAgICB0b29sYmFyLmFkZFdpZGdldChzZWxmLmZvcmNlX2NoZWNrKQogICAgICAgIHRvb2xiYXIuYWRkU3BhY2luZygyMCkKICAgICAgICB0b29sYmFyLmFkZFdpZGdldChzZWxmLmJ0bl9mZXRjaF9zZWxlY3RlZCkKICAgICAgICB0b29sYmFyLmFkZFdpZGdldChzZWxmLmJ0bl9mZXRjaF9hbGwpCiAgICAgICAgdG9vbGJhci5hZGRTdHJldGNoKCkKCiAgICAgICAgcm9vdC5hZGRMYXlvdXQodG9vbGJhcikKCiAgICAgICAgc3BsaXR0ZXIgPSBRU3BsaXR0ZXIoUXQuSG9yaXpvbnRhbCkKCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgICMgTGVmdDogU291cmNlcwogICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICAgICAgbGVmdCA9IFFXaWRnZXQoKQogICAgICAgIGxlZnRfbGF5b3V0ID0gUVZCb3hMYXlvdXQobGVmdCkKCiAgICAgICAgbGVmdF9sYXlvdXQuYWRkV2lkZ2V0KFFMYWJlbCgiU291cmNlcyIpKQogICAgICAgIHNlbGYuc291cmNlX2xpc3QgPSBRTGlzdFdpZGdldCgpCiAgICAgICAgc2VsZi5zb3VyY2VfbGlzdC5zZXRTZWxlY3Rpb25Nb2RlKFFBYnN0cmFjdEl0ZW1WaWV3LkV4dGVuZGVkU2VsZWN0aW9uKQogICAgICAgIHNlbGYuc291cmNlX2xpc3QuaXRlbVNlbGVjdGlvbkNoYW5nZWQuY29ubmVjdChzZWxmLl9vbl9zb3VyY2Vfc2VsZWN0aW9uX2NoYW5nZWQpCiAgICAgICAgbGVmdF9sYXlvdXQuYWRkV2lkZ2V0KHNlbGYuc291cmNlX2xpc3QsIHN0cmV0Y2g9MSkKCiAgICAgICAgZWRpdG9yX2JveCA9IFFHcm91cEJveCgiU291cmNlIEVkaXRvciIpCiAgICAgICAgZm9ybSA9IFFGb3JtTGF5b3V0KGVkaXRvcl9ib3gpCgogICAgICAgIHNlbGYuZWRfc291cmNlX25hbWUgPSBRTGluZUVkaXQoKQogICAgICAgIHNlbGYuZWRfYWxpYXMgPSBRTGluZUVkaXQoKQogICAgICAgIHNlbGYuZWRfa2luZCA9IFFDb21ib0JveCgpCiAgICAgICAgc2VsZi5lZF9raW5kLmFkZEl0ZW1zKFsiVEVMRUdSQU0iLCAiRkFDRUJPT0siLCAiVFdJVFRFUiIsICJIVFRQIl0pCiAgICAgICAgc2VsZi5lZF9sYW5nID0gUUxpbmVFZGl0KCkKICAgICAgICBzZWxmLmVkX2FjdGl2ZSA9IFFDaGVja0JveCgiQWN0aXZlIikKCiAgICAgICAgZm9ybS5hZGRSb3coIlNvdXJjZSBOYW1lIiwgc2VsZi5lZF9zb3VyY2VfbmFtZSkKICAgICAgICBmb3JtLmFkZFJvdygiQWxpYXMiLCBzZWxmLmVkX2FsaWFzKQogICAgICAgIGZvcm0uYWRkUm93KCJLaW5kIiwgc2VsZi5lZF9raW5kKQogICAgICAgIGZvcm0uYWRkUm93KCJMYW5ndWFnZSIsIHNlbGYuZWRfbGFuZykKICAgICAgICBmb3JtLmFkZFJvdygiIiwgc2VsZi5lZF9hY3RpdmUpCgogICAgICAgIGJ0bl9yb3cgPSBRSEJveExheW91dCgpCiAgICAgICAgc2VsZi5idG5fbmV3ID0gUVB1c2hCdXR0b24oIk5ldyIpCiAgICAgICAgc2VsZi5idG5fc2F2ZSA9IFFQdXNoQnV0dG9uKCJTYXZlIikKICAgICAgICBzZWxmLmJ0bl9yZXZlcnQgPSBRUHVzaEJ1dHRvbigiUmV2ZXJ0IikKICAgICAgICBzZWxmLmJ0bl9kZWxldGUgPSBRUHVzaEJ1dHRvbigiRGVsZXRlIikKCiAgICAgICAgZm9yIGIgaW4gKHNlbGYuYnRuX25ldywgc2VsZi5idG5fc2F2ZSwgc2VsZi5idG5fcmV2ZXJ0LCBzZWxmLmJ0bl9kZWxldGUpOgogICAgICAgICAgICBidG5fcm93LmFkZFdpZGdldChiKQoKICAgICAgICBmb3JtLmFkZFJvdyhidG5fcm93KQogICAgICAgIGxlZnRfbGF5b3V0LmFkZFdpZGdldChlZGl0b3JfYm94KQoKICAgICAgICBzcGxpdHRlci5hZGRXaWRnZXQobGVmdCkKCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgICMgUmlnaHQ6IFBvc3RzCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgICAgICByaWdodCA9IFFXaWRnZXQoKQogICAgICAgIHJpZ2h0X2xheW91dCA9IFFWQm94TGF5b3V0KHJpZ2h0KQoKICAgICAgICBzZWxmLnRhYmxlID0gUVRhYmxlV2lkZ2V0KCkKICAgICAgICBzZWxmLnRhYmxlLnNldENvbHVtbkNvdW50KDcpCiAgICAgICAgc2VsZi50YWJsZS5zZXRIb3Jpem9udGFsSGVhZGVyTGFiZWxzKAogICAgICAgICAgICBbIlN0YXRlIiwgIlB1Ymxpc2hlZCIsICJBbGlhcyIsICJTb3VyY2UiLCAiTGFuZyIsICJFdmVudHMiLCAiU25pcHBldCJdCiAgICAgICAgKQogICAgICAgIHNlbGYudGFibGUuc2V0U2VsZWN0aW9uQmVoYXZpb3IoUUFic3RyYWN0SXRlbVZpZXcuU2VsZWN0Um93cykKICAgICAgICBzZWxmLnRhYmxlLnNldEVkaXRUcmlnZ2VycyhRQWJzdHJhY3RJdGVtVmlldy5Ob0VkaXRUcmlnZ2VycykKICAgICAgICBzZWxmLnRhYmxlLnZlcnRpY2FsSGVhZGVyKCkuc2V0VmlzaWJsZShGYWxzZSkKICAgICAgICBzZWxmLnRhYmxlLml0ZW1TZWxlY3Rpb25DaGFuZ2VkLmNvbm5lY3Qoc2VsZi5fb25fcG9zdF9zZWxlY3RlZCkKICAgICAgICByaWdodF9sYXlvdXQuYWRkV2lkZ2V0KHNlbGYudGFibGUpCgogICAgICAgIGV4dHJhY3RfYmFyID0gUUhCb3hMYXlvdXQoKQogICAgICAgIHNlbGYuY2hrX3JlcHJvY2VzcyA9IFFDaGVja0JveCgiUmVwcm9jZXNzIikKICAgICAgICBzZWxmLmJ0bl9leHRyYWN0ID0gUVB1c2hCdXR0b24oIkV4dHJhY3QgRXZlbnRzIikKICAgICAgICBzZWxmLmJ0bl9leHRyYWN0LnNldEVuYWJsZWQoRmFsc2UpCgogICAgICAgIGV4dHJhY3RfYmFyLmFkZFdpZGdldChzZWxmLmNoa19yZXByb2Nlc3MpCiAgICAgICAgZXh0cmFjdF9iYXIuYWRkV2lkZ2V0KHNlbGYuYnRuX2V4dHJhY3QpCiAgICAgICAgZXh0cmFjdF9iYXIuYWRkU3RyZXRjaCgpCgogICAgICAgIHJpZ2h0X2xheW91dC5hZGRMYXlvdXQoZXh0cmFjdF9iYXIpCgogICAgICAgIHNlbGYudGFicyA9IFFUYWJXaWRnZXQoKQogICAgICAgIHNlbGYucG9zdF9kZXRhaWwgPSBRVGV4dEVkaXQocmVhZE9ubHk9VHJ1ZSkKICAgICAgICBzZWxmLmZldGNoX2xvZ192aWV3ID0gUVRleHRFZGl0KHJlYWRPbmx5PVRydWUpCiAgICAgICAgc2VsZi50YWJzLmFkZFRhYihzZWxmLnBvc3RfZGV0YWlsLCAiUG9zdCBEZXRhaWwiKQogICAgICAgIHNlbGYudGFicy5hZGRUYWIoc2VsZi5mZXRjaF9sb2dfdmlldywgIkZldGNoIExvZyIpCiAgICAgICAgcmlnaHRfbGF5b3V0LmFkZFdpZGdldChzZWxmLnRhYnMpCgogICAgICAgIHNwbGl0dGVyLmFkZFdpZGdldChyaWdodCkKICAgICAgICBzcGxpdHRlci5zZXRTdHJldGNoRmFjdG9yKDEsIDMpCiAgICAgICAgcm9vdC5hZGRXaWRnZXQoc3BsaXR0ZXIpCgogICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICAjIFdpcmluZwogICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICAgICAgc2VsZi5idG5fZmV0Y2hfc2VsZWN0ZWQuY2xpY2tlZC5jb25uZWN0KHNlbGYuX2ZldGNoX3NlbGVjdGVkKQogICAgICAgIHNlbGYuYnRuX2ZldGNoX2FsbC5jbGlja2VkLmNvbm5lY3Qoc2VsZi5fZmV0Y2hfYWxsKQogICAgICAgIHNlbGYuYnRuX2VuYWJsZS5jbGlja2VkLmNvbm5lY3QobGFtYmRhOiBzZWxmLl9zZXRfYWN0aXZlKFRydWUpKQogICAgICAgIHNlbGYuYnRuX2Rpc2FibGUuY2xpY2tlZC5jb25uZWN0KGxhbWJkYTogc2VsZi5fc2V0X2FjdGl2ZShGYWxzZSkpCiAgICAgICAgc2VsZi5idG5fcmVtb3ZlLmNsaWNrZWQuY29ubmVjdChzZWxmLl9yZW1vdmVfc291cmNlcykKCiAgICAgICAgc2VsZi5idG5fbmV3LmNsaWNrZWQuY29ubmVjdChzZWxmLl9uZXdfc291cmNlKQogICAgICAgIHNlbGYuYnRuX3NhdmUuY2xpY2tlZC5jb25uZWN0KHNlbGYuX3NhdmVfc291cmNlKQogICAgICAgIHNlbGYuYnRuX3JldmVydC5jbGlja2VkLmNvbm5lY3Qoc2VsZi5fcmV2ZXJ0X3NvdXJjZSkKICAgICAgICBzZWxmLmJ0bl9kZWxldGUuY2xpY2tlZC5jb25uZWN0KHNlbGYuX2RlbGV0ZV9zb3VyY2UpCgogICAgICAgIHNlbGYuYnRuX2V4dHJhY3QuY2xpY2tlZC5jb25uZWN0KHNlbGYuX2V4dHJhY3Rfc2VsZWN0ZWRfcG9zdHMpCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICMgRXh0cmFjdGlvbiAoZGlyZWN0IExTUykKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIF9leHRyYWN0X3NlbGVjdGVkX3Bvc3RzKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgcm93cyA9IHNlbGYuaW5nZXN0LnF1ZXJ5X3Bvc3RzKEluZ2VzdFBvc3RGaWx0ZXIoKSkKCiAgICAgICAgcG9zdF9pZHMgPSBzb3J0ZWQoewogICAgICAgICAgICByb3dzW2l0ZW0ucm93KCldLnBvc3RfaWQKICAgICAgICAgICAgZm9yIGl0ZW0gaW4gc2VsZi50YWJsZS5zZWxlY3RlZEl0ZW1zKCkKICAgICAgICB9KQoKICAgICAgICBpZiBub3QgcG9zdF9pZHM6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICBwb3N0czogbGlzdFtkaWN0XSA9IFtdCiAgICAgICAgZm9yIHJvdyBpbiByb3dzOgogICAgICAgICAgICBpZiByb3cucG9zdF9pZCBpbiBwb3N0X2lkczoKICAgICAgICAgICAgICAgIGRldGFpbCA9IHNlbGYuaW5nZXN0LmdldF9wb3N0KHJvdy5wb3N0X2lkKQogICAgICAgICAgICAgICAgcG9zdHMuYXBwZW5kKHsKICAgICAgICAgICAgICAgICAgICAiaWQiOiByb3cucG9zdF9pZCwKICAgICAgICAgICAgICAgICAgICAidGV4dCI6IGRldGFpbC50ZXh0LAogICAgICAgICAgICAgICAgfSkKCiAgICAgICAgaWYgbm90IHBvc3RzOgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgc2VsZi5idG5fZXh0cmFjdC5zZXRFbmFibGVkKEZhbHNlKQoKICAgICAgICBzZWxmLl9wcm9ncmVzcyA9IFFQcm9ncmVzc0RpYWxvZygKICAgICAgICAgICAgIkV4dHJhY3RpbmcgZXZlbnRz4oCmIiwKICAgICAgICAgICAgTm9uZSwKICAgICAgICAgICAgMCwKICAgICAgICAgICAgMCwKICAgICAgICAgICAgc2VsZiwKICAgICAgICApCiAgICAgICAgc2VsZi5fcHJvZ3Jlc3Muc2V0V2luZG93TW9kYWxpdHkoUXQuTm9uTW9kYWwpCiAgICAgICAgc2VsZi5fcHJvZ3Jlc3Muc2V0TWluaW11bUR1cmF0aW9uKDApCiAgICAgICAgc2VsZi5fcHJvZ3Jlc3Muc2hvdygpCgogICAgICAgIHNlbGYuX2xzc193b3JrZXIgPSBMU1NXb3JrZXIoCiAgICAgICAgICAgIHBvc3RzLAogICAgICAgICAgICByZXByb2Nlc3M9c2VsZi5jaGtfcmVwcm9jZXNzLmlzQ2hlY2tlZCgpLAogICAgICAgICAgICBwYXJlbnQ9c2VsZiwKICAgICAgICApCiAgICAgICAgc2VsZi5fbHNzX3dvcmtlci5maW5pc2hlZF9vay5jb25uZWN0KHNlbGYuX29uX2V4dHJhY3RfZmluaXNoZWQpCiAgICAgICAgc2VsZi5fbHNzX3dvcmtlci5mYWlsZWQuY29ubmVjdChzZWxmLl9vbl9leHRyYWN0X2ZhaWxlZCkKICAgICAgICBzZWxmLl9sc3Nfd29ya2VyLnN0YXJ0KCkKCiAgICBkZWYgX29uX2V4dHJhY3RfZmluaXNoZWQoc2VsZikgLT4gTm9uZToKICAgICAgICBpZiBzZWxmLl9wcm9ncmVzczoKICAgICAgICAgICAgc2VsZi5fcHJvZ3Jlc3MuY2xvc2UoKQogICAgICAgICAgICBzZWxmLl9wcm9ncmVzcyA9IE5vbmUKICAgICAgICBzZWxmLmJ0bl9leHRyYWN0LnNldEVuYWJsZWQoVHJ1ZSkKICAgICAgICBzZWxmLl9sb2FkX3Bvc3RzKCkKCiAgICBkZWYgX29uX2V4dHJhY3RfZmFpbGVkKHNlbGYsIG1lc3NhZ2U6IHN0cikgLT4gTm9uZToKICAgICAgICBpZiBzZWxmLl9wcm9ncmVzczoKICAgICAgICAgICAgc2VsZi5fcHJvZ3Jlc3MuY2xvc2UoKQogICAgICAgICAgICBzZWxmLl9wcm9ncmVzcyA9IE5vbmUKICAgICAgICBzZWxmLmJ0bl9leHRyYWN0LnNldEVuYWJsZWQoVHJ1ZSkKICAgICAgICBRTWVzc2FnZUJveC5jcml0aWNhbChzZWxmLCAiTFNTIEV4dHJhY3Rpb24gRmFpbGVkIiwgbWVzc2FnZSkKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBQb3N0cwogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBkZWYgX2xvYWRfcG9zdHMoc2VsZikgLT4gTm9uZToKICAgICAgICByb3dzID0gc2VsZi5pbmdlc3QucXVlcnlfcG9zdHMoSW5nZXN0UG9zdEZpbHRlcigpKQogICAgICAgIHNlbGYudGFibGUuc2V0Um93Q291bnQobGVuKHJvd3MpKQogICAgICAgIGZvciByLCByb3cgaW4gZW51bWVyYXRlKHJvd3MpOgogICAgICAgICAgICBzZWxmLl9wb3B1bGF0ZV9yb3cociwgcm93KQogICAgICAgIHNlbGYudGFibGUucmVzaXplQ29sdW1uc1RvQ29udGVudHMoKQogICAgICAgIHNlbGYudGFibGUuc2V0Q29sdW1uV2lkdGgoMCwgMTYwKQoKICAgIGRlZiBfcG9wdWxhdGVfcm93KHNlbGYsIHJvd19pZHg6IGludCwgcm93KSAtPiBOb25lOgogICAgICAgIGljb24gPSBTVEFURV9JQ09OLmdldChyb3cuc3RhdGUsICIiKQogICAgICAgIHRleHQgPSBmIntpY29ufSB7cm93LnN0YXRlLnZhbHVlLnJlcGxhY2UoJ18nLCAnICcpfSIKICAgICAgICBpdGVtcyA9IFsKICAgICAgICAgICAgUVRhYmxlV2lkZ2V0SXRlbSh0ZXh0KSwKICAgICAgICAgICAgUVRhYmxlV2lkZ2V0SXRlbShyb3cucHVibGlzaGVkX2F0KSwKICAgICAgICAgICAgUVRhYmxlV2lkZ2V0SXRlbShyb3cuYWxpYXMpLAogICAgICAgICAgICBRVGFibGVXaWRnZXRJdGVtKHJvdy5zb3VyY2UpLAogICAgICAgICAgICBRVGFibGVXaWRnZXRJdGVtKHJvdy5sYW5nKSwKICAgICAgICAgICAgUVRhYmxlV2lkZ2V0SXRlbShzdHIocm93LmV2ZW50X2NvdW50KSksCiAgICAgICAgICAgIFFUYWJsZVdpZGdldEl0ZW0ocm93LnRleHRfc25pcHBldCksCiAgICAgICAgXQogICAgICAgIGZvciBjLCBpdGVtIGluIGVudW1lcmF0ZShpdGVtcyk6CiAgICAgICAgICAgIGl0ZW0uc2V0RmxhZ3MoaXRlbS5mbGFncygpICYgflF0Lkl0ZW1Jc0VkaXRhYmxlKQogICAgICAgICAgICBzZWxmLnRhYmxlLnNldEl0ZW0ocm93X2lkeCwgYywgaXRlbSkKCiAgICBkZWYgX29uX3Bvc3Rfc2VsZWN0ZWQoc2VsZikgLT4gTm9uZToKICAgICAgICBpdGVtcyA9IHNlbGYudGFibGUuc2VsZWN0ZWRJdGVtcygpCiAgICAgICAgaWYgbm90IGl0ZW1zOgogICAgICAgICAgICBzZWxmLmJ0bl9leHRyYWN0LnNldEVuYWJsZWQoRmFsc2UpCiAgICAgICAgICAgIHNlbGYucG9zdF9kZXRhaWwuY2xlYXIoKQogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgc2VsZi5idG5fZXh0cmFjdC5zZXRFbmFibGVkKFRydWUpCiAgICAgICAgcm93cyA9IHNlbGYuaW5nZXN0LnF1ZXJ5X3Bvc3RzKEluZ2VzdFBvc3RGaWx0ZXIoKSkKICAgICAgICBkZXRhaWwgPSBzZWxmLmluZ2VzdC5nZXRfcG9zdChyb3dzW2l0ZW1zWzBdLnJvdygpXS5wb3N0X2lkKQogICAgICAgIHNlbGYucG9zdF9kZXRhaWwuc2V0UGxhaW5UZXh0KGRldGFpbC50ZXh0KQoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIFNvdXJjZXMgLyBGZXRjaCAodW5jaGFuZ2VkKQogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBkZWYgX2xvYWRfc291cmNlcyhzZWxmKSAtPiBOb25lOgogICAgICAgIHNlbGYuc291cmNlX2xpc3QuY2xlYXIoKQogICAgICAgIGZvciBzcmMgaW4gc2VsZi5zb3VyY2VzLmxvYWRfc291cmNlcygpOgogICAgICAgICAgICBsYWJlbCA9IHNyYy5hbGlhcyArICgiIiBpZiBzcmMuYWN0aXZlIGVsc2UgIiAoaW5hY3RpdmUpIikKICAgICAgICAgICAgaXRlbSA9IFFMaXN0V2lkZ2V0SXRlbShsYWJlbCkKICAgICAgICAgICAgaXRlbS5zZXREYXRhKFF0LlVzZXJSb2xlLCBzcmMpCiAgICAgICAgICAgIGlmIG5vdCBzcmMuYWN0aXZlOgogICAgICAgICAgICAgICAgaXRlbS5zZXRGb3JlZ3JvdW5kKFF0LmdyYXkpCiAgICAgICAgICAgIHNlbGYuc291cmNlX2xpc3QuYWRkSXRlbShpdGVtKQoKICAgIGRlZiBfc2VsZWN0ZWRfc291cmNlcyhzZWxmKSAtPiBMaXN0W1NvdXJjZVJlY29yZF06CiAgICAgICAgcmV0dXJuIFsKICAgICAgICAgICAgaS5kYXRhKFF0LlVzZXJSb2xlKQogICAgICAgICAgICBmb3IgaSBpbiBzZWxmLnNvdXJjZV9saXN0LnNlbGVjdGVkSXRlbXMoKQogICAgICAgICAgICBpZiBpc2luc3RhbmNlKGkuZGF0YShRdC5Vc2VyUm9sZSksIFNvdXJjZVJlY29yZCkKICAgICAgICBdCgogICAgZGVmIF9zZWxlY3RlZF9zb3VyY2VfbmFtZXMoc2VsZikgLT4gTGlzdFtzdHJdOgogICAgICAgIHJldHVybiBbcy5zb3VyY2VfbmFtZSBmb3IgcyBpbiBzZWxmLl9zZWxlY3RlZF9zb3VyY2VzKCldCgogICAgZGVmIF9vbl9zb3VyY2Vfc2VsZWN0aW9uX2NoYW5nZWQoc2VsZikgLT4gTm9uZToKICAgICAgICBpdGVtcyA9IHNlbGYuX3NlbGVjdGVkX3NvdXJjZXMoKQogICAgICAgIGlmIGxlbihpdGVtcykgPT0gMToKICAgICAgICAgICAgc2VsZi5fbG9hZF9zb3VyY2VfaW50b19lZGl0b3IoaXRlbXNbMF0pCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc2VsZi5fbG9hZGVkX3NvdXJjZV9uYW1lID0gTm9uZQoKICAgIGRlZiBfY2xlYXJfZWRpdG9yX2ZpZWxkcyhzZWxmKSAtPiBOb25lOgogICAgICAgIHNlbGYuZWRfc291cmNlX25hbWUuY2xlYXIoKQogICAgICAgIHNlbGYuZWRfYWxpYXMuY2xlYXIoKQogICAgICAgIHNlbGYuZWRfbGFuZy5jbGVhcigpCiAgICAgICAgc2VsZi5lZF9hY3RpdmUuc2V0Q2hlY2tlZChUcnVlKQogICAgICAgIHNlbGYuZWRfa2luZC5zZXRDdXJyZW50SW5kZXgoMCkKICAgICAgICBzZWxmLl9lZGl0aW5nX25ldyA9IEZhbHNlCiAgICAgICAgc2VsZi5fbG9hZGVkX3NvdXJjZV9uYW1lID0gTm9uZQoKICAgIGRlZiBfbG9hZF9zb3VyY2VfaW50b19lZGl0b3Ioc2VsZiwgc3JjOiBTb3VyY2VSZWNvcmQpIC0+IE5vbmU6CiAgICAgICAgc2VsZi5fZWRpdGluZ19uZXcgPSBGYWxzZQogICAgICAgIHNlbGYuX2xvYWRlZF9zb3VyY2VfbmFtZSA9IHNyYy5zb3VyY2VfbmFtZQogICAgICAgIHNlbGYuZWRfc291cmNlX25hbWUuc2V0VGV4dChzcmMuc291cmNlX25hbWUpCiAgICAgICAgc2VsZi5lZF9hbGlhcy5zZXRUZXh0KHNyYy5hbGlhcykKICAgICAgICBzZWxmLmVkX2tpbmQuc2V0Q3VycmVudFRleHQoc3JjLnNvdXJjZV9raW5kKQogICAgICAgIHNlbGYuZWRfbGFuZy5zZXRUZXh0KHNyYy5zb3VyY2VfbGFuZykKICAgICAgICBzZWxmLmVkX2FjdGl2ZS5zZXRDaGVja2VkKHNyYy5hY3RpdmUpCgogICAgZGVmIF9uZXdfc291cmNlKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgc2VsZi5fZWRpdGluZ19uZXcgPSBUcnVlCiAgICAgICAgc2VsZi5fbG9hZGVkX3NvdXJjZV9uYW1lID0gTm9uZQogICAgICAgIHNlbGYuX2NsZWFyX2VkaXRvcl9maWVsZHMoKQoKICAgIGRlZiBfcmV2ZXJ0X3NvdXJjZShzZWxmKSAtPiBOb25lOgogICAgICAgIGlmIG5vdCBzZWxmLl9sb2FkZWRfc291cmNlX25hbWU6CiAgICAgICAgICAgIHJldHVybgogICAgICAgIGZvciBzIGluIHNlbGYuc291cmNlcy5sb2FkX3NvdXJjZXMoKToKICAgICAgICAgICAgaWYgcy5zb3VyY2VfbmFtZSA9PSBzZWxmLl9sb2FkZWRfc291cmNlX25hbWU6CiAgICAgICAgICAgICAgICBzZWxmLl9sb2FkX3NvdXJjZV9pbnRvX2VkaXRvcihzKQogICAgICAgICAgICAgICAgcmV0dXJuCgogICAgZGVmIF9zYXZlX3NvdXJjZShzZWxmKSAtPiBOb25lOgogICAgICAgIHJlY29yZCA9IFNvdXJjZVJlY29yZCgKICAgICAgICAgICAgc291cmNlX25hbWU9c2VsZi5lZF9zb3VyY2VfbmFtZS50ZXh0KCkuc3RyaXAoKSwKICAgICAgICAgICAgYWxpYXM9c2VsZi5lZF9hbGlhcy50ZXh0KCkuc3RyaXAoKSwKICAgICAgICAgICAgc291cmNlX2tpbmQ9c2VsZi5lZF9raW5kLmN1cnJlbnRUZXh0KCkuc3RyaXAoKSwKICAgICAgICAgICAgc291cmNlX2xhbmc9c2VsZi5lZF9sYW5nLnRleHQoKS5zdHJpcCgpLAogICAgICAgICAgICBhY3RpdmU9c2VsZi5lZF9hY3RpdmUuaXNDaGVja2VkKCksCiAgICAgICAgKQogICAgICAgIGlmIHNlbGYuX2VkaXRpbmdfbmV3IG9yIG5vdCBzZWxmLl9sb2FkZWRfc291cmNlX25hbWU6CiAgICAgICAgICAgIHNlbGYuc291cmNlcy5hZGRfc291cmNlKHJlY29yZCkKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZWxmLnNvdXJjZXMucmVwbGFjZV9zb3VyY2Uoc2VsZi5fbG9hZGVkX3NvdXJjZV9uYW1lLCByZWNvcmQpCiAgICAgICAgc2VsZi5fbG9hZF9zb3VyY2VzKCkKICAgICAgICBzZWxmLl9jbGVhcl9lZGl0b3JfZmllbGRzKCkKCiAgICBkZWYgX2RlbGV0ZV9zb3VyY2Uoc2VsZikgLT4gTm9uZToKICAgICAgICBpZiBub3Qgc2VsZi5fbG9hZGVkX3NvdXJjZV9uYW1lOgogICAgICAgICAgICByZXR1cm4KICAgICAgICBpZiBRTWVzc2FnZUJveC5xdWVzdGlvbihzZWxmLCAiRGVsZXRlIFNvdXJjZSIsICJIYXJkIGRlbGV0ZSB0aGlzIHNvdXJjZT8iKSAhPSBRTWVzc2FnZUJveC5ZZXM6CiAgICAgICAgICAgIHJldHVybgogICAgICAgIHNlbGYuc291cmNlcy5kZWxldGVfc291cmNlX2hhcmQoc2VsZi5fbG9hZGVkX3NvdXJjZV9uYW1lKQogICAgICAgIHNlbGYuX2xvYWRfc291cmNlcygpCiAgICAgICAgc2VsZi5fY2xlYXJfZWRpdG9yX2ZpZWxkcygpCgogICAgZGVmIF9zZXRfYWN0aXZlKHNlbGYsIGFjdGl2ZTogYm9vbCkgLT4gTm9uZToKICAgICAgICBuYW1lcyA9IHNlbGYuX3NlbGVjdGVkX3NvdXJjZV9uYW1lcygpCiAgICAgICAgaWYgbmFtZXM6CiAgICAgICAgICAgIHNlbGYuc291cmNlcy5zZXRfYWN0aXZlKG5hbWVzLCBhY3RpdmUpCiAgICAgICAgICAgIHNlbGYuX2xvYWRfc291cmNlcygpCgogICAgZGVmIF9yZW1vdmVfc291cmNlcyhzZWxmKSAtPiBOb25lOgogICAgICAgIG5hbWVzID0gc2VsZi5fc2VsZWN0ZWRfc291cmNlX25hbWVzKCkKICAgICAgICBpZiBub3QgbmFtZXM6CiAgICAgICAgICAgIHJldHVybgogICAgICAgIGlmIFFNZXNzYWdlQm94LnF1ZXN0aW9uKHNlbGYsICJSZW1vdmUgU291cmNlcyIsICJIYXJkIGRlbGV0ZSBzZWxlY3RlZCBzb3VyY2VzPyIpICE9IFFNZXNzYWdlQm94LlllczoKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgZm9yIG4gaW4gbmFtZXM6CiAgICAgICAgICAgIHNlbGYuc291cmNlcy5kZWxldGVfc291cmNlX2hhcmQobikKICAgICAgICBzZWxmLl9sb2FkX3NvdXJjZXMoKQogICAgICAgIHNlbGYuX2NsZWFyX2VkaXRvcl9maWVsZHMoKQoKICAgIGRlZiBfZmV0Y2hfc2VsZWN0ZWQoc2VsZikgLT4gTm9uZToKICAgICAgICBuYW1lcyA9IHNlbGYuX3NlbGVjdGVkX3NvdXJjZV9uYW1lcygpCiAgICAgICAgaWYgbmFtZXM6CiAgICAgICAgICAgIHNlbGYuX2ZldGNoKG5hbWVzKQoKICAgIGRlZiBfZmV0Y2hfYWxsKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgbmFtZXMgPSBbcy5zb3VyY2VfbmFtZSBmb3IgcyBpbiBzZWxmLnNvdXJjZXMubG9hZF9zb3VyY2VzKCkgaWYgcy5hY3RpdmVdCiAgICAgICAgc2VsZi5fZmV0Y2gobmFtZXMpCgogICAgZGVmIF9mZXRjaChzZWxmLCBzb3VyY2VfbmFtZXM6IExpc3Rbc3RyXSkgLT4gTm9uZToKICAgICAgICByZXN1bHRzID0gc2VsZi5zb3VyY2VzLmZldGNoX3NvdXJjZXMoCiAgICAgICAgICAgIHNvdXJjZV9uYW1lcz1zb3VyY2VfbmFtZXMsCiAgICAgICAgICAgIHN0YXJ0X2RhdGU9c2VsZi5mZXRjaF9mcm9tLmRhdGUoKS50b1N0cmluZygieXl5eS1NTS1kZCIpLAogICAgICAgICAgICBlbmRfZGF0ZT1zZWxmLmZldGNoX3RvLmRhdGUoKS50b1N0cmluZygieXl5eS1NTS1kZCIpLAogICAgICAgICAgICBmb3JjZT1zZWxmLmZvcmNlX2NoZWNrLmlzQ2hlY2tlZCgpLAogICAgICAgICkKICAgICAgICBmb3IgciBpbiByZXN1bHRzOgogICAgICAgICAgICBzZWxmLmZldGNoX2xvZy5hZGQoCiAgICAgICAgICAgICAgICBGZXRjaExvZ0VudHJ5KAogICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcD1yLnRpbWVzdGFtcCwKICAgICAgICAgICAgICAgICAgICBzb3VyY2VfbmFtZT1yLnNvdXJjZV9uYW1lLAogICAgICAgICAgICAgICAgICAgIHNvdXJjZV9raW5kPXIuc291cmNlX2tpbmQsCiAgICAgICAgICAgICAgICAgICAgc3RhcnRfZGF0ZT1yLnN0YXJ0X2RhdGUsCiAgICAgICAgICAgICAgICAgICAgZW5kX2RhdGU9ci5lbmRfZGF0ZSwKICAgICAgICAgICAgICAgICAgICBmb3JjZT1yLmZvcmNlLAogICAgICAgICAgICAgICAgICAgIGZldGNoZWRfY291bnQ9ci5mZXRjaGVkX2NvdW50LAogICAgICAgICAgICAgICAgICAgIGVycm9yPXIuZXJyb3IsCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICkKICAgICAgICBzZWxmLl9yZWZyZXNoX2ZldGNoX2xvZygpCiAgICAgICAgc2VsZi5fbG9hZF9wb3N0cygpCgogICAgZGVmIF9yZWZyZXNoX2ZldGNoX2xvZyhzZWxmKSAtPiBOb25lOgogICAgICAgIGxpbmVzID0gW10KICAgICAgICBmb3IgZSBpbiBzZWxmLmZldGNoX2xvZy5lbnRyaWVzKCk6CiAgICAgICAgICAgIHN0YXR1cyA9ICJFUlJPUiIgaWYgZS5lcnJvciBlbHNlIGYie2UuZmV0Y2hlZF9jb3VudH0gcG9zdHMiCiAgICAgICAgICAgIGxpbmVzLmFwcGVuZChmIlt7ZS50aW1lc3RhbXB9XSB7ZS5zb3VyY2VfbmFtZX0gKHtlLnNvdXJjZV9raW5kfSkg4oaSIHtzdGF0dXN9IikKICAgICAgICAgICAgaWYgZS5lcnJvcjoKICAgICAgICAgICAgICAgIGxpbmVzLmFwcGVuZChmIiAgICB7ZS5lcnJvcn0iKQogICAgICAgIHNlbGYuZmV0Y2hfbG9nX3ZpZXcuc2V0UGxhaW5UZXh0KCJcbiIuam9pbihsaW5lcykpCgogICAgZGVmIF9vbl9leHRyYWN0X2ZpbmlzaGVkKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgaWYgc2VsZi5fcHJvZ3Jlc3M6CiAgICAgICAgICAgIHNlbGYuX3Byb2dyZXNzLmNsb3NlKCkKICAgICAgICAgICAgc2VsZi5fcHJvZ3Jlc3MgPSBOb25lCgogICAgICAgIHNlbGYuYnRuX2V4dHJhY3Quc2V0RW5hYmxlZChUcnVlKQogICAgICAgIHNlbGYuX2xvYWRfcG9zdHMoKQoKICAgICAgICAjIOKchSByZXF1ZXN0IG5hdmlnYXRpb24gdG8gcmV2aWV3CiAgICAgICAgc2VsZi5yZXZpZXdfcmVxdWVzdGVkLmVtaXQoKQo",
					"AQAAAAAAAAABAAAAAAAAAAAAAABmRAAAAAAAAAAAAAAAAPC/"
				],
				[
					38,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABpRAAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSB0eXBpbmcgaW1wb3J0IE9wdGlvbmFsLCBMaXN0Cgpmcm9tIFB5U2lkZTYuUXRDb3JlIGltcG9ydCBRdCwgUURhdGUsIFFUaHJlYWQsIFNpZ25hbCwgUU9iamVjdCwgU2xvdApmcm9tIFB5U2lkZTYuUXRXaWRnZXRzIGltcG9ydCAoCiAgICBRV2lkZ2V0LAogICAgUVZCb3hMYXlvdXQsCiAgICBRSEJveExheW91dCwKICAgIFFMYWJlbCwKICAgIFFQdXNoQnV0dG9uLAogICAgUURhdGVFZGl0LAogICAgUVRhYmxlV2lkZ2V0LAogICAgUVRhYmxlV2lkZ2V0SXRlbSwKICAgIFFBYnN0cmFjdEl0ZW1WaWV3LAogICAgUVRleHRFZGl0LAogICAgUVNwbGl0dGVyLAogICAgUUxpc3RXaWRnZXQsCiAgICBRTGlzdFdpZGdldEl0ZW0sCiAgICBRVGFiV2lkZ2V0LAogICAgUUNoZWNrQm94LAogICAgUU1lc3NhZ2VCb3gsCiAgICBRQ29tYm9Cb3gsCiAgICBRR3JvdXBCb3gsCiAgICBRRm9ybUxheW91dCwKICAgIFFMaW5lRWRpdCwKICAgIFFQcm9ncmVzc0RpYWxvZywKKQoKZnJvbSBzaXRyZXBjMi5ndWkuaW5nZXN0LmNvbnRyb2xsZXIgaW1wb3J0ICgKICAgIEluZ2VzdENvbnRyb2xsZXIsCiAgICBJbmdlc3RQb3N0RmlsdGVyLAogICAgSW5nZXN0UG9zdFN0YXRlLAopCmZyb20gc2l0cmVwYzIuZ3VpLmluZ2VzdC5zb3VyY2VfY29udHJvbGxlciBpbXBvcnQgKAogICAgU291cmNlQ29udHJvbGxlciwKICAgIFNvdXJjZVJlY29yZCwKKQpmcm9tIHNpdHJlcGMyLmd1aS5pbmdlc3QuZmV0Y2hfbG9nX21vZGVsIGltcG9ydCAoCiAgICBGZXRjaExvZ01vZGVsLAogICAgRmV0Y2hMb2dFbnRyeSwKKQoKZnJvbSBzaXRyZXBjMi5sc3MucGlwZWxpbmUgaW1wb3J0IHJ1bl9sc3NfcGlwZWxpbmUKCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQojIExpZmVjeWNsZSB2aXN1YWxzCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKU1RBVEVfSUNPTiA9IHsKICAgIEluZ2VzdFBvc3RTdGF0ZS5SQVc6ICLij7oiLAogICAgSW5nZXN0UG9zdFN0YXRlLkxTU19SVU5OSU5HOiAi8J+UhCIsCiAgICBJbmdlc3RQb3N0U3RhdGUuTk9fRVZFTlRTOiAi4pqgIiwKICAgIEluZ2VzdFBvc3RTdGF0ZS5SRUFEWV9GT1JfUkVWSUVXOiAi8J+foSIsCiAgICBJbmdlc3RQb3N0U3RhdGUuQ09NTUlUVEVEOiAi4pyFIiwKfQoKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiMgTFNTIFdvcmtlciAoUU9iamVjdCDigJQgQ09SUkVDVCBQQVRURVJOKQojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCmNsYXNzIExTU1dvcmtlcihRT2JqZWN0KToKICAgIGZpbmlzaGVkX29rID0gU2lnbmFsKCkKICAgIGZhaWxlZCA9IFNpZ25hbChzdHIpCgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgcG9zdHM6IGxpc3RbZGljdF0sCiAgICAgICAgKiwKICAgICAgICByZXByb2Nlc3M6IGJvb2wsCiAgICApIC0+IE5vbmU6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCiAgICAgICAgc2VsZi5fcG9zdHMgPSBwb3N0cwogICAgICAgIHNlbGYuX3JlcHJvY2VzcyA9IHJlcHJvY2VzcwoKICAgIEBTbG90KCkKICAgIGRlZiBydW4oc2VsZikgLT4gTm9uZToKICAgICAgICB0cnk6CiAgICAgICAgICAgIHJ1bl9sc3NfcGlwZWxpbmUoCiAgICAgICAgICAgICAgICBzZWxmLl9wb3N0cywKICAgICAgICAgICAgICAgIHJlcHJvY2Vzcz1zZWxmLl9yZXByb2Nlc3MsCiAgICAgICAgICAgICkKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGV4YzoKICAgICAgICAgICAgc2VsZi5mYWlsZWQuZW1pdChzdHIoZXhjKSkKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIHNlbGYuZmluaXNoZWRfb2suZW1pdCgpCgojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KIyBJbmdlc3QgV29ya3NwYWNlCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKY2xhc3MgSW5nZXN0V29ya3NwYWNlKFFXaWRnZXQpOgogICAgZXh0cmFjdGlvbl9jb21wbGV0ZWQgPSBTaWduYWwoKQogICAgcmV2aWV3X3JlcXVlc3RlZCA9IFNpZ25hbCgpCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHBhcmVudDogT3B0aW9uYWxbUVdpZGdldF0gPSBOb25lKSAtPiBOb25lOgogICAgICAgIHN1cGVyKCkuX19pbml0X18ocGFyZW50KQoKICAgICAgICBzZWxmLmluZ2VzdCA9IEluZ2VzdENvbnRyb2xsZXIoKQogICAgICAgIHNlbGYuc291cmNlcyA9IFNvdXJjZUNvbnRyb2xsZXIoKQogICAgICAgIHNlbGYuZmV0Y2hfbG9nID0gRmV0Y2hMb2dNb2RlbCgpCgogICAgICAgIHNlbGYuX2VkaXRpbmdfbmV3ID0gRmFsc2UKICAgICAgICBzZWxmLl9sb2FkZWRfc291cmNlX25hbWU6IE9wdGlvbmFsW3N0cl0gPSBOb25lCgogICAgICAgIHNlbGYuX3Byb2dyZXNzOiBPcHRpb25hbFtRUHJvZ3Jlc3NEaWFsb2ddID0gTm9uZQogICAgICAgIHNlbGYuX2xzc190aHJlYWQ6IE9wdGlvbmFsW1FUaHJlYWRdID0gTm9uZQogICAgICAgIHNlbGYuX2xzc193b3JrZXI6IE9wdGlvbmFsW0xTU1dvcmtlcl0gPSBOb25lCgogICAgICAgIHNlbGYuX2J1aWxkX3VpKCkKICAgICAgICBzZWxmLl9sb2FkX3NvdXJjZXMoKQogICAgICAgIHNlbGYuX2xvYWRfcG9zdHMoKQoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIFVJCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGRlZiBfYnVpbGRfdWkoc2VsZikgLT4gTm9uZToKICAgICAgICByb290ID0gUVZCb3hMYXlvdXQoc2VsZikKCiAgICAgICAgdG9vbGJhciA9IFFIQm94TGF5b3V0KCkKCiAgICAgICAgc2VsZi5idG5fZW5hYmxlID0gUVB1c2hCdXR0b24oIkVuYWJsZSIpCiAgICAgICAgc2VsZi5idG5fZGlzYWJsZSA9IFFQdXNoQnV0dG9uKCJEaXNhYmxlIikKICAgICAgICBzZWxmLmJ0bl9yZW1vdmUgPSBRUHVzaEJ1dHRvbigiUmVtb3ZlIikKCiAgICAgICAgc2VsZi5mZXRjaF9mcm9tID0gUURhdGVFZGl0KCkKICAgICAgICBzZWxmLmZldGNoX3RvID0gUURhdGVFZGl0KCkKICAgICAgICBzZWxmLmZvcmNlX2NoZWNrID0gUUNoZWNrQm94KCJGb3JjZSIpCgogICAgICAgIHRvZGF5ID0gUURhdGUuY3VycmVudERhdGUoKQogICAgICAgIHNlbGYuZmV0Y2hfZnJvbS5zZXREYXRlKHRvZGF5LmFkZERheXMoLTEpKQogICAgICAgIHNlbGYuZmV0Y2hfdG8uc2V0RGF0ZSh0b2RheSkKCiAgICAgICAgZm9yIHcgaW4gKHNlbGYuZmV0Y2hfZnJvbSwgc2VsZi5mZXRjaF90byk6CiAgICAgICAgICAgIHcuc2V0Q2FsZW5kYXJQb3B1cChUcnVlKQogICAgICAgICAgICB3LnNldERpc3BsYXlGb3JtYXQoInl5eXktTU0tZGQiKQoKICAgICAgICBzZWxmLmJ0bl9mZXRjaF9zZWxlY3RlZCA9IFFQdXNoQnV0dG9uKCJGZXRjaCBTZWxlY3RlZCIpCiAgICAgICAgc2VsZi5idG5fZmV0Y2hfYWxsID0gUVB1c2hCdXR0b24oIkZldGNoIEFsbCBFbmFibGVkIikKCiAgICAgICAgdG9vbGJhci5hZGRXaWRnZXQoc2VsZi5idG5fZW5hYmxlKQogICAgICAgIHRvb2xiYXIuYWRkV2lkZ2V0KHNlbGYuYnRuX2Rpc2FibGUpCiAgICAgICAgdG9vbGJhci5hZGRXaWRnZXQoc2VsZi5idG5fcmVtb3ZlKQogICAgICAgIHRvb2xiYXIuYWRkU3BhY2luZygyMCkKICAgICAgICB0b29sYmFyLmFkZFdpZGdldChRTGFiZWwoIkZldGNoIGZyb206IikpCiAgICAgICAgdG9vbGJhci5hZGRXaWRnZXQoc2VsZi5mZXRjaF9mcm9tKQogICAgICAgIHRvb2xiYXIuYWRkV2lkZ2V0KFFMYWJlbCgidG86IikpCiAgICAgICAgdG9vbGJhci5hZGRXaWRnZXQoc2VsZi5mZXRjaF90bykKICAgICAgICB0b29sYmFyLmFkZFdpZGdldChzZWxmLmZvcmNlX2NoZWNrKQogICAgICAgIHRvb2xiYXIuYWRkU3BhY2luZygyMCkKICAgICAgICB0b29sYmFyLmFkZFdpZGdldChzZWxmLmJ0bl9mZXRjaF9zZWxlY3RlZCkKICAgICAgICB0b29sYmFyLmFkZFdpZGdldChzZWxmLmJ0bl9mZXRjaF9hbGwpCiAgICAgICAgdG9vbGJhci5hZGRTdHJldGNoKCkKCiAgICAgICAgcm9vdC5hZGRMYXlvdXQodG9vbGJhcikKCiAgICAgICAgc3BsaXR0ZXIgPSBRU3BsaXR0ZXIoUXQuSG9yaXpvbnRhbCkKCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgICMgTGVmdDogU291cmNlcwogICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICAgICAgbGVmdCA9IFFXaWRnZXQoKQogICAgICAgIGxlZnRfbGF5b3V0ID0gUVZCb3hMYXlvdXQobGVmdCkKCiAgICAgICAgbGVmdF9sYXlvdXQuYWRkV2lkZ2V0KFFMYWJlbCgiU291cmNlcyIpKQogICAgICAgIHNlbGYuc291cmNlX2xpc3QgPSBRTGlzdFdpZGdldCgpCiAgICAgICAgc2VsZi5zb3VyY2VfbGlzdC5zZXRTZWxlY3Rpb25Nb2RlKFFBYnN0cmFjdEl0ZW1WaWV3LkV4dGVuZGVkU2VsZWN0aW9uKQogICAgICAgIHNlbGYuc291cmNlX2xpc3QuaXRlbVNlbGVjdGlvbkNoYW5nZWQuY29ubmVjdChzZWxmLl9vbl9zb3VyY2Vfc2VsZWN0aW9uX2NoYW5nZWQpCiAgICAgICAgbGVmdF9sYXlvdXQuYWRkV2lkZ2V0KHNlbGYuc291cmNlX2xpc3QsIHN0cmV0Y2g9MSkKCiAgICAgICAgZWRpdG9yX2JveCA9IFFHcm91cEJveCgiU291cmNlIEVkaXRvciIpCiAgICAgICAgZm9ybSA9IFFGb3JtTGF5b3V0KGVkaXRvcl9ib3gpCgogICAgICAgIHNlbGYuZWRfc291cmNlX25hbWUgPSBRTGluZUVkaXQoKQogICAgICAgIHNlbGYuZWRfYWxpYXMgPSBRTGluZUVkaXQoKQogICAgICAgIHNlbGYuZWRfa2luZCA9IFFDb21ib0JveCgpCiAgICAgICAgc2VsZi5lZF9raW5kLmFkZEl0ZW1zKFsiVEVMRUdSQU0iLCAiRkFDRUJPT0siLCAiVFdJVFRFUiIsICJIVFRQIl0pCiAgICAgICAgc2VsZi5lZF9sYW5nID0gUUxpbmVFZGl0KCkKICAgICAgICBzZWxmLmVkX2FjdGl2ZSA9IFFDaGVja0JveCgiQWN0aXZlIikKCiAgICAgICAgZm9ybS5hZGRSb3coIlNvdXJjZSBOYW1lIiwgc2VsZi5lZF9zb3VyY2VfbmFtZSkKICAgICAgICBmb3JtLmFkZFJvdygiQWxpYXMiLCBzZWxmLmVkX2FsaWFzKQogICAgICAgIGZvcm0uYWRkUm93KCJLaW5kIiwgc2VsZi5lZF9raW5kKQogICAgICAgIGZvcm0uYWRkUm93KCJMYW5ndWFnZSIsIHNlbGYuZWRfbGFuZykKICAgICAgICBmb3JtLmFkZFJvdygiIiwgc2VsZi5lZF9hY3RpdmUpCgogICAgICAgIGJ0bl9yb3cgPSBRSEJveExheW91dCgpCiAgICAgICAgc2VsZi5idG5fbmV3ID0gUVB1c2hCdXR0b24oIk5ldyIpCiAgICAgICAgc2VsZi5idG5fc2F2ZSA9IFFQdXNoQnV0dG9uKCJTYXZlIikKICAgICAgICBzZWxmLmJ0bl9yZXZlcnQgPSBRUHVzaEJ1dHRvbigiUmV2ZXJ0IikKICAgICAgICBzZWxmLmJ0bl9kZWxldGUgPSBRUHVzaEJ1dHRvbigiRGVsZXRlIikKCiAgICAgICAgZm9yIGIgaW4gKHNlbGYuYnRuX25ldywgc2VsZi5idG5fc2F2ZSwgc2VsZi5idG5fcmV2ZXJ0LCBzZWxmLmJ0bl9kZWxldGUpOgogICAgICAgICAgICBidG5fcm93LmFkZFdpZGdldChiKQoKICAgICAgICBmb3JtLmFkZFJvdyhidG5fcm93KQogICAgICAgIGxlZnRfbGF5b3V0LmFkZFdpZGdldChlZGl0b3JfYm94KQoKICAgICAgICBzcGxpdHRlci5hZGRXaWRnZXQobGVmdCkKCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgICMgUmlnaHQ6IFBvc3RzCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgICAgICByaWdodCA9IFFXaWRnZXQoKQogICAgICAgIHJpZ2h0X2xheW91dCA9IFFWQm94TGF5b3V0KHJpZ2h0KQoKICAgICAgICBzZWxmLnRhYmxlID0gUVRhYmxlV2lkZ2V0KCkKICAgICAgICBzZWxmLnRhYmxlLnNldENvbHVtbkNvdW50KDcpCiAgICAgICAgc2VsZi50YWJsZS5zZXRIb3Jpem9udGFsSGVhZGVyTGFiZWxzKAogICAgICAgICAgICBbIlN0YXRlIiwgIlB1Ymxpc2hlZCIsICJBbGlhcyIsICJTb3VyY2UiLCAiTGFuZyIsICJFdmVudHMiLCAiU25pcHBldCJdCiAgICAgICAgKQogICAgICAgIHNlbGYudGFibGUuc2V0U2VsZWN0aW9uQmVoYXZpb3IoUUFic3RyYWN0SXRlbVZpZXcuU2VsZWN0Um93cykKICAgICAgICBzZWxmLnRhYmxlLnNldEVkaXRUcmlnZ2VycyhRQWJzdHJhY3RJdGVtVmlldy5Ob0VkaXRUcmlnZ2VycykKICAgICAgICBzZWxmLnRhYmxlLnZlcnRpY2FsSGVhZGVyKCkuc2V0VmlzaWJsZShGYWxzZSkKICAgICAgICBzZWxmLnRhYmxlLml0ZW1TZWxlY3Rpb25DaGFuZ2VkLmNvbm5lY3Qoc2VsZi5fb25fcG9zdF9zZWxlY3RlZCkKICAgICAgICByaWdodF9sYXlvdXQuYWRkV2lkZ2V0KHNlbGYudGFibGUpCgogICAgICAgIGV4dHJhY3RfYmFyID0gUUhCb3hMYXlvdXQoKQogICAgICAgIHNlbGYuY2hrX3JlcHJvY2VzcyA9IFFDaGVja0JveCgiUmVwcm9jZXNzIikKICAgICAgICBzZWxmLmJ0bl9leHRyYWN0ID0gUVB1c2hCdXR0b24oIkV4dHJhY3QgRXZlbnRzIikKICAgICAgICBzZWxmLmJ0bl9leHRyYWN0LnNldEVuYWJsZWQoRmFsc2UpCgogICAgICAgIGV4dHJhY3RfYmFyLmFkZFdpZGdldChzZWxmLmNoa19yZXByb2Nlc3MpCiAgICAgICAgZXh0cmFjdF9iYXIuYWRkV2lkZ2V0KHNlbGYuYnRuX2V4dHJhY3QpCiAgICAgICAgZXh0cmFjdF9iYXIuYWRkU3RyZXRjaCgpCgogICAgICAgIHJpZ2h0X2xheW91dC5hZGRMYXlvdXQoZXh0cmFjdF9iYXIpCgogICAgICAgIHNlbGYudGFicyA9IFFUYWJXaWRnZXQoKQogICAgICAgIHNlbGYucG9zdF9kZXRhaWwgPSBRVGV4dEVkaXQocmVhZE9ubHk9VHJ1ZSkKICAgICAgICBzZWxmLmZldGNoX2xvZ192aWV3ID0gUVRleHRFZGl0KHJlYWRPbmx5PVRydWUpCiAgICAgICAgc2VsZi50YWJzLmFkZFRhYihzZWxmLnBvc3RfZGV0YWlsLCAiUG9zdCBEZXRhaWwiKQogICAgICAgIHNlbGYudGFicy5hZGRUYWIoc2VsZi5mZXRjaF9sb2dfdmlldywgIkZldGNoIExvZyIpCiAgICAgICAgcmlnaHRfbGF5b3V0LmFkZFdpZGdldChzZWxmLnRhYnMpCgogICAgICAgIHNwbGl0dGVyLmFkZFdpZGdldChyaWdodCkKICAgICAgICBzcGxpdHRlci5zZXRTdHJldGNoRmFjdG9yKDEsIDMpCiAgICAgICAgcm9vdC5hZGRXaWRnZXQoc3BsaXR0ZXIpCgogICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICAjIFdpcmluZwogICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICAgICAgc2VsZi5idG5fZmV0Y2hfc2VsZWN0ZWQuY2xpY2tlZC5jb25uZWN0KHNlbGYuX2ZldGNoX3NlbGVjdGVkKQogICAgICAgIHNlbGYuYnRuX2ZldGNoX2FsbC5jbGlja2VkLmNvbm5lY3Qoc2VsZi5fZmV0Y2hfYWxsKQogICAgICAgIHNlbGYuYnRuX2VuYWJsZS5jbGlja2VkLmNvbm5lY3QobGFtYmRhOiBzZWxmLl9zZXRfYWN0aXZlKFRydWUpKQogICAgICAgIHNlbGYuYnRuX2Rpc2FibGUuY2xpY2tlZC5jb25uZWN0KGxhbWJkYTogc2VsZi5fc2V0X2FjdGl2ZShGYWxzZSkpCiAgICAgICAgc2VsZi5idG5fcmVtb3ZlLmNsaWNrZWQuY29ubmVjdChzZWxmLl9yZW1vdmVfc291cmNlcykKCiAgICAgICAgc2VsZi5idG5fbmV3LmNsaWNrZWQuY29ubmVjdChzZWxmLl9uZXdfc291cmNlKQogICAgICAgIHNlbGYuYnRuX3NhdmUuY2xpY2tlZC5jb25uZWN0KHNlbGYuX3NhdmVfc291cmNlKQogICAgICAgIHNlbGYuYnRuX3JldmVydC5jbGlja2VkLmNvbm5lY3Qoc2VsZi5fcmV2ZXJ0X3NvdXJjZSkKICAgICAgICBzZWxmLmJ0bl9kZWxldGUuY2xpY2tlZC5jb25uZWN0KHNlbGYuX2RlbGV0ZV9zb3VyY2UpCgogICAgICAgIHNlbGYuYnRuX2V4dHJhY3QuY2xpY2tlZC5jb25uZWN0KHNlbGYuX2V4dHJhY3Rfc2VsZWN0ZWRfcG9zdHMpCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICMgRXh0cmFjdGlvbiAoRklYRUQgVEhSRUFESU5HKQogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBkZWYgX2V4dHJhY3Rfc2VsZWN0ZWRfcG9zdHMoc2VsZikgLT4gTm9uZToKICAgICAgICByb3dzID0gc2VsZi5pbmdlc3QucXVlcnlfcG9zdHMoSW5nZXN0UG9zdEZpbHRlcigpKQoKICAgICAgICBwb3N0X2lkcyA9IHNvcnRlZCh7CiAgICAgICAgICAgIHJvd3NbaXRlbS5yb3coKV0ucG9zdF9pZAogICAgICAgICAgICBmb3IgaXRlbSBpbiBzZWxmLnRhYmxlLnNlbGVjdGVkSXRlbXMoKQogICAgICAgIH0pCgogICAgICAgIGlmIG5vdCBwb3N0X2lkczoKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIHBvc3RzOiBsaXN0W2RpY3RdID0gW10KICAgICAgICBmb3Igcm93IGluIHJvd3M6CiAgICAgICAgICAgIGlmIHJvdy5wb3N0X2lkIGluIHBvc3RfaWRzOgogICAgICAgICAgICAgICAgZGV0YWlsID0gc2VsZi5pbmdlc3QuZ2V0X3Bvc3Qocm93LnBvc3RfaWQpCiAgICAgICAgICAgICAgICBwb3N0cy5hcHBlbmQoewogICAgICAgICAgICAgICAgICAgICJpZCI6IHJvdy5wb3N0X2lkLAogICAgICAgICAgICAgICAgICAgICJ0ZXh0IjogZGV0YWlsLnRleHQsCiAgICAgICAgICAgICAgICB9KQoKICAgICAgICBpZiBub3QgcG9zdHM6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICBzZWxmLmJ0bl9leHRyYWN0LnNldEVuYWJsZWQoRmFsc2UpCgogICAgICAgIHNlbGYuX3Byb2dyZXNzID0gUVByb2dyZXNzRGlhbG9nKAogICAgICAgICAgICAiRXh0cmFjdGluZyBldmVudHPigKYiLAogICAgICAgICAgICBOb25lLAogICAgICAgICAgICAwLAogICAgICAgICAgICAwLAogICAgICAgICAgICBzZWxmLAogICAgICAgICkKICAgICAgICBzZWxmLl9wcm9ncmVzcy5zZXRXaW5kb3dNb2RhbGl0eShRdC5Ob25Nb2RhbCkKICAgICAgICBzZWxmLl9wcm9ncmVzcy5zZXRNaW5pbXVtRHVyYXRpb24oMCkKICAgICAgICBzZWxmLl9wcm9ncmVzcy5zaG93KCkKCiAgICAgICAgc2VsZi5fbHNzX3RocmVhZCA9IFFUaHJlYWQoc2VsZikKICAgICAgICBzZWxmLl9sc3Nfd29ya2VyID0gTFNTV29ya2VyKAogICAgICAgICAgICBwb3N0cywKICAgICAgICAgICAgcmVwcm9jZXNzPXNlbGYuY2hrX3JlcHJvY2Vzcy5pc0NoZWNrZWQoKSwKICAgICAgICApCiAgICAgICAgc2VsZi5fbHNzX3dvcmtlci5tb3ZlVG9UaHJlYWQoc2VsZi5fbHNzX3RocmVhZCkKCiAgICAgICAgc2VsZi5fbHNzX3RocmVhZC5zdGFydGVkLmNvbm5lY3Qoc2VsZi5fbHNzX3dvcmtlci5ydW4pCiAgICAgICAgc2VsZi5fbHNzX3dvcmtlci5maW5pc2hlZF9vay5jb25uZWN0KHNlbGYuX2xzc190aHJlYWQucXVpdCkKICAgICAgICBzZWxmLl9sc3Nfd29ya2VyLmZpbmlzaGVkX29rLmNvbm5lY3Qoc2VsZi5fbHNzX3dvcmtlci5kZWxldGVMYXRlcikKICAgICAgICBzZWxmLl9sc3NfdGhyZWFkLmZpbmlzaGVkLmNvbm5lY3Qoc2VsZi5fbHNzX3RocmVhZC5kZWxldGVMYXRlcikKCiAgICAgICAgc2VsZi5fbHNzX3dvcmtlci5maW5pc2hlZF9vay5jb25uZWN0KHNlbGYuX29uX2V4dHJhY3RfZmluaXNoZWQpCiAgICAgICAgc2VsZi5fbHNzX3dvcmtlci5mYWlsZWQuY29ubmVjdChzZWxmLl9vbl9leHRyYWN0X2ZhaWxlZCkKCiAgICAgICAgc2VsZi5fbHNzX3RocmVhZC5zdGFydCgpCgogICAgZGVmIF9vbl9leHRyYWN0X2ZpbmlzaGVkKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgaWYgc2VsZi5fcHJvZ3Jlc3M6CiAgICAgICAgICAgIHNlbGYuX3Byb2dyZXNzLmNsb3NlKCkKICAgICAgICAgICAgc2VsZi5fcHJvZ3Jlc3MgPSBOb25lCgogICAgICAgIHNlbGYuYnRuX2V4dHJhY3Quc2V0RW5hYmxlZChUcnVlKQogICAgICAgIHNlbGYuX2xvYWRfcG9zdHMoKQogICAgICAgIHNlbGYucmV2aWV3X3JlcXVlc3RlZC5lbWl0KCkKCiAgICBkZWYgX29uX2V4dHJhY3RfZmFpbGVkKHNlbGYsIG1lc3NhZ2U6IHN0cikgLT4gTm9uZToKICAgICAgICBpZiBzZWxmLl9wcm9ncmVzczoKICAgICAgICAgICAgc2VsZi5fcHJvZ3Jlc3MuY2xvc2UoKQogICAgICAgICAgICBzZWxmLl9wcm9ncmVzcyA9IE5vbmUKCiAgICAgICAgc2VsZi5idG5fZXh0cmFjdC5zZXRFbmFibGVkKFRydWUpCiAgICAgICAgUU1lc3NhZ2VCb3guY3JpdGljYWwoc2VsZiwgIkxTUyBFeHRyYWN0aW9uIEZhaWxlZCIsIG1lc3NhZ2UpCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICMgUG9zdHMKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIF9sb2FkX3Bvc3RzKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgcm93cyA9IHNlbGYuaW5nZXN0LnF1ZXJ5X3Bvc3RzKEluZ2VzdFBvc3RGaWx0ZXIoKSkKICAgICAgICBzZWxmLnRhYmxlLnNldFJvd0NvdW50KGxlbihyb3dzKSkKICAgICAgICBmb3Igciwgcm93IGluIGVudW1lcmF0ZShyb3dzKToKICAgICAgICAgICAgc2VsZi5fcG9wdWxhdGVfcm93KHIsIHJvdykKICAgICAgICBzZWxmLnRhYmxlLnJlc2l6ZUNvbHVtbnNUb0NvbnRlbnRzKCkKICAgICAgICBzZWxmLnRhYmxlLnNldENvbHVtbldpZHRoKDAsIDE2MCkKCiAgICBkZWYgX3BvcHVsYXRlX3JvdyhzZWxmLCByb3dfaWR4OiBpbnQsIHJvdykgLT4gTm9uZToKICAgICAgICBpY29uID0gU1RBVEVfSUNPTi5nZXQocm93LnN0YXRlLCAiIikKICAgICAgICB0ZXh0ID0gZiJ7aWNvbn0ge3Jvdy5zdGF0ZS52YWx1ZS5yZXBsYWNlKCdfJywgJyAnKX0iCiAgICAgICAgaXRlbXMgPSBbCiAgICAgICAgICAgIFFUYWJsZVdpZGdldEl0ZW0odGV4dCksCiAgICAgICAgICAgIFFUYWJsZVdpZGdldEl0ZW0ocm93LnB1Ymxpc2hlZF9hdCksCiAgICAgICAgICAgIFFUYWJsZVdpZGdldEl0ZW0ocm93LmFsaWFzKSwKICAgICAgICAgICAgUVRhYmxlV2lkZ2V0SXRlbShyb3cuc291cmNlKSwKICAgICAgICAgICAgUVRhYmxlV2lkZ2V0SXRlbShyb3cubGFuZyksCiAgICAgICAgICAgIFFUYWJsZVdpZGdldEl0ZW0oc3RyKHJvdy5ldmVudF9jb3VudCkpLAogICAgICAgICAgICBRVGFibGVXaWRnZXRJdGVtKHJvdy50ZXh0X3NuaXBwZXQpLAogICAgICAgIF0KICAgICAgICBmb3IgYywgaXRlbSBpbiBlbnVtZXJhdGUoaXRlbXMpOgogICAgICAgICAgICBpdGVtLnNldEZsYWdzKGl0ZW0uZmxhZ3MoKSAmIH5RdC5JdGVtSXNFZGl0YWJsZSkKICAgICAgICAgICAgc2VsZi50YWJsZS5zZXRJdGVtKHJvd19pZHgsIGMsIGl0ZW0pCgogICAgZGVmIF9vbl9wb3N0X3NlbGVjdGVkKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgaXRlbXMgPSBzZWxmLnRhYmxlLnNlbGVjdGVkSXRlbXMoKQogICAgICAgIGlmIG5vdCBpdGVtczoKICAgICAgICAgICAgc2VsZi5idG5fZXh0cmFjdC5zZXRFbmFibGVkKEZhbHNlKQogICAgICAgICAgICBzZWxmLnBvc3RfZGV0YWlsLmNsZWFyKCkKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIHNlbGYuYnRuX2V4dHJhY3Quc2V0RW5hYmxlZChUcnVlKQogICAgICAgIHJvd3MgPSBzZWxmLmluZ2VzdC5xdWVyeV9wb3N0cyhJbmdlc3RQb3N0RmlsdGVyKCkpCiAgICAgICAgZGV0YWlsID0gc2VsZi5pbmdlc3QuZ2V0X3Bvc3Qocm93c1tpdGVtc1swXS5yb3coKV0ucG9zdF9pZCkKICAgICAgICBzZWxmLnBvc3RfZGV0YWlsLnNldFBsYWluVGV4dChkZXRhaWwudGV4dCkKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBTb3VyY2VzIC8gRmV0Y2ggKFVOQ0hBTkdFRCkKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIF9sb2FkX3NvdXJjZXMoc2VsZikgLT4gTm9uZToKICAgICAgICBzZWxmLnNvdXJjZV9saXN0LmNsZWFyKCkKICAgICAgICBmb3Igc3JjIGluIHNlbGYuc291cmNlcy5sb2FkX3NvdXJjZXMoKToKICAgICAgICAgICAgbGFiZWwgPSBzcmMuYWxpYXMgKyAoIiIgaWYgc3JjLmFjdGl2ZSBlbHNlICIgKGluYWN0aXZlKSIpCiAgICAgICAgICAgIGl0ZW0gPSBRTGlzdFdpZGdldEl0ZW0obGFiZWwpCiAgICAgICAgICAgIGl0ZW0uc2V0RGF0YShRdC5Vc2VyUm9sZSwgc3JjKQogICAgICAgICAgICBpZiBub3Qgc3JjLmFjdGl2ZToKICAgICAgICAgICAgICAgIGl0ZW0uc2V0Rm9yZWdyb3VuZChRdC5ncmF5KQogICAgICAgICAgICBzZWxmLnNvdXJjZV9saXN0LmFkZEl0ZW0oaXRlbSkKCiAgICBkZWYgX3NlbGVjdGVkX3NvdXJjZXMoc2VsZikgLT4gTGlzdFtTb3VyY2VSZWNvcmRdOgogICAgICAgIHJldHVybiBbCiAgICAgICAgICAgIGkuZGF0YShRdC5Vc2VyUm9sZSkKICAgICAgICAgICAgZm9yIGkgaW4gc2VsZi5zb3VyY2VfbGlzdC5zZWxlY3RlZEl0ZW1zKCkKICAgICAgICAgICAgaWYgaXNpbnN0YW5jZShpLmRhdGEoUXQuVXNlclJvbGUpLCBTb3VyY2VSZWNvcmQpCiAgICAgICAgXQoKICAgIGRlZiBfc2VsZWN0ZWRfc291cmNlX25hbWVzKHNlbGYpIC0+IExpc3Rbc3RyXToKICAgICAgICByZXR1cm4gW3Muc291cmNlX25hbWUgZm9yIHMgaW4gc2VsZi5fc2VsZWN0ZWRfc291cmNlcygpXQoKICAgIGRlZiBfb25fc291cmNlX3NlbGVjdGlvbl9jaGFuZ2VkKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgaXRlbXMgPSBzZWxmLl9zZWxlY3RlZF9zb3VyY2VzKCkKICAgICAgICBpZiBsZW4oaXRlbXMpID09IDE6CiAgICAgICAgICAgIHNlbGYuX2xvYWRfc291cmNlX2ludG9fZWRpdG9yKGl0ZW1zWzBdKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNlbGYuX2xvYWRlZF9zb3VyY2VfbmFtZSA9IE5vbmUKCiAgICBkZWYgX2NsZWFyX2VkaXRvcl9maWVsZHMoc2VsZikgLT4gTm9uZToKICAgICAgICBzZWxmLmVkX3NvdXJjZV9uYW1lLmNsZWFyKCkKICAgICAgICBzZWxmLmVkX2FsaWFzLmNsZWFyKCkKICAgICAgICBzZWxmLmVkX2xhbmcuY2xlYXIoKQogICAgICAgIHNlbGYuZWRfYWN0aXZlLnNldENoZWNrZWQoVHJ1ZSkKICAgICAgICBzZWxmLmVkX2tpbmQuc2V0Q3VycmVudEluZGV4KDApCiAgICAgICAgc2VsZi5fZWRpdGluZ19uZXcgPSBGYWxzZQogICAgICAgIHNlbGYuX2xvYWRlZF9zb3VyY2VfbmFtZSA9IE5vbmUKCiAgICBkZWYgX2xvYWRfc291cmNlX2ludG9fZWRpdG9yKHNlbGYsIHNyYzogU291cmNlUmVjb3JkKSAtPiBOb25lOgogICAgICAgIHNlbGYuX2VkaXRpbmdfbmV3ID0gRmFsc2UKICAgICAgICBzZWxmLl9sb2FkZWRfc291cmNlX25hbWUgPSBzcmMuc291cmNlX25hbWUKICAgICAgICBzZWxmLmVkX3NvdXJjZV9uYW1lLnNldFRleHQoc3JjLnNvdXJjZV9uYW1lKQogICAgICAgIHNlbGYuZWRfYWxpYXMuc2V0VGV4dChzcmMuYWxpYXMpCiAgICAgICAgc2VsZi5lZF9raW5kLnNldEN1cnJlbnRUZXh0KHNyYy5zb3VyY2Vfa2luZCkKICAgICAgICBzZWxmLmVkX2xhbmcuc2V0VGV4dChzcmMuc291cmNlX2xhbmcpCiAgICAgICAgc2VsZi5lZF9hY3RpdmUuc2V0Q2hlY2tlZChzcmMuYWN0aXZlKQoKICAgIGRlZiBfbmV3X3NvdXJjZShzZWxmKSAtPiBOb25lOgogICAgICAgIHNlbGYuX2VkaXRpbmdfbmV3ID0gVHJ1ZQogICAgICAgIHNlbGYuX2xvYWRlZF9zb3VyY2VfbmFtZSA9IE5vbmUKICAgICAgICBzZWxmLl9jbGVhcl9lZGl0b3JfZmllbGRzKCkKCiAgICBkZWYgX3JldmVydF9zb3VyY2Uoc2VsZikgLT4gTm9uZToKICAgICAgICBpZiBub3Qgc2VsZi5fbG9hZGVkX3NvdXJjZV9uYW1lOgogICAgICAgICAgICByZXR1cm4KICAgICAgICBmb3IgcyBpbiBzZWxmLnNvdXJjZXMubG9hZF9zb3VyY2VzKCk6CiAgICAgICAgICAgIGlmIHMuc291cmNlX25hbWUgPT0gc2VsZi5fbG9hZGVkX3NvdXJjZV9uYW1lOgogICAgICAgICAgICAgICAgc2VsZi5fbG9hZF9zb3VyY2VfaW50b19lZGl0b3IocykKICAgICAgICAgICAgICAgIHJldHVybgoKICAgIGRlZiBfc2F2ZV9zb3VyY2Uoc2VsZikgLT4gTm9uZToKICAgICAgICByZWNvcmQgPSBTb3VyY2VSZWNvcmQoCiAgICAgICAgICAgIHNvdXJjZV9uYW1lPXNlbGYuZWRfc291cmNlX25hbWUudGV4dCgpLnN0cmlwKCksCiAgICAgICAgICAgIGFsaWFzPXNlbGYuZWRfYWxpYXMudGV4dCgpLnN0cmlwKCksCiAgICAgICAgICAgIHNvdXJjZV9raW5kPXNlbGYuZWRfa2luZC5jdXJyZW50VGV4dCgpLnN0cmlwKCksCiAgICAgICAgICAgIHNvdXJjZV9sYW5nPXNlbGYuZWRfbGFuZy50ZXh0KCkuc3RyaXAoKSwKICAgICAgICAgICAgYWN0aXZlPXNlbGYuZWRfYWN0aXZlLmlzQ2hlY2tlZCgpLAogICAgICAgICkKICAgICAgICBpZiBzZWxmLl9lZGl0aW5nX25ldyBvciBub3Qgc2VsZi5fbG9hZGVkX3NvdXJjZV9uYW1lOgogICAgICAgICAgICBzZWxmLnNvdXJjZXMuYWRkX3NvdXJjZShyZWNvcmQpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc2VsZi5zb3VyY2VzLnJlcGxhY2Vfc291cmNlKHNlbGYuX2xvYWRlZF9zb3VyY2VfbmFtZSwgcmVjb3JkKQogICAgICAgIHNlbGYuX2xvYWRfc291cmNlcygpCiAgICAgICAgc2VsZi5fY2xlYXJfZWRpdG9yX2ZpZWxkcygpCgogICAgZGVmIF9kZWxldGVfc291cmNlKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgaWYgbm90IHNlbGYuX2xvYWRlZF9zb3VyY2VfbmFtZToKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgaWYgUU1lc3NhZ2VCb3gucXVlc3Rpb24oc2VsZiwgIkRlbGV0ZSBTb3VyY2UiLCAiSGFyZCBkZWxldGUgdGhpcyBzb3VyY2U/IikgIT0gUU1lc3NhZ2VCb3guWWVzOgogICAgICAgICAgICByZXR1cm4KICAgICAgICBzZWxmLnNvdXJjZXMuZGVsZXRlX3NvdXJjZV9oYXJkKHNlbGYuX2xvYWRlZF9zb3VyY2VfbmFtZSkKICAgICAgICBzZWxmLl9sb2FkX3NvdXJjZXMoKQogICAgICAgIHNlbGYuX2NsZWFyX2VkaXRvcl9maWVsZHMoKQoKICAgIGRlZiBfc2V0X2FjdGl2ZShzZWxmLCBhY3RpdmU6IGJvb2wpIC0+IE5vbmU6CiAgICAgICAgbmFtZXMgPSBzZWxmLl9zZWxlY3RlZF9zb3VyY2VfbmFtZXMoKQogICAgICAgIGlmIG5hbWVzOgogICAgICAgICAgICBzZWxmLnNvdXJjZXMuc2V0X2FjdGl2ZShuYW1lcywgYWN0aXZlKQogICAgICAgICAgICBzZWxmLl9sb2FkX3NvdXJjZXMoKQoKICAgIGRlZiBfcmVtb3ZlX3NvdXJjZXMoc2VsZikgLT4gTm9uZToKICAgICAgICBuYW1lcyA9IHNlbGYuX3NlbGVjdGVkX3NvdXJjZV9uYW1lcygpCiAgICAgICAgaWYgbm90IG5hbWVzOgogICAgICAgICAgICByZXR1cm4KICAgICAgICBpZiBRTWVzc2FnZUJveC5xdWVzdGlvbihzZWxmLCAiUmVtb3ZlIFNvdXJjZXMiLCAiSGFyZCBkZWxldGUgc2VsZWN0ZWQgc291cmNlcz8iKSAhPSBRTWVzc2FnZUJveC5ZZXM6CiAgICAgICAgICAgIHJldHVybgogICAgICAgIGZvciBuIGluIG5hbWVzOgogICAgICAgICAgICBzZWxmLnNvdXJjZXMuZGVsZXRlX3NvdXJjZV9oYXJkKG4pCiAgICAgICAgc2VsZi5fbG9hZF9zb3VyY2VzKCkKICAgICAgICBzZWxmLl9jbGVhcl9lZGl0b3JfZmllbGRzKCkKCiAgICBkZWYgX2ZldGNoX3NlbGVjdGVkKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgbmFtZXMgPSBzZWxmLl9zZWxlY3RlZF9zb3VyY2VfbmFtZXMoKQogICAgICAgIGlmIG5hbWVzOgogICAgICAgICAgICBzZWxmLl9mZXRjaChuYW1lcykKCiAgICBkZWYgX2ZldGNoX2FsbChzZWxmKSAtPiBOb25lOgogICAgICAgIG5hbWVzID0gW3Muc291cmNlX25hbWUgZm9yIHMgaW4gc2VsZi5zb3VyY2VzLmxvYWRfc291cmNlcygpIGlmIHMuYWN0aXZlXQogICAgICAgIHNlbGYuX2ZldGNoKG5hbWVzKQoKICAgIGRlZiBfZmV0Y2goc2VsZiwgc291cmNlX25hbWVzOiBMaXN0W3N0cl0pIC0+IE5vbmU6CiAgICAgICAgcmVzdWx0cyA9IHNlbGYuc291cmNlcy5mZXRjaF9zb3VyY2VzKAogICAgICAgICAgICBzb3VyY2VfbmFtZXM9c291cmNlX25hbWVzLAogICAgICAgICAgICBzdGFydF9kYXRlPXNlbGYuZmV0Y2hfZnJvbS5kYXRlKCkudG9TdHJpbmcoInl5eXktTU0tZGQiKSwKICAgICAgICAgICAgZW5kX2RhdGU9c2VsZi5mZXRjaF90by5kYXRlKCkudG9TdHJpbmcoInl5eXktTU0tZGQiKSwKICAgICAgICAgICAgZm9yY2U9c2VsZi5mb3JjZV9jaGVjay5pc0NoZWNrZWQoKSwKICAgICAgICApCiAgICAgICAgZm9yIHIgaW4gcmVzdWx0czoKICAgICAgICAgICAgc2VsZi5mZXRjaF9sb2cuYWRkKAogICAgICAgICAgICAgICAgRmV0Y2hMb2dFbnRyeSgKICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA9ci50aW1lc3RhbXAsCiAgICAgICAgICAgICAgICAgICAgc291cmNlX25hbWU9ci5zb3VyY2VfbmFtZSwKICAgICAgICAgICAgICAgICAgICBzb3VyY2Vfa2luZD1yLnNvdXJjZV9raW5kLAogICAgICAgICAgICAgICAgICAgIHN0YXJ0X2RhdGU9ci5zdGFydF9kYXRlLAogICAgICAgICAgICAgICAgICAgIGVuZF9kYXRlPXIuZW5kX2RhdGUsCiAgICAgICAgICAgICAgICAgICAgZm9yY2U9ci5mb3JjZSwKICAgICAgICAgICAgICAgICAgICBmZXRjaGVkX2NvdW50PXIuZmV0Y2hlZF9jb3VudCwKICAgICAgICAgICAgICAgICAgICBlcnJvcj1yLmVycm9yLAogICAgICAgICAgICAgICAgKQogICAgICAgICAgICApCiAgICAgICAgc2VsZi5fcmVmcmVzaF9mZXRjaF9sb2coKQogICAgICAgIHNlbGYuX2xvYWRfcG9zdHMoKQoKICAgIGRlZiBfcmVmcmVzaF9mZXRjaF9sb2coc2VsZikgLT4gTm9uZToKICAgICAgICBsaW5lcyA9IFtdCiAgICAgICAgZm9yIGUgaW4gc2VsZi5mZXRjaF9sb2cuZW50cmllcygpOgogICAgICAgICAgICBzdGF0dXMgPSAiRVJST1IiIGlmIGUuZXJyb3IgZWxzZSBmIntlLmZldGNoZWRfY291bnR9IHBvc3RzIgogICAgICAgICAgICBsaW5lcy5hcHBlbmQoZiJbe2UudGltZXN0YW1wfV0ge2Uuc291cmNlX25hbWV9ICh7ZS5zb3VyY2Vfa2luZH0pIOKGkiB7c3RhdHVzfSIpCiAgICAgICAgICAgIGlmIGUuZXJyb3I6CiAgICAgICAgICAgICAgICBsaW5lcy5hcHBlbmQoZiIgICAge2UuZXJyb3J9IikKICAgICAgICBzZWxmLmZldGNoX2xvZ192aWV3LnNldFBsYWluVGV4dCgiXG4iLmpvaW4obGluZXMpKQoAAAAAAAAAAFdEAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAV0QAAAAAAABXRAAAAAAAAAAAAAAAAPC/"
				],
				[
					55,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABpRAAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSB0eXBpbmcgaW1wb3J0IE9wdGlvbmFsLCBMaXN0Cgpmcm9tIFB5U2lkZTYuUXRDb3JlIGltcG9ydCBRdCwgUURhdGUsIFFUaHJlYWQsIFNpZ25hbCwgUU9iamVjdCwgU2xvdApmcm9tIFB5U2lkZTYuUXRXaWRnZXRzIGltcG9ydCAoCiAgICBRV2lkZ2V0LAogICAgUVZCb3hMYXlvdXQsCiAgICBRSEJveExheW91dCwKICAgIFFMYWJlbCwKICAgIFFQdXNoQnV0dG9uLAogICAgUURhdGVFZGl0LAogICAgUVRhYmxlV2lkZ2V0LAogICAgUVRhYmxlV2lkZ2V0SXRlbSwKICAgIFFBYnN0cmFjdEl0ZW1WaWV3LAogICAgUVRleHRFZGl0LAogICAgUVNwbGl0dGVyLAogICAgUUxpc3RXaWRnZXQsCiAgICBRTGlzdFdpZGdldEl0ZW0sCiAgICBRVGFiV2lkZ2V0LAogICAgUUNoZWNrQm94LAogICAgUU1lc3NhZ2VCb3gsCiAgICBRQ29tYm9Cb3gsCiAgICBRR3JvdXBCb3gsCiAgICBRRm9ybUxheW91dCwKICAgIFFMaW5lRWRpdCwKICAgIFFQcm9ncmVzc0RpYWxvZywKKQoKZnJvbSBzaXRyZXBjMi5ndWkuaW5nZXN0LmNvbnRyb2xsZXIgaW1wb3J0ICgKICAgIEluZ2VzdENvbnRyb2xsZXIsCiAgICBJbmdlc3RQb3N0RmlsdGVyLAogICAgSW5nZXN0UG9zdFN0YXRlLAopCmZyb20gc2l0cmVwYzIuZ3VpLmluZ2VzdC5zb3VyY2VfY29udHJvbGxlciBpbXBvcnQgKAogICAgU291cmNlQ29udHJvbGxlciwKICAgIFNvdXJjZVJlY29yZCwKKQpmcm9tIHNpdHJlcGMyLmd1aS5pbmdlc3QuZmV0Y2hfbG9nX21vZGVsIGltcG9ydCAoCiAgICBGZXRjaExvZ01vZGVsLAogICAgRmV0Y2hMb2dFbnRyeSwKKQoKZnJvbSBzaXRyZXBjMi5sc3MucGlwZWxpbmUgaW1wb3J0IHJ1bl9sc3NfcGlwZWxpbmUKCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQojIExpZmVjeWNsZSB2aXN1YWxzCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKU1RBVEVfSUNPTiA9IHsKICAgIEluZ2VzdFBvc3RTdGF0ZS5SQVc6ICLij7oiLAogICAgSW5nZXN0UG9zdFN0YXRlLkxTU19SVU5OSU5HOiAi8J+UhCIsCiAgICBJbmdlc3RQb3N0U3RhdGUuTk9fRVZFTlRTOiAi4pqgIiwKICAgIEluZ2VzdFBvc3RTdGF0ZS5SRUFEWV9GT1JfUkVWSUVXOiAi8J+foSIsCiAgICBJbmdlc3RQb3N0U3RhdGUuQ09NTUlUVEVEOiAi4pyFIiwKfQoKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiMgTFNTIFdvcmtlciAoUU9iamVjdCDigJQgQ09SUkVDVCBQQVRURVJOKQojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCmNsYXNzIExTU1dvcmtlcihRT2JqZWN0KToKICAgIGZpbmlzaGVkX29rID0gU2lnbmFsKCkKICAgIGZhaWxlZCA9IFNpZ25hbChzdHIpCgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgcG9zdHM6IGxpc3RbZGljdF0sCiAgICAgICAgKiwKICAgICAgICByZXByb2Nlc3M6IGJvb2wsCiAgICApIC0+IE5vbmU6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCiAgICAgICAgc2VsZi5fcG9zdHMgPSBwb3N0cwogICAgICAgIHNlbGYuX3JlcHJvY2VzcyA9IHJlcHJvY2VzcwoKICAgIEBTbG90KCkKICAgIGRlZiBydW4oc2VsZikgLT4gTm9uZToKICAgICAgICB0cnk6CiAgICAgICAgICAgIHJ1bl9sc3NfcGlwZWxpbmUoCiAgICAgICAgICAgICAgICBzZWxmLl9wb3N0cywKICAgICAgICAgICAgICAgIHJlcHJvY2Vzcz1zZWxmLl9yZXByb2Nlc3MsCiAgICAgICAgICAgICkKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGV4YzoKICAgICAgICAgICAgc2VsZi5mYWlsZWQuZW1pdChzdHIoZXhjKSkKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIHNlbGYuZmluaXNoZWRfb2suZW1pdCgpCgojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KIyBJbmdlc3QgV29ya3NwYWNlCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKY2xhc3MgSW5nZXN0V29ya3NwYWNlKFFXaWRnZXQpOgogICAgZXh0cmFjdGlvbl9jb21wbGV0ZWQgPSBTaWduYWwoKQogICAgcmV2aWV3X3JlcXVlc3RlZCA9IFNpZ25hbCgpCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHBhcmVudDogT3B0aW9uYWxbUVdpZGdldF0gPSBOb25lKSAtPiBOb25lOgogICAgICAgIHN1cGVyKCkuX19pbml0X18ocGFyZW50KQoKICAgICAgICBzZWxmLmluZ2VzdCA9IEluZ2VzdENvbnRyb2xsZXIoKQogICAgICAgIHNlbGYuc291cmNlcyA9IFNvdXJjZUNvbnRyb2xsZXIoKQogICAgICAgIHNlbGYuZmV0Y2hfbG9nID0gRmV0Y2hMb2dNb2RlbCgpCgogICAgICAgIHNlbGYuX2VkaXRpbmdfbmV3ID0gRmFsc2UKICAgICAgICBzZWxmLl9sb2FkZWRfc291cmNlX25hbWU6IE9wdGlvbmFsW3N0cl0gPSBOb25lCgogICAgICAgIHNlbGYuX3Byb2dyZXNzOiBPcHRpb25hbFtRUHJvZ3Jlc3NEaWFsb2ddID0gTm9uZQogICAgICAgIHNlbGYuX2xzc190aHJlYWQ6IE9wdGlvbmFsW1FUaHJlYWRdID0gTm9uZQogICAgICAgIHNlbGYuX2xzc193b3JrZXI6IE9wdGlvbmFsW0xTU1dvcmtlcl0gPSBOb25lCgogICAgICAgIHNlbGYuX2J1aWxkX3VpKCkKICAgICAgICBzZWxmLl9sb2FkX3NvdXJjZXMoKQogICAgICAgIHNlbGYuX2xvYWRfcG9zdHMoKQoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIFVJCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGRlZiBfYnVpbGRfdWkoc2VsZikgLT4gTm9uZToKICAgICAgICByb290ID0gUVZCb3hMYXlvdXQoc2VsZikKCiAgICAgICAgdG9vbGJhciA9IFFIQm94TGF5b3V0KCkKCiAgICAgICAgc2VsZi5idG5fZW5hYmxlID0gUVB1c2hCdXR0b24oIkVuYWJsZSIpCiAgICAgICAgc2VsZi5idG5fZGlzYWJsZSA9IFFQdXNoQnV0dG9uKCJEaXNhYmxlIikKICAgICAgICBzZWxmLmJ0bl9yZW1vdmUgPSBRUHVzaEJ1dHRvbigiUmVtb3ZlIikKCiAgICAgICAgc2VsZi5mZXRjaF9mcm9tID0gUURhdGVFZGl0KCkKICAgICAgICBzZWxmLmZldGNoX3RvID0gUURhdGVFZGl0KCkKICAgICAgICBzZWxmLmZvcmNlX2NoZWNrID0gUUNoZWNrQm94KCJGb3JjZSIpCgogICAgICAgIHRvZGF5ID0gUURhdGUuY3VycmVudERhdGUoKQogICAgICAgIHNlbGYuZmV0Y2hfZnJvbS5zZXREYXRlKHRvZGF5LmFkZERheXMoLTEpKQogICAgICAgIHNlbGYuZmV0Y2hfdG8uc2V0RGF0ZSh0b2RheSkKCiAgICAgICAgZm9yIHcgaW4gKHNlbGYuZmV0Y2hfZnJvbSwgc2VsZi5mZXRjaF90byk6CiAgICAgICAgICAgIHcuc2V0Q2FsZW5kYXJQb3B1cChUcnVlKQogICAgICAgICAgICB3LnNldERpc3BsYXlGb3JtYXQoInl5eXktTU0tZGQiKQoKICAgICAgICBzZWxmLmJ0bl9mZXRjaF9zZWxlY3RlZCA9IFFQdXNoQnV0dG9uKCJGZXRjaCBTZWxlY3RlZCIpCiAgICAgICAgc2VsZi5idG5fZmV0Y2hfYWxsID0gUVB1c2hCdXR0b24oIkZldGNoIEFsbCBFbmFibGVkIikKCiAgICAgICAgdG9vbGJhci5hZGRXaWRnZXQoc2VsZi5idG5fZW5hYmxlKQogICAgICAgIHRvb2xiYXIuYWRkV2lkZ2V0KHNlbGYuYnRuX2Rpc2FibGUpCiAgICAgICAgdG9vbGJhci5hZGRXaWRnZXQoc2VsZi5idG5fcmVtb3ZlKQogICAgICAgIHRvb2xiYXIuYWRkU3BhY2luZygyMCkKICAgICAgICB0b29sYmFyLmFkZFdpZGdldChRTGFiZWwoIkZldGNoIGZyb206IikpCiAgICAgICAgdG9vbGJhci5hZGRXaWRnZXQoc2VsZi5mZXRjaF9mcm9tKQogICAgICAgIHRvb2xiYXIuYWRkV2lkZ2V0KFFMYWJlbCgidG86IikpCiAgICAgICAgdG9vbGJhci5hZGRXaWRnZXQoc2VsZi5mZXRjaF90bykKICAgICAgICB0b29sYmFyLmFkZFdpZGdldChzZWxmLmZvcmNlX2NoZWNrKQogICAgICAgIHRvb2xiYXIuYWRkU3BhY2luZygyMCkKICAgICAgICB0b29sYmFyLmFkZFdpZGdldChzZWxmLmJ0bl9mZXRjaF9zZWxlY3RlZCkKICAgICAgICB0b29sYmFyLmFkZFdpZGdldChzZWxmLmJ0bl9mZXRjaF9hbGwpCiAgICAgICAgdG9vbGJhci5hZGRTdHJldGNoKCkKCiAgICAgICAgcm9vdC5hZGRMYXlvdXQodG9vbGJhcikKCiAgICAgICAgc3BsaXR0ZXIgPSBRU3BsaXR0ZXIoUXQuSG9yaXpvbnRhbCkKCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgICMgTGVmdDogU291cmNlcwogICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICAgICAgbGVmdCA9IFFXaWRnZXQoKQogICAgICAgIGxlZnRfbGF5b3V0ID0gUVZCb3hMYXlvdXQobGVmdCkKCiAgICAgICAgbGVmdF9sYXlvdXQuYWRkV2lkZ2V0KFFMYWJlbCgiU291cmNlcyIpKQogICAgICAgIHNlbGYuc291cmNlX2xpc3QgPSBRTGlzdFdpZGdldCgpCiAgICAgICAgc2VsZi5zb3VyY2VfbGlzdC5zZXRTZWxlY3Rpb25Nb2RlKFFBYnN0cmFjdEl0ZW1WaWV3LkV4dGVuZGVkU2VsZWN0aW9uKQogICAgICAgIHNlbGYuc291cmNlX2xpc3QuaXRlbVNlbGVjdGlvbkNoYW5nZWQuY29ubmVjdChzZWxmLl9vbl9zb3VyY2Vfc2VsZWN0aW9uX2NoYW5nZWQpCiAgICAgICAgbGVmdF9sYXlvdXQuYWRkV2lkZ2V0KHNlbGYuc291cmNlX2xpc3QsIHN0cmV0Y2g9MSkKCiAgICAgICAgZWRpdG9yX2JveCA9IFFHcm91cEJveCgiU291cmNlIEVkaXRvciIpCiAgICAgICAgZm9ybSA9IFFGb3JtTGF5b3V0KGVkaXRvcl9ib3gpCgogICAgICAgIHNlbGYuZWRfc291cmNlX25hbWUgPSBRTGluZUVkaXQoKQogICAgICAgIHNlbGYuZWRfYWxpYXMgPSBRTGluZUVkaXQoKQogICAgICAgIHNlbGYuZWRfa2luZCA9IFFDb21ib0JveCgpCiAgICAgICAgc2VsZi5lZF9raW5kLmFkZEl0ZW1zKFsiVEVMRUdSQU0iLCAiRkFDRUJPT0siLCAiVFdJVFRFUiIsICJIVFRQIl0pCiAgICAgICAgc2VsZi5lZF9sYW5nID0gUUxpbmVFZGl0KCkKICAgICAgICBzZWxmLmVkX2FjdGl2ZSA9IFFDaGVja0JveCgiQWN0aXZlIikKCiAgICAgICAgZm9ybS5hZGRSb3coIlNvdXJjZSBOYW1lIiwgc2VsZi5lZF9zb3VyY2VfbmFtZSkKICAgICAgICBmb3JtLmFkZFJvdygiQWxpYXMiLCBzZWxmLmVkX2FsaWFzKQogICAgICAgIGZvcm0uYWRkUm93KCJLaW5kIiwgc2VsZi5lZF9raW5kKQogICAgICAgIGZvcm0uYWRkUm93KCJMYW5ndWFnZSIsIHNlbGYuZWRfbGFuZykKICAgICAgICBmb3JtLmFkZFJvdygiIiwgc2VsZi5lZF9hY3RpdmUpCgogICAgICAgIGJ0bl9yb3cgPSBRSEJveExheW91dCgpCiAgICAgICAgc2VsZi5idG5fbmV3ID0gUVB1c2hCdXR0b24oIk5ldyIpCiAgICAgICAgc2VsZi5idG5fc2F2ZSA9IFFQdXNoQnV0dG9uKCJTYXZlIikKICAgICAgICBzZWxmLmJ0bl9yZXZlcnQgPSBRUHVzaEJ1dHRvbigiUmV2ZXJ0IikKICAgICAgICBzZWxmLmJ0bl9kZWxldGUgPSBRUHVzaEJ1dHRvbigiRGVsZXRlIikKCiAgICAgICAgZm9yIGIgaW4gKHNlbGYuYnRuX25ldywgc2VsZi5idG5fc2F2ZSwgc2VsZi5idG5fcmV2ZXJ0LCBzZWxmLmJ0bl9kZWxldGUpOgogICAgICAgICAgICBidG5fcm93LmFkZFdpZGdldChiKQoKICAgICAgICBmb3JtLmFkZFJvdyhidG5fcm93KQogICAgICAgIGxlZnRfbGF5b3V0LmFkZFdpZGdldChlZGl0b3JfYm94KQoKICAgICAgICBzcGxpdHRlci5hZGRXaWRnZXQobGVmdCkKCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgICMgUmlnaHQ6IFBvc3RzCiAgICAgICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgICAgICByaWdodCA9IFFXaWRnZXQoKQogICAgICAgIHJpZ2h0X2xheW91dCA9IFFWQm94TGF5b3V0KHJpZ2h0KQoKICAgICAgICBzZWxmLnRhYmxlID0gUVRhYmxlV2lkZ2V0KCkKICAgICAgICBzZWxmLnRhYmxlLnNldENvbHVtbkNvdW50KDcpCiAgICAgICAgc2VsZi50YWJsZS5zZXRIb3Jpem9udGFsSGVhZGVyTGFiZWxzKAogICAgICAgICAgICBbIlN0YXRlIiwgIlB1Ymxpc2hlZCIsICJBbGlhcyIsICJTb3VyY2UiLCAiTGFuZyIsICJFdmVudHMiLCAiU25pcHBldCJdCiAgICAgICAgKQogICAgICAgIHNlbGYudGFibGUuc2V0U2VsZWN0aW9uQmVoYXZpb3IoUUFic3RyYWN0SXRlbVZpZXcuU2VsZWN0Um93cykKICAgICAgICBzZWxmLnRhYmxlLnNldEVkaXRUcmlnZ2VycyhRQWJzdHJhY3RJdGVtVmlldy5Ob0VkaXRUcmlnZ2VycykKICAgICAgICBzZWxmLnRhYmxlLnZlcnRpY2FsSGVhZGVyKCkuc2V0VmlzaWJsZShGYWxzZSkKICAgICAgICBzZWxmLnRhYmxlLml0ZW1TZWxlY3Rpb25DaGFuZ2VkLmNvbm5lY3Qoc2VsZi5fb25fcG9zdF9zZWxlY3RlZCkKICAgICAgICByaWdodF9sYXlvdXQuYWRkV2lkZ2V0KHNlbGYudGFibGUpCgogICAgICAgIGV4dHJhY3RfYmFyID0gUUhCb3hMYXlvdXQoKQogICAgICAgIHNlbGYuY2hrX3JlcHJvY2VzcyA9IFFDaGVja0JveCgiUmVwcm9jZXNzIikKICAgICAgICBzZWxmLmJ0bl9leHRyYWN0ID0gUVB1c2hCdXR0b24oIkV4dHJhY3QgRXZlbnRzIikKICAgICAgICBzZWxmLmJ0bl9leHRyYWN0LnNldEVuYWJsZWQoRmFsc2UpCgogICAgICAgIGV4dHJhY3RfYmFyLmFkZFdpZGdldChzZWxmLmNoa19yZXByb2Nlc3MpCiAgICAgICAgZXh0cmFjdF9iYXIuYWRkV2lkZ2V0KHNlbGYuYnRuX2V4dHJhY3QpCiAgICAgICAgZXh0cmFjdF9iYXIuYWRkU3RyZXRjaCgpCgogICAgICAgIHJpZ2h0X2xheW91dC5hZGRMYXlvdXQoZXh0cmFjdF9iYXIpCgogICAgICAgIHNlbGYudGFicyA9IFFUYWJXaWRnZXQoKQogICAgICAgIHNlbGYucG9zdF9kZXRhaWwgPSBRVGV4dEVkaXQocmVhZE9ubHk9VHJ1ZSkKICAgICAgICBzZWxmLmZldGNoX2xvZ192aWV3ID0gUVRleHRFZGl0KHJlYWRPbmx5PVRydWUpCiAgICAgICAgc2VsZi50YWJzLmFkZFRhYihzZWxmLnBvc3RfZGV0YWlsLCAiUG9zdCBEZXRhaWwiKQogICAgICAgIHNlbGYudGFicy5hZGRUYWIoc2VsZi5mZXRjaF9sb2dfdmlldywgIkZldGNoIExvZyIpCiAgICAgICAgcmlnaHRfbGF5b3V0LmFkZFdpZGdldChzZWxmLnRhYnMpCgogICAgICAgIHNwbGl0dGVyLmFkZFdpZGdldChyaWdodCkKICAgICAgICBzcGxpdHRlci5zZXRTdHJldGNoRmFjdG9yKDEsIDMpCiAgICAgICAgcm9vdC5hZGRXaWRnZXQoc3BsaXR0ZXIpCgogICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICAjIFdpcmluZwogICAgICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICAgICAgc2VsZi5idG5fZmV0Y2hfc2VsZWN0ZWQuY2xpY2tlZC5jb25uZWN0KHNlbGYuX2ZldGNoX3NlbGVjdGVkKQogICAgICAgIHNlbGYuYnRuX2ZldGNoX2FsbC5jbGlja2VkLmNvbm5lY3Qoc2VsZi5fZmV0Y2hfYWxsKQogICAgICAgIHNlbGYuYnRuX2VuYWJsZS5jbGlja2VkLmNvbm5lY3QobGFtYmRhOiBzZWxmLl9zZXRfYWN0aXZlKFRydWUpKQogICAgICAgIHNlbGYuYnRuX2Rpc2FibGUuY2xpY2tlZC5jb25uZWN0KGxhbWJkYTogc2VsZi5fc2V0X2FjdGl2ZShGYWxzZSkpCiAgICAgICAgc2VsZi5idG5fcmVtb3ZlLmNsaWNrZWQuY29ubmVjdChzZWxmLl9yZW1vdmVfc291cmNlcykKCiAgICAgICAgc2VsZi5idG5fbmV3LmNsaWNrZWQuY29ubmVjdChzZWxmLl9uZXdfc291cmNlKQogICAgICAgIHNlbGYuYnRuX3NhdmUuY2xpY2tlZC5jb25uZWN0KHNlbGYuX3NhdmVfc291cmNlKQogICAgICAgIHNlbGYuYnRuX3JldmVydC5jbGlja2VkLmNvbm5lY3Qoc2VsZi5fcmV2ZXJ0X3NvdXJjZSkKICAgICAgICBzZWxmLmJ0bl9kZWxldGUuY2xpY2tlZC5jb25uZWN0KHNlbGYuX2RlbGV0ZV9zb3VyY2UpCgogICAgICAgIHNlbGYuYnRuX2V4dHJhY3QuY2xpY2tlZC5jb25uZWN0KHNlbGYuX2V4dHJhY3Rfc2VsZWN0ZWRfcG9zdHMpCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICMgRXh0cmFjdGlvbiAoRklYRUQgVEhSRUFESU5HKQogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBkZWYgX2V4dHJhY3Rfc2VsZWN0ZWRfcG9zdHMoc2VsZikgLT4gTm9uZToKICAgICAgICByb3dzID0gc2VsZi5pbmdlc3QucXVlcnlfcG9zdHMoSW5nZXN0UG9zdEZpbHRlcigpKQoKICAgICAgICBwb3N0X2lkcyA9IHNvcnRlZCh7CiAgICAgICAgICAgIHJvd3NbaXRlbS5yb3coKV0ucG9zdF9pZAogICAgICAgICAgICBmb3IgaXRlbSBpbiBzZWxmLnRhYmxlLnNlbGVjdGVkSXRlbXMoKQogICAgICAgIH0pCgogICAgICAgIGlmIG5vdCBwb3N0X2lkczoKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIHBvc3RzOiBsaXN0W2RpY3RdID0gW10KICAgICAgICBmb3Igcm93IGluIHJvd3M6CiAgICAgICAgICAgIGlmIHJvdy5wb3N0X2lkIGluIHBvc3RfaWRzOgogICAgICAgICAgICAgICAgZGV0YWlsID0gc2VsZi5pbmdlc3QuZ2V0X3Bvc3Qocm93LnBvc3RfaWQpCiAgICAgICAgICAgICAgICBwb3N0cy5hcHBlbmQoewogICAgICAgICAgICAgICAgICAgICJpZCI6IHJvdy5wb3N0X2lkLAogICAgICAgICAgICAgICAgICAgICJ0ZXh0IjogZGV0YWlsLnRleHQsCiAgICAgICAgICAgICAgICB9KQoKICAgICAgICBpZiBub3QgcG9zdHM6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICBzZWxmLmJ0bl9leHRyYWN0LnNldEVuYWJsZWQoRmFsc2UpCgogICAgICAgIHNlbGYuX3Byb2dyZXNzID0gUVByb2dyZXNzRGlhbG9nKAogICAgICAgICAgICAiRXh0cmFjdGluZyBldmVudHPigKYiLAogICAgICAgICAgICBOb25lLAogICAgICAgICAgICAwLAogICAgICAgICAgICAwLAogICAgICAgICAgICBzZWxmLAogICAgICAgICkKICAgICAgICBzZWxmLl9wcm9ncmVzcy5zZXRXaW5kb3dNb2RhbGl0eShRdC5Ob25Nb2RhbCkKICAgICAgICBzZWxmLl9wcm9ncmVzcy5zZXRNaW5pbXVtRHVyYXRpb24oMCkKICAgICAgICBzZWxmLl9wcm9ncmVzcy5zaG93KCkKCiAgICAgICAgc2VsZi5fbHNzX3RocmVhZCA9IFFUaHJlYWQoc2VsZikKICAgICAgICBzZWxmLl9sc3Nfd29ya2VyID0gTFNTV29ya2VyKAogICAgICAgICAgICBwb3N0cywKICAgICAgICAgICAgcmVwcm9jZXNzPXNlbGYuY2hrX3JlcHJvY2Vzcy5pc0NoZWNrZWQoKSwKICAgICAgICApCiAgICAgICAgc2VsZi5fbHNzX3dvcmtlci5tb3ZlVG9UaHJlYWQoc2VsZi5fbHNzX3RocmVhZCkKCiAgICAgICAgc2VsZi5fbHNzX3RocmVhZC5zdGFydGVkLmNvbm5lY3Qoc2VsZi5fbHNzX3dvcmtlci5ydW4pCiAgICAgICAgc2VsZi5fbHNzX3dvcmtlci5maW5pc2hlZF9vay5jb25uZWN0KHNlbGYuX2xzc190aHJlYWQucXVpdCkKICAgICAgICBzZWxmLl9sc3Nfd29ya2VyLmZpbmlzaGVkX29rLmNvbm5lY3Qoc2VsZi5fbHNzX3dvcmtlci5kZWxldGVMYXRlcikKICAgICAgICBzZWxmLl9sc3NfdGhyZWFkLmZpbmlzaGVkLmNvbm5lY3Qoc2VsZi5fbHNzX3RocmVhZC5kZWxldGVMYXRlcikKCiAgICAgICAgc2VsZi5fbHNzX3dvcmtlci5maW5pc2hlZF9vay5jb25uZWN0KHNlbGYuX29uX2V4dHJhY3RfZmluaXNoZWQpCiAgICAgICAgc2VsZi5fbHNzX3dvcmtlci5mYWlsZWQuY29ubmVjdChzZWxmLl9vbl9leHRyYWN0X2ZhaWxlZCkKCiAgICAgICAgc2VsZi5fbHNzX3RocmVhZC5zdGFydCgpCgogICAgZGVmIF9vbl9leHRyYWN0X2ZpbmlzaGVkKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgaWYgc2VsZi5fcHJvZ3Jlc3M6CiAgICAgICAgICAgIHNlbGYuX3Byb2dyZXNzLmNsb3NlKCkKICAgICAgICAgICAgc2VsZi5fcHJvZ3Jlc3MgPSBOb25lCgogICAgICAgIHNlbGYuYnRuX2V4dHJhY3Quc2V0RW5hYmxlZChUcnVlKQogICAgICAgIHNlbGYuX2xvYWRfcG9zdHMoKQogICAgICAgIHNlbGYucmV2aWV3X3JlcXVlc3RlZC5lbWl0KCkKCiAgICBkZWYgX29uX2V4dHJhY3RfZmFpbGVkKHNlbGYsIG1lc3NhZ2U6IHN0cikgLT4gTm9uZToKICAgICAgICBpZiBzZWxmLl9wcm9ncmVzczoKICAgICAgICAgICAgc2VsZi5fcHJvZ3Jlc3MuY2xvc2UoKQogICAgICAgICAgICBzZWxmLl9wcm9ncmVzcyA9IE5vbmUKCiAgICAgICAgc2VsZi5idG5fZXh0cmFjdC5zZXRFbmFibGVkKFRydWUpCiAgICAgICAgUU1lc3NhZ2VCb3guY3JpdGljYWwoc2VsZiwgIkxTUyBFeHRyYWN0aW9uIEZhaWxlZCIsIG1lc3NhZ2UpCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICMgUG9zdHMKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIF9sb2FkX3Bvc3RzKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgcm93cyA9IHNlbGYuaW5nZXN0LnF1ZXJ5X3Bvc3RzKEluZ2VzdFBvc3RGaWx0ZXIoKSkKICAgICAgICBzZWxmLnRhYmxlLnNldFJvd0NvdW50KGxlbihyb3dzKSkKICAgICAgICBmb3Igciwgcm93IGluIGVudW1lcmF0ZShyb3dzKToKICAgICAgICAgICAgc2VsZi5fcG9wdWxhdGVfcm93KHIsIHJvdykKICAgICAgICBzZWxmLnRhYmxlLnJlc2l6ZUNvbHVtbnNUb0NvbnRlbnRzKCkKICAgICAgICBzZWxmLnRhYmxlLnNldENvbHVtbldpZHRoKDAsIDE2MCkKCiAgICBkZWYgX3BvcHVsYXRlX3JvdyhzZWxmLCByb3dfaWR4OiBpbnQsIHJvdykgLT4gTm9uZToKICAgICAgICBpY29uID0gU1RBVEVfSUNPTi5nZXQocm93LnN0YXRlLCAiIikKICAgICAgICB0ZXh0ID0gZiJ7aWNvbn0ge3Jvdy5zdGF0ZS52YWx1ZS5yZXBsYWNlKCdfJywgJyAnKX0iCiAgICAgICAgaXRlbXMgPSBbCiAgICAgICAgICAgIFFUYWJsZVdpZGdldEl0ZW0odGV4dCksCiAgICAgICAgICAgIFFUYWJsZVdpZGdldEl0ZW0ocm93LnB1Ymxpc2hlZF9hdCksCiAgICAgICAgICAgIFFUYWJsZVdpZGdldEl0ZW0ocm93LmFsaWFzKSwKICAgICAgICAgICAgUVRhYmxlV2lkZ2V0SXRlbShyb3cuc291cmNlKSwKICAgICAgICAgICAgUVRhYmxlV2lkZ2V0SXRlbShyb3cubGFuZyksCiAgICAgICAgICAgIFFUYWJsZVdpZGdldEl0ZW0oc3RyKHJvdy5ldmVudF9jb3VudCkpLAogICAgICAgICAgICBRVGFibGVXaWRnZXRJdGVtKHJvdy50ZXh0X3NuaXBwZXQpLAogICAgICAgIF0KICAgICAgICBmb3IgYywgaXRlbSBpbiBlbnVtZXJhdGUoaXRlbXMpOgogICAgICAgICAgICBpdGVtLnNldEZsYWdzKGl0ZW0uZmxhZ3MoKSAmIH5RdC5JdGVtSXNFZGl0YWJsZSkKICAgICAgICAgICAgc2VsZi50YWJsZS5zZXRJdGVtKHJvd19pZHgsIGMsIGl0ZW0pCgogICAgZGVmIF9vbl9wb3N0X3NlbGVjdGVkKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgaXRlbXMgPSBzZWxmLnRhYmxlLnNlbGVjdGVkSXRlbXMoKQogICAgICAgIGlmIG5vdCBpdGVtczoKICAgICAgICAgICAgc2VsZi5idG5fZXh0cmFjdC5zZXRFbmFibGVkKEZhbHNlKQogICAgICAgICAgICBzZWxmLnBvc3RfZGV0YWlsLmNsZWFyKCkKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIHNlbGYuYnRuX2V4dHJhY3Quc2V0RW5hYmxlZChUcnVlKQogICAgICAgIHJvd3MgPSBzZWxmLmluZ2VzdC5xdWVyeV9wb3N0cyhJbmdlc3RQb3N0RmlsdGVyKCkpCiAgICAgICAgZGV0YWlsID0gc2VsZi5pbmdlc3QuZ2V0X3Bvc3Qocm93c1tpdGVtc1swXS5yb3coKV0ucG9zdF9pZCkKICAgICAgICBzZWxmLnBvc3RfZGV0YWlsLnNldFBsYWluVGV4dChkZXRhaWwudGV4dCkKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBTb3VyY2VzIC8gRmV0Y2ggKFVOQ0hBTkdFRCkKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZGVmIF9sb2FkX3NvdXJjZXMoc2VsZikgLT4gTm9uZToKICAgICAgICBzZWxmLnNvdXJjZV9saXN0LmNsZWFyKCkKICAgICAgICBmb3Igc3JjIGluIHNlbGYuc291cmNlcy5sb2FkX3NvdXJjZXMoKToKICAgICAgICAgICAgbGFiZWwgPSBzcmMuYWxpYXMgKyAoIiIgaWYgc3JjLmFjdGl2ZSBlbHNlICIgKGluYWN0aXZlKSIpCiAgICAgICAgICAgIGl0ZW0gPSBRTGlzdFdpZGdldEl0ZW0obGFiZWwpCiAgICAgICAgICAgIGl0ZW0uc2V0RGF0YShRdC5Vc2VyUm9sZSwgc3JjKQogICAgICAgICAgICBpZiBub3Qgc3JjLmFjdGl2ZToKICAgICAgICAgICAgICAgIGl0ZW0uc2V0Rm9yZWdyb3VuZChRdC5ncmF5KQogICAgICAgICAgICBzZWxmLnNvdXJjZV9saXN0LmFkZEl0ZW0oaXRlbSkKCiAgICBkZWYgX3NlbGVjdGVkX3NvdXJjZXMoc2VsZikgLT4gTGlzdFtTb3VyY2VSZWNvcmRdOgogICAgICAgIHJldHVybiBbCiAgICAgICAgICAgIGkuZGF0YShRdC5Vc2VyUm9sZSkKICAgICAgICAgICAgZm9yIGkgaW4gc2VsZi5zb3VyY2VfbGlzdC5zZWxlY3RlZEl0ZW1zKCkKICAgICAgICAgICAgaWYgaXNpbnN0YW5jZShpLmRhdGEoUXQuVXNlclJvbGUpLCBTb3VyY2VSZWNvcmQpCiAgICAgICAgXQoKICAgIGRlZiBfc2VsZWN0ZWRfc291cmNlX25hbWVzKHNlbGYpIC0+IExpc3Rbc3RyXToKICAgICAgICByZXR1cm4gW3Muc291cmNlX25hbWUgZm9yIHMgaW4gc2VsZi5fc2VsZWN0ZWRfc291cmNlcygpXQoKICAgIGRlZiBfb25fc291cmNlX3NlbGVjdGlvbl9jaGFuZ2VkKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgaXRlbXMgPSBzZWxmLl9zZWxlY3RlZF9zb3VyY2VzKCkKICAgICAgICBpZiBsZW4oaXRlbXMpID09IDE6CiAgICAgICAgICAgIHNlbGYuX2xvYWRfc291cmNlX2ludG9fZWRpdG9yKGl0ZW1zWzBdKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNlbGYuX2xvYWRlZF9zb3VyY2VfbmFtZSA9IE5vbmUKCiAgICBkZWYgX2NsZWFyX2VkaXRvcl9maWVsZHMoc2VsZikgLT4gTm9uZToKICAgICAgICBzZWxmLmVkX3NvdXJjZV9uYW1lLmNsZWFyKCkKICAgICAgICBzZWxmLmVkX2FsaWFzLmNsZWFyKCkKICAgICAgICBzZWxmLmVkX2xhbmcuY2xlYXIoKQogICAgICAgIHNlbGYuZWRfYWN0aXZlLnNldENoZWNrZWQoVHJ1ZSkKICAgICAgICBzZWxmLmVkX2tpbmQuc2V0Q3VycmVudEluZGV4KDApCiAgICAgICAgc2VsZi5fZWRpdGluZ19uZXcgPSBGYWxzZQogICAgICAgIHNlbGYuX2xvYWRlZF9zb3VyY2VfbmFtZSA9IE5vbmUKCiAgICBkZWYgX2xvYWRfc291cmNlX2ludG9fZWRpdG9yKHNlbGYsIHNyYzogU291cmNlUmVjb3JkKSAtPiBOb25lOgogICAgICAgIHNlbGYuX2VkaXRpbmdfbmV3ID0gRmFsc2UKICAgICAgICBzZWxmLl9sb2FkZWRfc291cmNlX25hbWUgPSBzcmMuc291cmNlX25hbWUKICAgICAgICBzZWxmLmVkX3NvdXJjZV9uYW1lLnNldFRleHQoc3JjLnNvdXJjZV9uYW1lKQogICAgICAgIHNlbGYuZWRfYWxpYXMuc2V0VGV4dChzcmMuYWxpYXMpCiAgICAgICAgc2VsZi5lZF9raW5kLnNldEN1cnJlbnRUZXh0KHNyYy5zb3VyY2Vfa2luZCkKICAgICAgICBzZWxmLmVkX2xhbmcuc2V0VGV4dChzcmMuc291cmNlX2xhbmcpCiAgICAgICAgc2VsZi5lZF9hY3RpdmUuc2V0Q2hlY2tlZChzcmMuYWN0aXZlKQoKICAgIGRlZiBfbmV3X3NvdXJjZShzZWxmKSAtPiBOb25lOgogICAgICAgIHNlbGYuX2VkaXRpbmdfbmV3ID0gVHJ1ZQogICAgICAgIHNlbGYuX2xvYWRlZF9zb3VyY2VfbmFtZSA9IE5vbmUKICAgICAgICBzZWxmLl9jbGVhcl9lZGl0b3JfZmllbGRzKCkKCiAgICBkZWYgX3JldmVydF9zb3VyY2Uoc2VsZikgLT4gTm9uZToKICAgICAgICBpZiBub3Qgc2VsZi5fbG9hZGVkX3NvdXJjZV9uYW1lOgogICAgICAgICAgICByZXR1cm4KICAgICAgICBmb3IgcyBpbiBzZWxmLnNvdXJjZXMubG9hZF9zb3VyY2VzKCk6CiAgICAgICAgICAgIGlmIHMuc291cmNlX25hbWUgPT0gc2VsZi5fbG9hZGVkX3NvdXJjZV9uYW1lOgogICAgICAgICAgICAgICAgc2VsZi5fbG9hZF9zb3VyY2VfaW50b19lZGl0b3IocykKICAgICAgICAgICAgICAgIHJldHVybgoKICAgIGRlZiBfc2F2ZV9zb3VyY2Uoc2VsZikgLT4gTm9uZToKICAgICAgICByZWNvcmQgPSBTb3VyY2VSZWNvcmQoCiAgICAgICAgICAgIHNvdXJjZV9uYW1lPXNlbGYuZWRfc291cmNlX25hbWUudGV4dCgpLnN0cmlwKCksCiAgICAgICAgICAgIGFsaWFzPXNlbGYuZWRfYWxpYXMudGV4dCgpLnN0cmlwKCksCiAgICAgICAgICAgIHNvdXJjZV9raW5kPXNlbGYuZWRfa2luZC5jdXJyZW50VGV4dCgpLnN0cmlwKCksCiAgICAgICAgICAgIHNvdXJjZV9sYW5nPXNlbGYuZWRfbGFuZy50ZXh0KCkuc3RyaXAoKSwKICAgICAgICAgICAgYWN0aXZlPXNlbGYuZWRfYWN0aXZlLmlzQ2hlY2tlZCgpLAogICAgICAgICkKICAgICAgICBpZiBzZWxmLl9lZGl0aW5nX25ldyBvciBub3Qgc2VsZi5fbG9hZGVkX3NvdXJjZV9uYW1lOgogICAgICAgICAgICBzZWxmLnNvdXJjZXMuYWRkX3NvdXJjZShyZWNvcmQpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc2VsZi5zb3VyY2VzLnJlcGxhY2Vfc291cmNlKHNlbGYuX2xvYWRlZF9zb3VyY2VfbmFtZSwgcmVjb3JkKQogICAgICAgIHNlbGYuX2xvYWRfc291cmNlcygpCiAgICAgICAgc2VsZi5fY2xlYXJfZWRpdG9yX2ZpZWxkcygpCgogICAgZGVmIF9kZWxldGVfc291cmNlKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgaWYgbm90IHNlbGYuX2xvYWRlZF9zb3VyY2VfbmFtZToKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgaWYgUU1lc3NhZ2VCb3gucXVlc3Rpb24oc2VsZiwgIkRlbGV0ZSBTb3VyY2UiLCAiSGFyZCBkZWxldGUgdGhpcyBzb3VyY2U/IikgIT0gUU1lc3NhZ2VCb3guWWVzOgogICAgICAgICAgICByZXR1cm4KICAgICAgICBzZWxmLnNvdXJjZXMuZGVsZXRlX3NvdXJjZV9oYXJkKHNlbGYuX2xvYWRlZF9zb3VyY2VfbmFtZSkKICAgICAgICBzZWxmLl9sb2FkX3NvdXJjZXMoKQogICAgICAgIHNlbGYuX2NsZWFyX2VkaXRvcl9maWVsZHMoKQoKICAgIGRlZiBfc2V0X2FjdGl2ZShzZWxmLCBhY3RpdmU6IGJvb2wpIC0+IE5vbmU6CiAgICAgICAgbmFtZXMgPSBzZWxmLl9zZWxlY3RlZF9zb3VyY2VfbmFtZXMoKQogICAgICAgIGlmIG5hbWVzOgogICAgICAgICAgICBzZWxmLnNvdXJjZXMuc2V0X2FjdGl2ZShuYW1lcywgYWN0aXZlKQogICAgICAgICAgICBzZWxmLl9sb2FkX3NvdXJjZXMoKQoKICAgIGRlZiBfcmVtb3ZlX3NvdXJjZXMoc2VsZikgLT4gTm9uZToKICAgICAgICBuYW1lcyA9IHNlbGYuX3NlbGVjdGVkX3NvdXJjZV9uYW1lcygpCiAgICAgICAgaWYgbm90IG5hbWVzOgogICAgICAgICAgICByZXR1cm4KICAgICAgICBpZiBRTWVzc2FnZUJveC5xdWVzdGlvbihzZWxmLCAiUmVtb3ZlIFNvdXJjZXMiLCAiSGFyZCBkZWxldGUgc2VsZWN0ZWQgc291cmNlcz8iKSAhPSBRTWVzc2FnZUJveC5ZZXM6CiAgICAgICAgICAgIHJldHVybgogICAgICAgIGZvciBuIGluIG5hbWVzOgogICAgICAgICAgICBzZWxmLnNvdXJjZXMuZGVsZXRlX3NvdXJjZV9oYXJkKG4pCiAgICAgICAgc2VsZi5fbG9hZF9zb3VyY2VzKCkKICAgICAgICBzZWxmLl9jbGVhcl9lZGl0b3JfZmllbGRzKCkKCiAgICBkZWYgX2ZldGNoX3NlbGVjdGVkKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgbmFtZXMgPSBzZWxmLl9zZWxlY3RlZF9zb3VyY2VfbmFtZXMoKQogICAgICAgIGlmIG5hbWVzOgogICAgICAgICAgICBzZWxmLl9mZXRjaChuYW1lcykKCiAgICBkZWYgX2ZldGNoX2FsbChzZWxmKSAtPiBOb25lOgogICAgICAgIG5hbWVzID0gW3Muc291cmNlX25hbWUgZm9yIHMgaW4gc2VsZi5zb3VyY2VzLmxvYWRfc291cmNlcygpIGlmIHMuYWN0aXZlXQogICAgICAgIHNlbGYuX2ZldGNoKG5hbWVzKQoKICAgIGRlZiBfZmV0Y2goc2VsZiwgc291cmNlX25hbWVzOiBMaXN0W3N0cl0pIC0+IE5vbmU6CiAgICAgICAgcmVzdWx0cyA9IHNlbGYuc291cmNlcy5mZXRjaF9zb3VyY2VzKAogICAgICAgICAgICBzb3VyY2VfbmFtZXM9c291cmNlX25hbWVzLAogICAgICAgICAgICBzdGFydF9kYXRlPXNlbGYuZmV0Y2hfZnJvbS5kYXRlKCkudG9TdHJpbmcoInl5eXktTU0tZGQiKSwKICAgICAgICAgICAgZW5kX2RhdGU9c2VsZi5mZXRjaF90by5kYXRlKCkudG9TdHJpbmcoInl5eXktTU0tZGQiKSwKICAgICAgICAgICAgZm9yY2U9c2VsZi5mb3JjZV9jaGVjay5pc0NoZWNrZWQoKSwKICAgICAgICApCiAgICAgICAgZm9yIHIgaW4gcmVzdWx0czoKICAgICAgICAgICAgc2VsZi5mZXRjaF9sb2cuYWRkKAogICAgICAgICAgICAgICAgRmV0Y2hMb2dFbnRyeSgKICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA9ci50aW1lc3RhbXAsCiAgICAgICAgICAgICAgICAgICAgc291cmNlX25hbWU9ci5zb3VyY2VfbmFtZSwKICAgICAgICAgICAgICAgICAgICBzb3VyY2Vfa2luZD1yLnNvdXJjZV9raW5kLAogICAgICAgICAgICAgICAgICAgIHN0YXJ0X2RhdGU9ci5zdGFydF9kYXRlLAogICAgICAgICAgICAgICAgICAgIGVuZF9kYXRlPXIuZW5kX2RhdGUsCiAgICAgICAgICAgICAgICAgICAgZm9yY2U9ci5mb3JjZSwKICAgICAgICAgICAgICAgICAgICBmZXRjaGVkX2NvdW50PXIuZmV0Y2hlZF9jb3VudCwKICAgICAgICAgICAgICAgICAgICBlcnJvcj1yLmVycm9yLAogICAgICAgICAgICAgICAgKQogICAgICAgICAgICApCiAgICAgICAgc2VsZi5fcmVmcmVzaF9mZXRjaF9sb2coKQogICAgICAgIHNlbGYuX2xvYWRfcG9zdHMoKQoKICAgIGRlZiBfcmVmcmVzaF9mZXRjaF9sb2coc2VsZikgLT4gTm9uZToKICAgICAgICBsaW5lcyA9IFtdCiAgICAgICAgZm9yIGUgaW4gc2VsZi5mZXRjaF9sb2cuZW50cmllcygpOgogICAgICAgICAgICBzdGF0dXMgPSAiRVJST1IiIGlmIGUuZXJyb3IgZWxzZSBmIntlLmZldGNoZWRfY291bnR9IHBvc3RzIgogICAgICAgICAgICBsaW5lcy5hcHBlbmQoZiJbe2UudGltZXN0YW1wfV0ge2Uuc291cmNlX25hbWV9ICh7ZS5zb3VyY2Vfa2luZH0pIOKGkiB7c3RhdHVzfSIpCiAgICAgICAgICAgIGlmIGUuZXJyb3I6CiAgICAgICAgICAgICAgICBsaW5lcy5hcHBlbmQoZiIgICAge2UuZXJyb3J9IikKICAgICAgICBzZWxmLmZldGNoX2xvZ192aWV3LnNldFBsYWluVGV4dCgiXG4iLmpvaW4obGluZXMpKQoAAAAAAAAAAFdEAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAFjEAAAAAAAAWMQAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "src/sitrepc2/schema/records/dom.sql",
			"settings":
			{
				"buffer_size": 6713,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					4,
					1,
					"paste",
					null,
					"AQAAAAAAAAAAAAAAORoAAAAAAAA2GwAAUFJBR01BIGZvcmVpZ25fa2V5cyA9IE9OOwoKLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQotLSBET00gKERvbWFpbiBPYmplY3QgTW9kZWwpIFBlcnNpc3RlbmNlIFNjaGVtYQotLQotLSBUaGlzIHNjaGVtYSBwZXJzaXN0cyBET00gdHJlZXMgYW5kIHRoZWlyIHJldmlldyBsaWZlY3ljbGUgc3RhdGVzLgotLSBJdCBjb2V4aXN0cyB3aXRoIGZyb3plbiBsc3NfKiB0YWJsZXMgaW5zaWRlIHJlY29yZHMuZGIuCi0tCi0tIFByb3BlcnRpZXM6Ci0tIOKAoiBBcHBlbmQtb25seSBzbmFwc2hvdHMKLS0g4oCiIEltbXV0YWJsZSBzdHJ1Y3R1cmUgJiBwcm92ZW5hbmNlCi0tIOKAoiBTbmFwc2hvdC1zY29wZWQgcmV2aWV3IHN0YXRlCi0tIOKAoiBObyB0b2tlbiBzcGFucyBwZXJzaXN0ZWQKLS0g4oCiIFNpbmdsZSBsaW5lYXIgbGlmZWN5Y2xlIHBlciBwb3N0Ci0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLS0gMS4gTGlmZWN5Y2xlIFN0YWdlcwotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgpDUkVBVEUgVEFCTEUgZG9tX2xpZmVjeWNsZV9zdGFnZSAoCiAgICBpZCBJTlRFR0VSIFBSSU1BUlkgS0VZLAogICAgbmFtZSBURVhUIE5PVCBOVUxMIFVOSVFVRQopOwoKLyoKMSA9IENSRUFURUQKMiA9IElOSVRJQUxfUkVWSUVXCjMgPSBQUk9DRVNTRUQKNCA9IEZJTkFMX1JFVklFVwo1ID0gQVVESVQKKi8KCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLS0gMi4gRE9NIFBvc3QgQW5jaG9yCi0tIE9uZSBET00gcG9zdCBjb3JyZXNwb25kcyB0byBvbmUgaW5nZXN0IHBvc3QgaW4gb25lIExTUyBydW4KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKQ1JFQVRFIFRBQkxFIGRvbV9wb3N0ICgKICAgIGlkIElOVEVHRVIgUFJJTUFSWSBLRVksCiAgICBpbmdlc3RfcG9zdF9pZCBJTlRFR0VSIE5PVCBOVUxMLAogICAgbHNzX3J1bl9pZCBJTlRFR0VSIE5PVCBOVUxMLAoKICAgIFVOSVFVRSAoaW5nZXN0X3Bvc3RfaWQsIGxzc19ydW5faWQpCik7CgotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi0tIDMuIERPTSBTbmFwc2hvdCAoQXBwZW5kLU9ubHksIExpbmVhciBMaWZlY3ljbGUpCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCkNSRUFURSBUQUJMRSBkb21fc25hcHNob3QgKAogICAgaWQgSU5URUdFUiBQUklNQVJZIEtFWSBBVVRPSU5DUkVNRU5ULAogICAgZG9tX3Bvc3RfaWQgSU5URUdFUiBOT1QgTlVMTCwKICAgIGxpZmVjeWNsZV9zdGFnZV9pZCBJTlRFR0VSIE5PVCBOVUxMLAogICAgY3JlYXRlZF9hdCBURVhUIE5PVCBOVUxMLAoKICAgIEZPUkVJR04gS0VZIChkb21fcG9zdF9pZCkKICAgICAgICBSRUZFUkVOQ0VTIGRvbV9wb3N0KGlkKQogICAgICAgIE9OIERFTEVURSBDQVNDQURFLAoKICAgIEZPUkVJR04gS0VZIChsaWZlY3ljbGVfc3RhZ2VfaWQpCiAgICAgICAgUkVGRVJFTkNFUyBkb21fbGlmZWN5Y2xlX3N0YWdlKGlkKSwKCiAgICBVTklRVUUgKGRvbV9wb3N0X2lkLCBsaWZlY3ljbGVfc3RhZ2VfaWQpCik7CgotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi0tIDQuIERPTSBOb2RlIFN0cnVjdHVyZSAoSW1tdXRhYmxlKQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgpDUkVBVEUgVEFCTEUgZG9tX25vZGUgKAogICAgaWQgSU5URUdFUiBQUklNQVJZIEtFWSwKICAgIGRvbV9wb3N0X2lkIElOVEVHRVIgTk9UIE5VTEwsCgogICAgbm9kZV90eXBlIFRFWFQgTk9UIE5VTEwgQ0hFQ0sgKAogICAgICAgIG5vZGVfdHlwZSBJTiAoCiAgICAgICAgICAgICdQT1NUJywKICAgICAgICAgICAgJ1NFQ1RJT04nLAogICAgICAgICAgICAnRVZFTlQnLAogICAgICAgICAgICAnTE9DQVRJT05fU0VSSUVTJywKICAgICAgICAgICAgJ0xPQ0FUSU9OJywKICAgICAgICAgICAgJ0xPQ0FUSU9OX0NBTkRJREFURScKICAgICAgICApCiAgICApLAoKICAgIHBhcmVudF9pZCBJTlRFR0VSLAogICAgc2libGluZ19vcmRlciBJTlRFR0VSIE5PVCBOVUxMLAoKICAgIEZPUkVJR04gS0VZIChkb21fcG9zdF9pZCkKICAgICAgICBSRUZFUkVOQ0VTIGRvbV9wb3N0KGlkKQogICAgICAgIE9OIERFTEVURSBDQVNDQURFLAoKICAgIEZPUkVJR04gS0VZIChwYXJlbnRfaWQpCiAgICAgICAgUkVGRVJFTkNFUyBkb21fbm9kZShpZCkKICAgICAgICBPTiBERUxFVEUgQ0FTQ0FERQopOwoKLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQotLSA1LiBET00gTm9kZSBQcm92ZW5hbmNlIChJbW11dGFibGUsIFRva2VuLUZyZWUpCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCkNSRUFURSBUQUJMRSBkb21fbm9kZV9wcm92ZW5hbmNlICgKICAgIGRvbV9ub2RlX2lkIElOVEVHRVIgUFJJTUFSWSBLRVksCgogICAgbHNzX2V2ZW50X2lkIElOVEVHRVIsCiAgICBsc3Nfc2VjdGlvbl9pZHMgVEVYVCwgICAgICAgIC0tIHNlcmlhbGl6ZWQgbGlzdCBvZiBjb250cmlidXRpbmcgTFNTIHNlY3Rpb24gSURzCiAgICBnYXpldHRlZXJfZW50aXR5X2lkIElOVEVHRVIsCgogICAgRk9SRUlHTiBLRVkgKGRvbV9ub2RlX2lkKQogICAgICAgIFJFRkVSRU5DRVMgZG9tX25vZGUoaWQpCiAgICAgICAgT04gREVMRVRFIENBU0NBREUKKTsKCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLS0gNi4gU25hcHNob3QtU2NvcGVkIE5vZGUgU3RhdGUgKFJldmlldyArIERlcml2ZWQpCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCkNSRUFURSBUQUJMRSBkb21fbm9kZV9zdGF0ZSAoCiAgICBkb21fc25hcHNob3RfaWQgSU5URUdFUiBOT1QgTlVMTCwKICAgIGRvbV9ub2RlX2lkIElOVEVHRVIgTk9UIE5VTEwsCgogICAgc2VsZWN0ZWQgQk9PTEVBTiBOT1QgTlVMTCwKICAgIHN1bW1hcnkgVEVYVCBOT1QgTlVMTCwKCiAgICByZXNvbHZlZCBCT09MRUFOLCAgICAgICAgICAgICAgICAgIC0tIExPQ0FUSU9OIC8gTE9DQVRJT05fQ0FORElEQVRFIG9ubHkKICAgIHJlc29sdXRpb25fc291cmNlIFRFWFQgQ0hFQ0sgKAogICAgICAgIHJlc29sdXRpb25fc291cmNlIElOICgnQVVUTycsICdNQU5VQUwnKQogICAgKSwKCiAgICBQUklNQVJZIEtFWSAoZG9tX3NuYXBzaG90X2lkLCBkb21fbm9kZV9pZCksCgogICAgRk9SRUlHTiBLRVkgKGRvbV9zbmFwc2hvdF9pZCkKICAgICAgICBSRUZFUkVOQ0VTIGRvbV9zbmFwc2hvdChpZCkKICAgICAgICBPTiBERUxFVEUgQ0FTQ0FERSwKCiAgICBGT1JFSUdOIEtFWSAoZG9tX25vZGVfaWQpCiAgICAgICAgUkVGRVJFTkNFUyBkb21fbm9kZShpZCkKICAgICAgICBPTiBERUxFVEUgQ0FTQ0FERQopOwpBTFRFUiBUQUJMRSBkb21fbm9kZV9zdGF0ZQpBREQgQ09MVU1OIGRlZHVwZWQgQk9PTEVBTiBOT1QgTlVMTCBERUZBVUxUIEZBTFNFOwoKQUxURVIgVEFCTEUgZG9tX25vZGVfc3RhdGUKQUREIENPTFVNTiBkZWR1cGVfdGFyZ2V0X2lkIElOVEVHRVIKICAgIFJFRkVSRU5DRVMgZG9tX25vZGUoaWQpOwoKCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLS0gNy4gQ29udGV4dCBNZXRhZGF0YSAoU25hcHNob3QtU2NvcGVkLCBPdmVycmlkZS1Bd2FyZSkKLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKQ1JFQVRFIFRBQkxFIGRvbV9jb250ZXh0ICgKICAgIGRvbV9zbmFwc2hvdF9pZCBJTlRFR0VSIE5PVCBOVUxMLAogICAgZG9tX25vZGVfaWQgSU5URUdFUiBOT1QgTlVMTCwKCiAgICBjdHhfa2luZCBURVhUIE5PVCBOVUxMIENIRUNLICgKICAgICAgICBjdHhfa2luZCBJTiAoJ1JFR0lPTicsICdHUk9VUCcsICdESVJFQ1RJT04nKQogICAgKSwKICAgIGN0eF92YWx1ZSBURVhUIE5PVCBOVUxMLAoKICAgIG92ZXJyaWRkZW4gQk9PTEVBTiBOT1QgTlVMTCwKCiAgICBGT1JFSUdOIEtFWSAoZG9tX3NuYXBzaG90X2lkKQogICAgICAgIFJFRkVSRU5DRVMgZG9tX3NuYXBzaG90KGlkKQogICAgICAgIE9OIERFTEVURSBDQVNDQURFLAoKICAgIEZPUkVJR04gS0VZIChkb21fbm9kZV9pZCkKICAgICAgICBSRUZFUkVOQ0VTIGRvbV9ub2RlKGlkKQogICAgICAgIE9OIERFTEVURSBDQVNDQURFCik7CgotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi0tIDguIEFjdG9ycyAoTWV0YWRhdGEsIEV2ZW50LVNjb3BlZCkKLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKQ1JFQVRFIFRBQkxFIGRvbV9hY3RvciAoCiAgICBkb21fc25hcHNob3RfaWQgSU5URUdFUiBOT1QgTlVMTCwKICAgIGV2ZW50X25vZGVfaWQgSU5URUdFUiBOT1QgTlVMTCwKCiAgICBhY3Rvcl90ZXh0IFRFWFQgTk9UIE5VTEwsCiAgICBnYXpldHRlZXJfZ3JvdXBfaWQgSU5URUdFUiwKICAgIHNlbGVjdGVkIEJPT0xFQU4gTk9UIE5VTEwsCgogICAgRk9SRUlHTiBLRVkgKGRvbV9zbmFwc2hvdF9pZCkKICAgICAgICBSRUZFUkVOQ0VTIGRvbV9zbmFwc2hvdChpZCkKICAgICAgICBPTiBERUxFVEUgQ0FTQ0FERSwKCiAgICBGT1JFSUdOIEtFWSAoZXZlbnRfbm9kZV9pZCkKICAgICAgICBSRUZFUkVOQ0VTIGRvbV9ub2RlKGlkKQogICAgICAgIE9OIERFTEVURSBDQVNDQURFCik7CgotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi0tIDkuIExvY2F0aW9uIENhbmRpZGF0ZXMgKFNuYXBzaG90LVNjb3BlZCkKLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKLS0gUmV2aXNlZCB0byBzdXBwb3J0IGVtYmVkZGVkIGdhemV0dGVlciBzbmFwc2hvdHMgKE9wdGlvbiBCKQoKQ1JFQVRFIFRBQkxFIGRvbV9sb2NhdGlvbl9jYW5kaWRhdGUgKAogICAgZG9tX3NuYXBzaG90X2lkIElOVEVHRVIgTk9UIE5VTEwsCiAgICBsb2NhdGlvbl9ub2RlX2lkIElOVEVHRVIgTk9UIE5VTEwsCgogICAgLS0gUHJvdmVuYW5jZQogICAgZ2F6ZXR0ZWVyX2xvY2F0aW9uX2lkIElOVEVHRVIsCgogICAgLS0gRW1iZWRkZWQgc25hcHNob3Qgb2YgZ2F6ZXR0ZWVyLmxvY2F0aW9ucwogICAgbGF0IFJFQUwsCiAgICBsb24gUkVBTCwKICAgIG5hbWUgVEVYVCwKICAgIHBsYWNlIFRFWFQsCiAgICB3aWtpZGF0YSBURVhULAoKICAgIC0tIFJldmlldyBtZXRhZGF0YQogICAgY29uZmlkZW5jZSBSRUFMLAogICAgZGlzdF9mcm9tX2Zyb250IFJFQUwsCiAgICBzZWxlY3RlZCBCT09MRUFOIE5PVCBOVUxMLAogICAgcGVyc2lzdHMgQk9PTEVBTiBOT1QgTlVMTCwgICAgIC0tIHNlc3Npb24tb25seSB2cyBwYXRjaC1lbGlnaWJsZQoKICAgIEZPUkVJR04gS0VZIChkb21fc25hcHNob3RfaWQpCiAgICAgICAgUkVGRVJFTkNFUyBkb21fc25hcHNob3QoaWQpCiAgICAgICAgT04gREVMRVRFIENBU0NBREUsCgogICAgRk9SRUlHTiBLRVkgKGxvY2F0aW9uX25vZGVfaWQpCiAgICAgICAgUkVGRVJFTkNFUyBkb21fbm9kZShpZCkKICAgICAgICBPTiBERUxFVEUgQ0FTQ0FERQopOwoKCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLS0gMTAuIENvbW1pdCBFbGlnaWJpbGl0eSAoRGVyaXZlZCwgU25hcHNob3QtU2NvcGVkKQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgpDUkVBVEUgVEFCTEUgZG9tX2NvbW1pdF9lbGlnaWJpbGl0eSAoCiAgICBkb21fc25hcHNob3RfaWQgSU5URUdFUiBOT1QgTlVMTCwKICAgIGRvbV9ub2RlX2lkIElOVEVHRVIgTk9UIE5VTEwsCgogICAgZWxpZ2libGUgQk9PTEVBTiBOT1QgTlVMTCwKICAgIHJlYXNvbiBURVhULCAgICAgICAgICAgICAgICAgICAtLSBlLmcuICdVTlJFU09MVkVEJywgJ0RFU0VMRUNURUQnCgogICAgUFJJTUFSWSBLRVkgKGRvbV9zbmFwc2hvdF9pZCwgZG9tX25vZGVfaWQpLAoKICAgIEZPUkVJR04gS0VZIChkb21fc25hcHNob3RfaWQpCiAgICAgICAgUkVGRVJFTkNFUyBkb21fc25hcHNob3QoaWQpCiAgICAgICAgT04gREVMRVRFIENBU0NBREUsCgogICAgRk9SRUlHTiBLRVkgKGRvbV9ub2RlX2lkKQogICAgICAgIFJFRkVSRU5DRVMgZG9tX25vZGUoaWQpCiAgICAgICAgT04gREVMRVRFIENBU0NBREUKKTsKCkNSRUFURSBJTkRFWCBpZHhfZG9tX2NvbnRleHRfc25hcHNob3QKICAgIE9OIGRvbV9jb250ZXh0KGRvbV9zbmFwc2hvdF9pZCk7CgpDUkVBVEUgSU5ERVggaWR4X2RvbV9jb250ZXh0X25vZGUKICAgIE9OIGRvbV9jb250ZXh0KGRvbV9ub2RlX2lkKTsK",
					"AQAAAAAAAAABAAAAAAAAAAAAAAAsGwAAAAAAAAAAAAAAAPC/"
				],
				[
					5,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABFGgAAUFJBR01BIGZvcmVpZ25fa2V5cyA9IE9OOwoKLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQotLSBET00gKERvbWFpbiBPYmplY3QgTW9kZWwpIFBlcnNpc3RlbmNlIFNjaGVtYQotLQotLSBQcm9wZXJ0aWVzOgotLSDigKIgQXBwZW5kLW9ubHkgc25hcHNob3RzCi0tIOKAoiBJbW11dGFibGUgc3RydWN0dXJlICYgcHJvdmVuYW5jZQotLSDigKIgU25hcHNob3Qtc2NvcGVkIHJldmlldyBzdGF0ZQotLSDigKIgTm8gdG9rZW4gc3BhbnMgcGVyc2lzdGVkCi0tIOKAoiBTaW5nbGUgbGluZWFyIGxpZmVjeWNsZSBwZXIgcG9zdAotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi0tIDEuIExpZmVjeWNsZSBTdGFnZXMKLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKQ1JFQVRFIFRBQkxFIGRvbV9saWZlY3ljbGVfc3RhZ2UgKAogICAgaWQgSU5URUdFUiBQUklNQVJZIEtFWSwKICAgIG5hbWUgVEVYVCBOT1QgTlVMTCBVTklRVUUKKTsKCi8qCjEgPSBDUkVBVEVECjIgPSBJTklUSUFMX1JFVklFVwozID0gUFJPQ0VTU0VECjQgPSBGSU5BTF9SRVZJRVcKNSA9IEFVRElUCiovCgotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi0tIDIuIERPTSBQb3N0IEFuY2hvcgotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgpDUkVBVEUgVEFCTEUgZG9tX3Bvc3QgKAogICAgaWQgSU5URUdFUiBQUklNQVJZIEtFWSwKICAgIGluZ2VzdF9wb3N0X2lkIElOVEVHRVIgTk9UIE5VTEwsCiAgICBsc3NfcnVuX2lkIElOVEVHRVIgTk9UIE5VTEwsCgogICAgVU5JUVVFIChpbmdlc3RfcG9zdF9pZCwgbHNzX3J1bl9pZCkKKTsKCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLS0gMy4gRE9NIFNuYXBzaG90IChBcHBlbmQtT25seSwgTGluZWFyIExpZmVjeWNsZSkKLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKQ1JFQVRFIFRBQkxFIGRvbV9zbmFwc2hvdCAoCiAgICBpZCBJTlRFR0VSIFBSSU1BUlkgS0VZIEFVVE9JTkNSRU1FTlQsCiAgICBkb21fcG9zdF9pZCBJTlRFR0VSIE5PVCBOVUxMLAogICAgbGlmZWN5Y2xlX3N0YWdlX2lkIElOVEVHRVIgTk9UIE5VTEwsCiAgICBjcmVhdGVkX2F0IFRFWFQgTk9UIE5VTEwsCgogICAgRk9SRUlHTiBLRVkgKGRvbV9wb3N0X2lkKQogICAgICAgIFJFRkVSRU5DRVMgZG9tX3Bvc3QoaWQpCiAgICAgICAgT04gREVMRVRFIENBU0NBREUsCgogICAgRk9SRUlHTiBLRVkgKGxpZmVjeWNsZV9zdGFnZV9pZCkKICAgICAgICBSRUZFUkVOQ0VTIGRvbV9saWZlY3ljbGVfc3RhZ2UoaWQpLAoKICAgIFVOSVFVRSAoZG9tX3Bvc3RfaWQsIGxpZmVjeWNsZV9zdGFnZV9pZCkKKTsKCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLS0gNC4gRE9NIE5vZGUgU3RydWN0dXJlIChJbW11dGFibGUpCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCkNSRUFURSBUQUJMRSBkb21fbm9kZSAoCiAgICBpZCBJTlRFR0VSIFBSSU1BUlkgS0VZLAogICAgZG9tX3Bvc3RfaWQgSU5URUdFUiBOT1QgTlVMTCwKCiAgICBub2RlX3R5cGUgVEVYVCBOT1QgTlVMTCBDSEVDSyAoCiAgICAgICAgbm9kZV90eXBlIElOICgKICAgICAgICAgICAgJ1BPU1QnLAogICAgICAgICAgICAnU0VDVElPTicsCiAgICAgICAgICAgICdFVkVOVCcsCiAgICAgICAgICAgICdMT0NBVElPTl9TRVJJRVMnLAogICAgICAgICAgICAnTE9DQVRJT04nLAogICAgICAgICAgICAnTE9DQVRJT05fQ0FORElEQVRFJwogICAgICAgICkKICAgICksCgogICAgcGFyZW50X2lkIElOVEVHRVIsCiAgICBzaWJsaW5nX29yZGVyIElOVEVHRVIgTk9UIE5VTEwsCgogICAgRk9SRUlHTiBLRVkgKGRvbV9wb3N0X2lkKQogICAgICAgIFJFRkVSRU5DRVMgZG9tX3Bvc3QoaWQpCiAgICAgICAgT04gREVMRVRFIENBU0NBREUsCgogICAgRk9SRUlHTiBLRVkgKHBhcmVudF9pZCkKICAgICAgICBSRUZFUkVOQ0VTIGRvbV9ub2RlKGlkKQogICAgICAgIE9OIERFTEVURSBDQVNDQURFCik7CgotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi0tIDUuIERPTSBOb2RlIFByb3ZlbmFuY2UgKEltbXV0YWJsZSwgVG9rZW4tRnJlZSkKLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKQ1JFQVRFIFRBQkxFIGRvbV9ub2RlX3Byb3ZlbmFuY2UgKAogICAgZG9tX25vZGVfaWQgSU5URUdFUiBQUklNQVJZIEtFWSwKCiAgICBsc3NfZXZlbnRfaWQgSU5URUdFUiwKICAgIGxzc19zZWN0aW9uX2lkcyBURVhULCAgICAgICAgLS0gSlNPTiBhcnJheSBvZiBjb250cmlidXRpbmcgc2VjdGlvbiBJRHMKICAgIGdhemV0dGVlcl9lbnRpdHlfaWQgSU5URUdFUiwKCiAgICBGT1JFSUdOIEtFWSAoZG9tX25vZGVfaWQpCiAgICAgICAgUkVGRVJFTkNFUyBkb21fbm9kZShpZCkKICAgICAgICBPTiBERUxFVEUgQ0FTQ0FERQopOwoKLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQotLSA2LiBTbmFwc2hvdC1TY29wZWQgTm9kZSBTdGF0ZSAoUmV2aWV3ICsgRGVyaXZlZCkKLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKQ1JFQVRFIFRBQkxFIGRvbV9ub2RlX3N0YXRlICgKICAgIGRvbV9zbmFwc2hvdF9pZCBJTlRFR0VSIE5PVCBOVUxMLAogICAgZG9tX25vZGVfaWQgSU5URUdFUiBOT1QgTlVMTCwKCiAgICBzZWxlY3RlZCBCT09MRUFOIE5PVCBOVUxMLAogICAgc3VtbWFyeSBURVhUIE5PVCBOVUxMLAoKICAgIHJlc29sdmVkIEJPT0xFQU4sICAgICAgICAgICAgICAgICAgLS0gTE9DQVRJT04gLyBMT0NBVElPTl9DQU5ESURBVEUgb25seQogICAgcmVzb2x1dGlvbl9zb3VyY2UgVEVYVCBDSEVDSyAoCiAgICAgICAgcmVzb2x1dGlvbl9zb3VyY2UgSU4gKCdBVVRPJywgJ01BTlVBTCcpCiAgICApLAoKICAgIC0tIERlZHVwZSBzdGF0ZSAoQ09SRSBGSUVMRCDigJQgTk9UIEEgTUlHUkFUSU9OKQogICAgZGVkdXBlZCBCT09MRUFOIE5PVCBOVUxMIERFRkFVTFQgRkFMU0UsCiAgICBkZWR1cGVfdGFyZ2V0X2lkIElOVEVHRVIsCgogICAgUFJJTUFSWSBLRVkgKGRvbV9zbmFwc2hvdF9pZCwgZG9tX25vZGVfaWQpLAoKICAgIEZPUkVJR04gS0VZIChkb21fc25hcHNob3RfaWQpCiAgICAgICAgUkVGRVJFTkNFUyBkb21fc25hcHNob3QoaWQpCiAgICAgICAgT04gREVMRVRFIENBU0NBREUsCgogICAgRk9SRUlHTiBLRVkgKGRvbV9ub2RlX2lkKQogICAgICAgIFJFRkVSRU5DRVMgZG9tX25vZGUoaWQpCiAgICAgICAgT04gREVMRVRFIENBU0NBREUsCgogICAgRk9SRUlHTiBLRVkgKGRlZHVwZV90YXJnZXRfaWQpCiAgICAgICAgUkVGRVJFTkNFUyBkb21fbm9kZShpZCkKKTsKCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLS0gNy4gQ29udGV4dCBNZXRhZGF0YSAoU25hcHNob3QtU2NvcGVkLCBPdmVycmlkZS1Bd2FyZSkKLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKQ1JFQVRFIFRBQkxFIGRvbV9jb250ZXh0ICgKICAgIGRvbV9zbmFwc2hvdF9pZCBJTlRFR0VSIE5PVCBOVUxMLAogICAgZG9tX25vZGVfaWQgSU5URUdFUiBOT1QgTlVMTCwKCiAgICBjdHhfa2luZCBURVhUIE5PVCBOVUxMIENIRUNLICgKICAgICAgICBjdHhfa2luZCBJTiAoJ1JFR0lPTicsICdHUk9VUCcsICdESVJFQ1RJT04nKQogICAgKSwKICAgIGN0eF92YWx1ZSBURVhUIE5PVCBOVUxMLAoKICAgIG92ZXJyaWRkZW4gQk9PTEVBTiBOT1QgTlVMTCwKCiAgICBGT1JFSUdOIEtFWSAoZG9tX3NuYXBzaG90X2lkKQogICAgICAgIFJFRkVSRU5DRVMgZG9tX3NuYXBzaG90KGlkKQogICAgICAgIE9OIERFTEVURSBDQVNDQURFLAoKICAgIEZPUkVJR04gS0VZIChkb21fbm9kZV9pZCkKICAgICAgICBSRUZFUkVOQ0VTIGRvbV9ub2RlKGlkKQogICAgICAgIE9OIERFTEVURSBDQVNDQURFCik7CgpDUkVBVEUgSU5ERVggaWR4X2RvbV9jb250ZXh0X3NuYXBzaG90CiAgICBPTiBkb21fY29udGV4dChkb21fc25hcHNob3RfaWQpOwoKQ1JFQVRFIElOREVYIGlkeF9kb21fY29udGV4dF9ub2RlCiAgICBPTiBkb21fY29udGV4dChkb21fbm9kZV9pZCk7CgotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi0tIDguIEFjdG9ycyAoTWV0YWRhdGEsIEV2ZW50LVNjb3BlZCkKLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKQ1JFQVRFIFRBQkxFIGRvbV9hY3RvciAoCiAgICBkb21fc25hcHNob3RfaWQgSU5URUdFUiBOT1QgTlVMTCwKICAgIGV2ZW50X25vZGVfaWQgSU5URUdFUiBOT1QgTlVMTCwKCiAgICBhY3Rvcl90ZXh0IFRFWFQgTk9UIE5VTEwsCiAgICBnYXpldHRlZXJfZ3JvdXBfaWQgSU5URUdFUiwKICAgIHNlbGVjdGVkIEJPT0xFQU4gTk9UIE5VTEwsCgogICAgRk9SRUlHTiBLRVkgKGRvbV9zbmFwc2hvdF9pZCkKICAgICAgICBSRUZFUkVOQ0VTIGRvbV9zbmFwc2hvdChpZCkKICAgICAgICBPTiBERUxFVEUgQ0FTQ0FERSwKCiAgICBGT1JFSUdOIEtFWSAoZXZlbnRfbm9kZV9pZCkKICAgICAgICBSRUZFUkVOQ0VTIGRvbV9ub2RlKGlkKQogICAgICAgIE9OIERFTEVURSBDQVNDQURFCik7CgotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi0tIDkuIExvY2F0aW9uIENhbmRpZGF0ZXMgKFNuYXBzaG90LVNjb3BlZCkKLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKQ1JFQVRFIFRBQkxFIGRvbV9sb2NhdGlvbl9jYW5kaWRhdGUgKAogICAgZG9tX3NuYXBzaG90X2lkIElOVEVHRVIgTk9UIE5VTEwsCiAgICBsb2NhdGlvbl9ub2RlX2lkIElOVEVHRVIgTk9UIE5VTEwsCgogICAgLS0gUHJvdmVuYW5jZQogICAgZ2F6ZXR0ZWVyX2xvY2F0aW9uX2lkIElOVEVHRVIsCgogICAgLS0gRW1iZWRkZWQgc25hcHNob3Qgb2YgZ2F6ZXR0ZWVyLmxvY2F0aW9ucwogICAgbGF0IFJFQUwsCiAgICBsb24gUkVBTCwKICAgIG5hbWUgVEVYVCwKICAgIHBsYWNlIFRFWFQsCiAgICB3aWtpZGF0YSBURVhULAoKICAgIC0tIFJldmlldyBtZXRhZGF0YQogICAgY29uZmlkZW5jZSBSRUFMLAogICAgZGlzdF9mcm9tX2Zyb250IFJFQUwsCiAgICBzZWxlY3RlZCBCT09MRUFOIE5PVCBOVUxMLAogICAgcGVyc2lzdHMgQk9PTEVBTiBOT1QgTlVMTCwgICAgIC0tIHNlc3Npb24tb25seSB2cyBwYXRjaC1lbGlnaWJsZQoKICAgIEZPUkVJR04gS0VZIChkb21fc25hcHNob3RfaWQpCiAgICAgICAgUkVGRVJFTkNFUyBkb21fc25hcHNob3QoaWQpCiAgICAgICAgT04gREVMRVRFIENBU0NBREUsCgogICAgRk9SRUlHTiBLRVkgKGxvY2F0aW9uX25vZGVfaWQpCiAgICAgICAgUkVGRVJFTkNFUyBkb21fbm9kZShpZCkKICAgICAgICBPTiBERUxFVEUgQ0FTQ0FERQopOwoKLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQotLSAxMC4gQ29tbWl0IEVsaWdpYmlsaXR5IChEZXJpdmVkLCBTbmFwc2hvdC1TY29wZWQpCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCkNSRUFURSBUQUJMRSBkb21fY29tbWl0X2VsaWdpYmlsaXR5ICgKICAgIGRvbV9zbmFwc2hvdF9pZCBJTlRFR0VSIE5PVCBOVUxMLAogICAgZG9tX25vZGVfaWQgSU5URUdFUiBOT1QgTlVMTCwKCiAgICBlbGlnaWJsZSBCT09MRUFOIE5PVCBOVUxMLAogICAgcmVhc29uIFRFWFQsICAgICAgICAgICAgICAgICAgIC0tIGUuZy4gJ1VOUkVTT0xWRUQnLCAnREVTRUxFQ1RFRCcKCiAgICBQUklNQVJZIEtFWSAoZG9tX3NuYXBzaG90X2lkLCBkb21fbm9kZV9pZCksCgogICAgRk9SRUlHTiBLRVkgKGRvbV9zbmFwc2hvdF9pZCkKICAgICAgICBSRUZFUkVOQ0VTIGRvbV9zbmFwc2hvdChpZCkKICAgICAgICBPTiBERUxFVEUgQ0FTQ0FERSwKCiAgICBGT1JFSUdOIEtFWSAoZG9tX25vZGVfaWQpCiAgICAgICAgUkVGRVJFTkNFUyBkb21fbm9kZShpZCkKICAgICAgICBPTiBERUxFVEUgQ0FTQ0FERQopOwoAAAAAAAAAADkaAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAORoAAAAAAAA5GgAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "src/sitrepc2/dom/dom_dedupe.py",
			"settings":
			{
				"buffer_size": 4887,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					4,
					1,
					"paste",
					null,
					"AQAAAAAAAAAAAAAAFxMAAAAAAADIGgAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKaW1wb3J0IHNxbGl0ZTMKZnJvbSB0eXBpbmcgaW1wb3J0IERpY3QsIEl0ZXJhYmxlLCBMaXN0LCBUdXBsZQoKZnJvbSBzaXRyZXBjMi5sc3MubHNzX3Njb3BpbmcgaW1wb3J0IExTU0NvbnRleHRIaW50CgoKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KIyBVdGlsaXRpZXMKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCmRlZiBfbm9ybWFsaXplKHRleHQ6IHN0cikgLT4gc3RyOgogICAgcmV0dXJuICIgIi5qb2luKHRleHQubG93ZXIoKS5zcGxpdCgpKQoKCmRlZiBfZWZmZWN0aXZlX2NvbnRleHRfc2lnbmF0dXJlKAogICAgKiwKICAgIGRvbV9ub2RlX2lkOiBpbnQsCiAgICBjb250ZXh0X2hpbnRzOiBJdGVyYWJsZVtMU1NDb250ZXh0SGludF0sCikgLT4gVHVwbGVbVHVwbGVbc3RyLCBpbnRdLCAuLi5dOgogICAgIiIiCiAgICBDb250ZXh0IHNpZ25hdHVyZSB1c2VkIE9OTFkgZm9yIGRlZHVwZSBlcXVpdmFsZW5jZS4KICAgIFNuYXBzaG90IHNjb3BpbmcgaXMgZW5mb3JjZWQgYnkgY2FsbGVyLgogICAgIiIiCiAgICBzaWcgPSBbXQogICAgZm9yIGggaW4gY29udGV4dF9oaW50czoKICAgICAgICBpZiBoLmN0eF9raW5kIGluIHsiUkVHSU9OIiwgIkdST1VQIiwgIkRJUkVDVElPTiJ9OgogICAgICAgICAgICBzaWcuYXBwZW5kKChoLmN0eF9raW5kLCBoLnRhcmdldF9pZCBvciAtMSkpCiAgICByZXR1cm4gdHVwbGUoc29ydGVkKHNpZykpCgoKZGVmIF9tYXJrX2RlZHVwZWQoCiAgICAqLAogICAgY29ubjogc3FsaXRlMy5Db25uZWN0aW9uLAogICAgZG9tX3NuYXBzaG90X2lkOiBpbnQsCiAgICBkdXBfaWQ6IGludCwKICAgIGNhbm9uaWNhbF9pZDogaW50LAopIC0+IE5vbmU6CiAgICBjdXIgPSBjb25uLmN1cnNvcigpCiAgICBjdXIuZXhlY3V0ZSgKICAgICAgICAiIiIKICAgICAgICBVUERBVEUgZG9tX25vZGVfc3RhdGUKICAgICAgICBTRVQgZGVkdXBlZCA9IFRSVUUsCiAgICAgICAgICAgIGRlZHVwZV90YXJnZXRfaWQgPSA/CiAgICAgICAgV0hFUkUgZG9tX3NuYXBzaG90X2lkID0gPwogICAgICAgICAgQU5EIGRvbV9ub2RlX2lkID0gPwogICAgICAgICIiIiwKICAgICAgICAoY2Fub25pY2FsX2lkLCBkb21fc25hcHNob3RfaWQsIGR1cF9pZCksCiAgICApCgoKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KIyBDb3JlIGRlZHVwZSBlbmdpbmUKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCmRlZiBfZGVkdXBlX2NoaWxkcmVuKAogICAgKiwKICAgIGNvbm46IHNxbGl0ZTMuQ29ubmVjdGlvbiwKICAgIGRvbV9zbmFwc2hvdF9pZDogaW50LAogICAgcGFyZW50X2lkOiBpbnQsCiAgICBub2RlX3R5cGU6IHN0ciwKICAgIGtleV9mbiwKKSAtPiBOb25lOgogICAgIiIiCiAgICBHZW5lcmljIHNpYmxpbmcgZGVkdXBlIHVuZGVyIGEgc2luZ2xlIHBhcmVudCwgc25hcHNob3QtbG9jYWwuCiAgICAiIiIKICAgIGN1ciA9IGNvbm4uY3Vyc29yKCkKCiAgICBjdXIuZXhlY3V0ZSgKICAgICAgICAiIiIKICAgICAgICBTRUxFQ1QgZG4uaWQsIGRwLnRleHQKICAgICAgICBGUk9NIGRvbV9ub2RlIGRuCiAgICAgICAgTEVGVCBKT0lOIGRvbV9ub2RlX3Byb3ZlbmFuY2UgZHAgT04gZHAuZG9tX25vZGVfaWQgPSBkbi5pZAogICAgICAgIEpPSU4gZG9tX25vZGVfc3RhdGUgc3QKICAgICAgICAgIE9OIHN0LmRvbV9ub2RlX2lkID0gZG4uaWQKICAgICAgICAgQU5EIHN0LmRvbV9zbmFwc2hvdF9pZCA9ID8KICAgICAgICBXSEVSRSBkbi5wYXJlbnRfaWQgPSA/CiAgICAgICAgICBBTkQgZG4ubm9kZV90eXBlID0gPwogICAgICAgICAgQU5EIHN0LmRlZHVwZWQgPSBGQUxTRQogICAgICAgIE9SREVSIEJZIGRuLnNpYmxpbmdfb3JkZXIKICAgICAgICAiIiIsCiAgICAgICAgKGRvbV9zbmFwc2hvdF9pZCwgcGFyZW50X2lkLCBub2RlX3R5cGUpLAogICAgKQoKICAgIHNlZW46IERpY3RbVHVwbGUsIGludF0gPSB7fQoKICAgIGZvciBub2RlX2lkLCB0ZXh0IGluIGN1ci5mZXRjaGFsbCgpOgogICAgICAgIGtleSA9IGtleV9mbihub2RlX2lkLCB0ZXh0KQoKICAgICAgICBpZiBrZXkgaW4gc2VlbjoKICAgICAgICAgICAgX21hcmtfZGVkdXBlZCgKICAgICAgICAgICAgICAgIGNvbm49Y29ubiwKICAgICAgICAgICAgICAgIGRvbV9zbmFwc2hvdF9pZD1kb21fc25hcHNob3RfaWQsCiAgICAgICAgICAgICAgICBkdXBfaWQ9bm9kZV9pZCwKICAgICAgICAgICAgICAgIGNhbm9uaWNhbF9pZD1zZWVuW2tleV0sCiAgICAgICAgICAgICkKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZWVuW2tleV0gPSBub2RlX2lkCgoKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KIyBQdWJsaWMgQVBJCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgpkZWYgZG9tX2RlZHVwZSgKICAgICosCiAgICBkb21fY29ubjogc3FsaXRlMy5Db25uZWN0aW9uLAogICAgZG9tX3NuYXBzaG90X2lkOiBpbnQsCiAgICBjb250ZXh0X2hpbnRzOiBMaXN0W0xTU0NvbnRleHRIaW50XSwKKSAtPiBOb25lOgogICAgIiIiCiAgICBTbmFwc2hvdC1sb2NhbCBET00gZGVkdXBsaWNhdGlvbi4KCiAgICBNdXN0IGJlIHJ1biBBRlRFUiBkb21faW5nZXN0CiAgICBNdXN0IGJlIHJ1biBCRUZPUkUgZG9tX3Njb3BpbmcKICAgICIiIgoKICAgIGN1ciA9IGRvbV9jb25uLmN1cnNvcigpCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICMgUE9TVCDihpIgU0VDVElPTgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBjdXIuZXhlY3V0ZSgKICAgICAgICAiIiIKICAgICAgICBTRUxFQ1QgZG4uaWQKICAgICAgICBGUk9NIGRvbV9ub2RlIGRuCiAgICAgICAgSk9JTiBkb21fc25hcHNob3QgZHMgT04gZHMuZG9tX3Bvc3RfaWQgPSBkbi5kb21fcG9zdF9pZAogICAgICAgIFdIRVJFIGRuLm5vZGVfdHlwZSA9ICdQT1NUJwogICAgICAgICAgQU5EIGRzLmlkID0gPwogICAgICAgICIiIiwKICAgICAgICAoZG9tX3NuYXBzaG90X2lkLCksCiAgICApCgogICAgZm9yIChwb3N0X2lkLCkgaW4gY3VyLmZldGNoYWxsKCk6CiAgICAgICAgX2RlZHVwZV9jaGlsZHJlbigKICAgICAgICAgICAgY29ubj1kb21fY29ubiwKICAgICAgICAgICAgZG9tX3NuYXBzaG90X2lkPWRvbV9zbmFwc2hvdF9pZCwKICAgICAgICAgICAgcGFyZW50X2lkPXBvc3RfaWQsCiAgICAgICAgICAgIG5vZGVfdHlwZT0iU0VDVElPTiIsCiAgICAgICAgICAgIGtleV9mbj1sYW1iZGEgbmlkLCB0ZXh0OiAoCiAgICAgICAgICAgICAgICBfbm9ybWFsaXplKHRleHQgb3IgIiIpLAogICAgICAgICAgICAgICAgX2VmZmVjdGl2ZV9jb250ZXh0X3NpZ25hdHVyZSgKICAgICAgICAgICAgICAgICAgICBkb21fbm9kZV9pZD1uaWQsCiAgICAgICAgICAgICAgICAgICAgY29udGV4dF9oaW50cz1jb250ZXh0X2hpbnRzLAogICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgKSwKICAgICAgICApCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICMgU0VDVElPTiAvIFBPU1Qg4oaSIEVWRU5UCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGN1ci5leGVjdXRlKAogICAgICAgICIiIgogICAgICAgIFNFTEVDVCBkbi5pZAogICAgICAgIEZST00gZG9tX25vZGUgZG4KICAgICAgICBKT0lOIGRvbV9zbmFwc2hvdCBkcyBPTiBkcy5kb21fcG9zdF9pZCA9IGRuLmRvbV9wb3N0X2lkCiAgICAgICAgV0hFUkUgZG4ubm9kZV90eXBlIElOICgnUE9TVCcsICdTRUNUSU9OJykKICAgICAgICAgIEFORCBkcy5pZCA9ID8KICAgICAgICAiIiIsCiAgICAgICAgKGRvbV9zbmFwc2hvdF9pZCwpLAogICAgKQoKICAgIGZvciAocGFyZW50X2lkLCkgaW4gY3VyLmZldGNoYWxsKCk6CiAgICAgICAgX2RlZHVwZV9jaGlsZHJlbigKICAgICAgICAgICAgY29ubj1kb21fY29ubiwKICAgICAgICAgICAgZG9tX3NuYXBzaG90X2lkPWRvbV9zbmFwc2hvdF9pZCwKICAgICAgICAgICAgcGFyZW50X2lkPXBhcmVudF9pZCwKICAgICAgICAgICAgbm9kZV90eXBlPSJFVkVOVCIsCiAgICAgICAgICAgIGtleV9mbj1sYW1iZGEgbmlkLCB0ZXh0OiAoCiAgICAgICAgICAgICAgICBfbm9ybWFsaXplKHRleHQgb3IgIiIpLAogICAgICAgICAgICAgICAgX2VmZmVjdGl2ZV9jb250ZXh0X3NpZ25hdHVyZSgKICAgICAgICAgICAgICAgICAgICBkb21fbm9kZV9pZD1uaWQsCiAgICAgICAgICAgICAgICAgICAgY29udGV4dF9oaW50cz1jb250ZXh0X2hpbnRzLAogICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgKSwKICAgICAgICApCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICMgRVZFTlQg4oaSIExPQ0FUSU9OX1NFUklFUwogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBjdXIuZXhlY3V0ZSgKICAgICAgICAiIiIKICAgICAgICBTRUxFQ1QgZG4uaWQKICAgICAgICBGUk9NIGRvbV9ub2RlIGRuCiAgICAgICAgSk9JTiBkb21fc25hcHNob3QgZHMgT04gZHMuZG9tX3Bvc3RfaWQgPSBkbi5kb21fcG9zdF9pZAogICAgICAgIFdIRVJFIGRuLm5vZGVfdHlwZSA9ICdFVkVOVCcKICAgICAgICAgIEFORCBkcy5pZCA9ID8KICAgICAgICAiIiIsCiAgICAgICAgKGRvbV9zbmFwc2hvdF9pZCwpLAogICAgKQoKICAgIGZvciAoZXZlbnRfaWQsKSBpbiBjdXIuZmV0Y2hhbGwoKToKCiAgICAgICAgZGVmIHNlcmllc19rZXkobmlkLCBfKToKICAgICAgICAgICAgYyA9IGRvbV9jb25uLmN1cnNvcigpCiAgICAgICAgICAgIGMuZXhlY3V0ZSgKICAgICAgICAgICAgICAgICIiIgogICAgICAgICAgICAgICAgU0VMRUNUIGRwLnRleHQKICAgICAgICAgICAgICAgIEZST00gZG9tX25vZGUgY2hpbGQKICAgICAgICAgICAgICAgIEpPSU4gZG9tX25vZGVfcHJvdmVuYW5jZSBkcCBPTiBkcC5kb21fbm9kZV9pZCA9IGNoaWxkLmlkCiAgICAgICAgICAgICAgICBXSEVSRSBjaGlsZC5wYXJlbnRfaWQgPSA/CiAgICAgICAgICAgICAgICBPUkRFUiBCWSBjaGlsZC5zaWJsaW5nX29yZGVyCiAgICAgICAgICAgICAgICAiIiIsCiAgICAgICAgICAgICAgICAobmlkLCksCiAgICAgICAgICAgICkKICAgICAgICAgICAgaXRlbXMgPSBbX25vcm1hbGl6ZShyWzBdKSBmb3IgciBpbiBjLmZldGNoYWxsKCldCiAgICAgICAgICAgIHJldHVybiAoCiAgICAgICAgICAgICAgICB0dXBsZShpdGVtcyksCiAgICAgICAgICAgICAgICBfZWZmZWN0aXZlX2NvbnRleHRfc2lnbmF0dXJlKAogICAgICAgICAgICAgICAgICAgIGRvbV9ub2RlX2lkPW5pZCwKICAgICAgICAgICAgICAgICAgICBjb250ZXh0X2hpbnRzPWNvbnRleHRfaGludHMsCiAgICAgICAgICAgICAgICApLAogICAgICAgICAgICApCgogICAgICAgIF9kZWR1cGVfY2hpbGRyZW4oCiAgICAgICAgICAgIGNvbm49ZG9tX2Nvbm4sCiAgICAgICAgICAgIGRvbV9zbmFwc2hvdF9pZD1kb21fc25hcHNob3RfaWQsCiAgICAgICAgICAgIHBhcmVudF9pZD1ldmVudF9pZCwKICAgICAgICAgICAgbm9kZV90eXBlPSJMT0NBVElPTl9TRVJJRVMiLAogICAgICAgICAgICBrZXlfZm49c2VyaWVzX2tleSwKICAgICAgICApCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICMgTE9DQVRJT05fU0VSSUVTIOKGkiBMT0NBVElPTgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBjdXIuZXhlY3V0ZSgKICAgICAgICAiIiIKICAgICAgICBTRUxFQ1QgZG4uaWQKICAgICAgICBGUk9NIGRvbV9ub2RlIGRuCiAgICAgICAgSk9JTiBkb21fc25hcHNob3QgZHMgT04gZHMuZG9tX3Bvc3RfaWQgPSBkbi5kb21fcG9zdF9pZAogICAgICAgIFdIRVJFIGRuLm5vZGVfdHlwZSA9ICdMT0NBVElPTl9TRVJJRVMnCiAgICAgICAgICBBTkQgZHMuaWQgPSA/CiAgICAgICAgIiIiLAogICAgICAgIChkb21fc25hcHNob3RfaWQsKSwKICAgICkKCiAgICBmb3IgKHNlcmllc19pZCwpIGluIGN1ci5mZXRjaGFsbCgpOgogICAgICAgIF9kZWR1cGVfY2hpbGRyZW4oCiAgICAgICAgICAgIGNvbm49ZG9tX2Nvbm4sCiAgICAgICAgICAgIGRvbV9zbmFwc2hvdF9pZD1kb21fc25hcHNob3RfaWQsCiAgICAgICAgICAgIHBhcmVudF9pZD1zZXJpZXNfaWQsCiAgICAgICAgICAgIG5vZGVfdHlwZT0iTE9DQVRJT04iLAogICAgICAgICAgICBrZXlfZm49bGFtYmRhIG5pZCwgdGV4dDogKAogICAgICAgICAgICAgICAgX25vcm1hbGl6ZSh0ZXh0IG9yICIiKSwKICAgICAgICAgICAgICAgIF9lZmZlY3RpdmVfY29udGV4dF9zaWduYXR1cmUoCiAgICAgICAgICAgICAgICAgICAgZG9tX25vZGVfaWQ9bmlkLAogICAgICAgICAgICAgICAgICAgIGNvbnRleHRfaGludHM9Y29udGV4dF9oaW50cywKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICksCiAgICAgICAgKQoKICAgIGRvbV9jb25uLmNvbW1pdCgpCg",
					"AQAAAAAAAAABAAAAAAAAAAAAAADAGgAAAAAAAAAAAAAAAPC/"
				],
				[
					5,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAXEwAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKaW1wb3J0IHNxbGl0ZTMKZnJvbSB0eXBpbmcgaW1wb3J0IERpY3QsIEl0ZXJhYmxlLCBMaXN0LCBUdXBsZQoKZnJvbSBzaXRyZXBjMi5sc3MubHNzX3Njb3BpbmcgaW1wb3J0IExTU0NvbnRleHRIaW50CgoKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KIyBDb250ZXh0IHNpZ25hdHVyZSAodW5jaGFuZ2VkKQojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKZGVmIF9lZmZlY3RpdmVfY29udGV4dF9zaWduYXR1cmUoCiAgICAqLAogICAgY29udGV4dF9oaW50czogSXRlcmFibGVbTFNTQ29udGV4dEhpbnRdLAopIC0+IFR1cGxlW1R1cGxlW3N0ciwgaW50XSwgLi4uXToKICAgICIiIgogICAgQ29udGV4dCBzaWduYXR1cmUgdXNlZCBPTkxZIGZvciBkZWR1cGUgZXF1aXZhbGVuY2UuCgogICAgSW5jbHVkZXMgb25seToKICAgICAgUkVHSU9OIC8gR1JPVVAgLyBESVJFQ1RJT04KICAgICIiIgoKICAgIHNpZyA9IFtdCgogICAgZm9yIGggaW4gY29udGV4dF9oaW50czoKICAgICAgICBpZiBoLmN0eF9raW5kIG5vdCBpbiB7IlJFR0lPTiIsICJHUk9VUCIsICJESVJFQ1RJT04ifToKICAgICAgICAgICAgY29udGludWUKICAgICAgICBzaWcuYXBwZW5kKChoLmN0eF9raW5kLCBoLnRhcmdldF9pZCBvciAtMSkpCgogICAgcmV0dXJuIHR1cGxlKHNvcnRlZChzaWcpKQoKCmRlZiBfbWFya19kZWR1cGVkKAogICAgKiwKICAgIGRvbV9jb25uOiBzcWxpdGUzLkNvbm5lY3Rpb24sCiAgICBkdXBfaWQ6IGludCwKICAgIGNhbm9uaWNhbF9pZDogaW50LAopIC0+IE5vbmU6CiAgICBjdXIgPSBkb21fY29ubi5jdXJzb3IoKQogICAgY3VyLmV4ZWN1dGUoCiAgICAgICAgIiIiCiAgICAgICAgVVBEQVRFIGRvbV9ub2RlX3N0YXRlCiAgICAgICAgU0VUIGRlZHVwZWQgPSBUUlVFLAogICAgICAgICAgICBkZWR1cGVfdGFyZ2V0X2lkID0gPwogICAgICAgIFdIRVJFIGRvbV9ub2RlX2lkID0gPwogICAgICAgICIiIiwKICAgICAgICAoY2Fub25pY2FsX2lkLCBkdXBfaWQpLAogICAgKQoKCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiMgQ29yZSBkZWR1cGUgaGVscGVyCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgpkZWYgX2RlZHVwZV9jaGlsZHJlbigKICAgICosCiAgICBkb21fY29ubjogc3FsaXRlMy5Db25uZWN0aW9uLAogICAgcGFyZW50X2lkOiBpbnQsCiAgICBub2RlX3R5cGU6IHN0ciwKICAgIGtleV9mbiwKKSAtPiBOb25lOgogICAgIiIiCiAgICBHZW5lcmljIHNpYmxpbmcgZGVkdXBlIHVuZGVyIGEgc2luZ2xlIHBhcmVudC4KICAgICIiIgoKICAgIGN1ciA9IGRvbV9jb25uLmN1cnNvcigpCgogICAgY3VyLmV4ZWN1dGUoCiAgICAgICAgIiIiCiAgICAgICAgU0VMRUNUIGRuLmlkCiAgICAgICAgRlJPTSBkb21fbm9kZSBkbgogICAgICAgIEpPSU4gZG9tX25vZGVfc3RhdGUgc3QKICAgICAgICAgIE9OIHN0LmRvbV9ub2RlX2lkID0gZG4uaWQKICAgICAgICBXSEVSRSBkbi5wYXJlbnRfaWQgPSA/CiAgICAgICAgICBBTkQgZG4ubm9kZV90eXBlID0gPwogICAgICAgICAgQU5EIHN0LmRlZHVwZWQgPSBGQUxTRQogICAgICAgIE9SREVSIEJZIGRuLnNpYmxpbmdfb3JkZXIKICAgICAgICAiIiIsCiAgICAgICAgKHBhcmVudF9pZCwgbm9kZV90eXBlKSwKICAgICkKCiAgICBzZWVuOiBEaWN0W1R1cGxlLCBpbnRdID0ge30KCiAgICBmb3IgKG5vZGVfaWQsKSBpbiBjdXIuZmV0Y2hhbGwoKToKICAgICAgICBrZXkgPSBrZXlfZm4obm9kZV9pZCkKCiAgICAgICAgaWYga2V5IGluIHNlZW46CiAgICAgICAgICAgIF9tYXJrX2RlZHVwZWQoCiAgICAgICAgICAgICAgICBkb21fY29ubj1kb21fY29ubiwKICAgICAgICAgICAgICAgIGR1cF9pZD1ub2RlX2lkLAogICAgICAgICAgICAgICAgY2Fub25pY2FsX2lkPXNlZW5ba2V5XSwKICAgICAgICAgICAgKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNlZW5ba2V5XSA9IG5vZGVfaWQKCgojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQojIFB1YmxpYyBBUEkKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCmRlZiBkb21fZGVkdXBlKAogICAgKiwKICAgIGRvbV9jb25uOiBzcWxpdGUzLkNvbm5lY3Rpb24sCiAgICBjb250ZXh0X2hpbnRzOiBMaXN0W0xTU0NvbnRleHRIaW50XSwKKSAtPiBOb25lOgogICAgIiIiCiAgICBIaWVyYXJjaHktd2lkZSBET00gZGVkdXBsaWNhdGlvbi4KCiAgICBNdXN0IGJlIHJ1biBBRlRFUiBkb21faW5nZXN0CiAgICBNdXN0IGJlIHJ1biBCRUZPUkUgZG9tX3Njb3BpbmcKICAgICIiIgoKICAgIGN1ciA9IGRvbV9jb25uLmN1cnNvcigpCiAgICBjdHhfc2lnID0gX2VmZmVjdGl2ZV9jb250ZXh0X3NpZ25hdHVyZShjb250ZXh0X2hpbnRzPWNvbnRleHRfaGludHMpCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICMgU0VDVElPTgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBjdXIuZXhlY3V0ZSgKICAgICAgICAiU0VMRUNUIGlkIEZST00gZG9tX25vZGUgV0hFUkUgbm9kZV90eXBlID0gJ1BPU1QnIgogICAgKQoKICAgIGZvciAocG9zdF9pZCwpIGluIGN1ci5mZXRjaGFsbCgpOgogICAgICAgIF9kZWR1cGVfY2hpbGRyZW4oCiAgICAgICAgICAgIGRvbV9jb25uPWRvbV9jb25uLAogICAgICAgICAgICBwYXJlbnRfaWQ9cG9zdF9pZCwKICAgICAgICAgICAgbm9kZV90eXBlPSJTRUNUSU9OIiwKICAgICAgICAgICAga2V5X2ZuPWxhbWJkYSBuaWQ6IChuaWQsIGN0eF9zaWcpLAogICAgICAgICkKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBFVkVOVAogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBjdXIuZXhlY3V0ZSgKICAgICAgICAiU0VMRUNUIGlkIEZST00gZG9tX25vZGUgV0hFUkUgbm9kZV90eXBlIElOICgnUE9TVCcsICdTRUNUSU9OJykiCiAgICApCgogICAgZm9yIChwYXJlbnRfaWQsKSBpbiBjdXIuZmV0Y2hhbGwoKToKICAgICAgICBfZGVkdXBlX2NoaWxkcmVuKAogICAgICAgICAgICBkb21fY29ubj1kb21fY29ubiwKICAgICAgICAgICAgcGFyZW50X2lkPXBhcmVudF9pZCwKICAgICAgICAgICAgbm9kZV90eXBlPSJFVkVOVCIsCiAgICAgICAgICAgIGtleV9mbj1sYW1iZGEgbmlkOiAobmlkLCBjdHhfc2lnKSwKICAgICAgICApCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICMgTE9DQVRJT05fU0VSSUVTCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGN1ci5leGVjdXRlKAogICAgICAgICJTRUxFQ1QgaWQgRlJPTSBkb21fbm9kZSBXSEVSRSBub2RlX3R5cGUgPSAnRVZFTlQnIgogICAgKQoKICAgIGZvciAoZXZlbnRfaWQsKSBpbiBjdXIuZmV0Y2hhbGwoKToKICAgICAgICBkZWYgc2VyaWVzX2tleShzZXJpZXNfbm9kZV9pZDogaW50KToKICAgICAgICAgICAgYyA9IGRvbV9jb25uLmN1cnNvcigpCiAgICAgICAgICAgIGMuZXhlY3V0ZSgKICAgICAgICAgICAgICAgICIiIgogICAgICAgICAgICAgICAgU0VMRUNUIGNoaWxkLmlkCiAgICAgICAgICAgICAgICBGUk9NIGRvbV9ub2RlIGNoaWxkCiAgICAgICAgICAgICAgICBXSEVSRSBjaGlsZC5wYXJlbnRfaWQgPSA/CiAgICAgICAgICAgICAgICBPUkRFUiBCWSBjaGlsZC5zaWJsaW5nX29yZGVyCiAgICAgICAgICAgICAgICAiIiIsCiAgICAgICAgICAgICAgICAoc2VyaWVzX25vZGVfaWQsKSwKICAgICAgICAgICAgKQogICAgICAgICAgICByZXR1cm4gKAogICAgICAgICAgICAgICAgdHVwbGUoclswXSBmb3IgciBpbiBjLmZldGNoYWxsKCkpLAogICAgICAgICAgICAgICAgY3R4X3NpZywKICAgICAgICAgICAgKQoKICAgICAgICBfZGVkdXBlX2NoaWxkcmVuKAogICAgICAgICAgICBkb21fY29ubj1kb21fY29ubiwKICAgICAgICAgICAgcGFyZW50X2lkPWV2ZW50X2lkLAogICAgICAgICAgICBub2RlX3R5cGU9IkxPQ0FUSU9OX1NFUklFUyIsCiAgICAgICAgICAgIGtleV9mbj1zZXJpZXNfa2V5LAogICAgICAgICkKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBMT0NBVElPTgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBjdXIuZXhlY3V0ZSgKICAgICAgICAiU0VMRUNUIGlkIEZST00gZG9tX25vZGUgV0hFUkUgbm9kZV90eXBlID0gJ0xPQ0FUSU9OX1NFUklFUyciCiAgICApCgogICAgZm9yIChzZXJpZXNfaWQsKSBpbiBjdXIuZmV0Y2hhbGwoKToKICAgICAgICBfZGVkdXBlX2NoaWxkcmVuKAogICAgICAgICAgICBkb21fY29ubj1kb21fY29ubiwKICAgICAgICAgICAgcGFyZW50X2lkPXNlcmllc19pZCwKICAgICAgICAgICAgbm9kZV90eXBlPSJMT0NBVElPTiIsCiAgICAgICAgICAgIGtleV9mbj1sYW1iZGEgbmlkOiAobmlkLCBjdHhfc2lnKSwKICAgICAgICApCgogICAgZG9tX2Nvbm4uY29tbWl0KCkKAAAAAAAAAAAXEwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAFxMAAAAAAAAXEwAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "src/sitrepc2/dom/dom_first_review.py",
			"settings":
			{
				"buffer_size": 2897,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					5,
					1,
					"insert",
					{
						"characters": "#"
					},
					"AQAAANQIAAAAAAAA1QgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA1AgAAAAAAADUCAAAAAAAAAAAAAAAAPC/"
				],
				[
					6,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAARCwAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKaW1wb3J0IHNxbGl0ZTMKZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZXRpbWUKCmZyb20gc2l0cmVwYzIuZG9tLmRvbV9pbmdlc3QgaW1wb3J0IGRvbV9pbmdlc3QKZnJvbSBzaXRyZXBjMi5kb20uZG9tX2RlZHVwZSBpbXBvcnQgZG9tX2RlZHVwZQpmcm9tIHNpdHJlcGMyLmRvbS5kb21fc2NvcGluZyBpbXBvcnQgc2NvcGVfZG9tX2xvY2F0aW9ucwpmcm9tIHNpdHJlcGMyLmRvbS5kb21fdHJlZV9idWlsZGVyIGltcG9ydCBidWlsZF9kb21fdHJlZQpmcm9tIHNpdHJlcGMyLmRvbS5kb21fY29udGV4dF9sb2FkZXIgaW1wb3J0IGxvYWRfbHNzX2NvbnRleHRfaGludHMKCgpkZWYgYnVpbGRfZG9tX2Zvcl9maXJzdF9yZXZpZXcoCiAgICAqLAogICAgY29ubjogc3FsaXRlMy5Db25uZWN0aW9uLAogICAgaW5nZXN0X3Bvc3RfaWQ6IGludCwKICAgIGxzc19ydW5faWQ6IGludCwKKToKICAgICIiIgogICAgQnVpbGQgKG9yIGxvYWQpIGEgRE9NIHNuYXBzaG90IGFuZCByZXR1cm4gYSBoeWRyYXRlZCBET00gdHJlZQogICAgc3VpdGFibGUgZm9yIEZJUlNUIFJFVklFVyAoR1VJIC8gQ0xJKS4KCiAgICBQcm9wZXJ0aWVzOgogICAgICDigKIgSWRlbXBvdGVudAogICAgICDigKIgTFNTLWZyb3plbiBjb21wbGlhbnQKICAgICAg4oCiIFVJLXNhZmUKICAgICAg4oCiIE5vbi1sZWFreQogICAgIiIiCgogICAgY3VyID0gY29ubi5jdXJzb3IoKQoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICMgQ2hlY2sgZm9yIGV4aXN0aW5nIENSRUFURUQgc25hcHNob3QKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBjdXIuZXhlY3V0ZSgKICAgICAgICAiIiIKICAgICAgICBTRUxFQ1QgZHMuaWQKICAgICAgICBGUk9NIGRvbV9zbmFwc2hvdCBkcwogICAgICAgIEpPSU4gZG9tX3Bvc3QgZHAgT04gZHAuaWQgPSBkcy5kb21fcG9zdF9pZAogICAgICAgIFdIRVJFIGRwLmluZ2VzdF9wb3N0X2lkID0gPwogICAgICAgICAgQU5EIGRwLmxzc19ydW5faWQgPSA/CiAgICAgICAgICBBTkQgZHMubGlmZWN5Y2xlX3N0YWdlX2lkID0gMQogICAgICAgICIiIiwKICAgICAgICAoaW5nZXN0X3Bvc3RfaWQsIGxzc19ydW5faWQpLAogICAgKQoKICAgIHJvdyA9IGN1ci5mZXRjaG9uZSgpCgogICAgaWYgcm93IGlzIG5vdCBOb25lOgogICAgICAgIGRvbV9zbmFwc2hvdF9pZCA9IHJvd1swXQoKICAgICAgICB0cmVlID0gYnVpbGRfZG9tX3RyZWUoCiAgICAgICAgICAgIGNvbm49Y29ubiwKICAgICAgICAgICAgZG9tX3NuYXBzaG90X2lkPWRvbV9zbmFwc2hvdF9pZCwKICAgICAgICApCgogICAgICAgIHJldHVybiB0cmVlLCBkb21fc25hcHNob3RfaWQKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIE5vIHNuYXBzaG90IOKGkiBpbmdlc3QKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBkb21fc25hcHNob3RfaWQgPSBkb21faW5nZXN0KAogICAgICAgIGNvbm49Y29ubiwKICAgICAgICBpbmdlc3RfcG9zdF9pZD1pbmdlc3RfcG9zdF9pZCwKICAgICAgICBsc3NfcnVuX2lkPWxzc19ydW5faWQsCiAgICAgICAgY3JlYXRlZF9hdD1kYXRldGltZS51dGNub3coKSwKICAgICkKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAjIExvYWQgYXV0aG9yaXRhdGl2ZSBjb250ZXh0IGhpbnRzIChJTlRFUk5BTCkKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBjb250ZXh0X2hpbnRzID0gbG9hZF9sc3NfY29udGV4dF9oaW50cygKICAgICAgICBjb25uPWNvbm4sCiAgICAgICAgbHNzX3J1bl9pZD1sc3NfcnVuX2lkLAogICAgKQoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICMgU3RydWN0dXJhbCBkZWR1cGUgKHNuYXBzaG90LXNjb3BlZCkKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICAjIERlZHVwbGljYXRpb24KICAgIGRvbV9kZWR1cGUoCiAgICAgICAgZG9tX2Nvbm49Y29ubiwKICAgICAgICAjZG9tX3NuYXBzaG90X2lkPWRvbV9zbmFwc2hvdF9pZCwKICAgICAgICBjb250ZXh0X2hpbnRzPWNvbnRleHRfaGludHMsCiAgICApCgogICAgIyBHYXpldHRlZXIgc2NvcGluZwogICAgc2NvcGVfZG9tX2xvY2F0aW9ucygKICAgICAgICBkb21fY29ubj1jb25uLAogICAgICAgIGRvbV9zbmFwc2hvdF9pZD1kb21fc25hcHNob3RfaWQsCiAgICAgICAgY29udGV4dF9oaW50cz1jb250ZXh0X2hpbnRzLAogICAgKQoKICAgICMgTkVXOiBtYXRlcmlhbGl6ZSBjb250ZXh0IG1ldGFkYXRhCiAgICBtYXRlcmlhbGl6ZV9kb21fY29udGV4dCgKICAgICAgICBkb21fY29ubj1jb25uLAogICAgICAgIGRvbV9zbmFwc2hvdF9pZD1kb21fc25hcHNob3RfaWQsCiAgICAgICAgY29udGV4dF9oaW50cz1jb250ZXh0X2hpbnRzLAogICAgKQoKICAgICMgSHlkcmF0ZSBET00gdHJlZQogICAgdHJlZSA9IGJ1aWxkX2RvbV90cmVlKAogICAgICAgIGNvbm49Y29ubiwKICAgICAgICBkb21fc25hcHNob3RfaWQ9ZG9tX3NuYXBzaG90X2lkLAogICAgKQoKCiAgICByZXR1cm4gdHJlZSwgZG9tX3NuYXBzaG90X2lkCgAAAAAAAAAABwsAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA1QgAAAAAAADVCAAAAAAAAAAAAAAAAPC/"
				],
				[
					13,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AQAAAGQBAAAAAAAAZQEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAZAEAAAAAAABkAQAAAAAAAAAAAAAAAPC/"
				],
				[
					20,
					1,
					"paste",
					null,
					"AQAAAGUBAAAAAAAAgwEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAZQEAAAAAAABlAQAAAAAAAAAAAAAAAPC/"
				],
				[
					21,
					1,
					"insert",
					{
						"characters": "materializ"
					},
					"CgAAAIMBAAAAAAAAhAEAAAAAAAAAAAAAhAEAAAAAAACFAQAAAAAAAAAAAACFAQAAAAAAAIYBAAAAAAAAAAAAAIYBAAAAAAAAhwEAAAAAAAAAAAAAhwEAAAAAAACIAQAAAAAAAAAAAACIAQAAAAAAAIkBAAAAAAAAAAAAAIkBAAAAAAAAigEAAAAAAAAAAAAAigEAAAAAAACLAQAAAAAAAAAAAACLAQAAAAAAAIwBAAAAAAAAAAAAAIwBAAAAAAAAjQEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAgwEAAAAAAACDAQAAAAAAAAAAAAAAAPC/"
				],
				[
					22,
					1,
					"insert",
					{
						"characters": "er"
					},
					"AgAAAI0BAAAAAAAAjgEAAAAAAAAAAAAAjgEAAAAAAACPAQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAjQEAAAAAAACNAQAAAAAAAAAAAAAAAPC/"
				],
				[
					23,
					1,
					"insert",
					{
						"characters": " import"
					},
					"BwAAAI8BAAAAAAAAkAEAAAAAAAAAAAAAkAEAAAAAAACRAQAAAAAAAAAAAACRAQAAAAAAAJIBAAAAAAAAAAAAAJIBAAAAAAAAkwEAAAAAAAAAAAAAkwEAAAAAAACUAQAAAAAAAAAAAACUAQAAAAAAAJUBAAAAAAAAAAAAAJUBAAAAAAAAlgEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAjwEAAAAAAACPAQAAAAAAAAAAAAAAAPC/"
				],
				[
					24,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAJYBAAAAAAAAlwEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAlgEAAAAAAACWAQAAAAAAAAAAAAAAAPC/"
				],
				[
					25,
					1,
					"paste",
					null,
					"AQAAAJcBAAAAAAAArQEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAlwEAAAAAAACXAQAAAAAAAAAAAAAAAPC/"
				],
				[
					26,
					1,
					"insert",
					{
						"characters": "t"
					},
					"AQAAAK0BAAAAAAAArgEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAArQEAAAAAAACtAQAAAAAAAAAAAAAAAPC/"
				],
				[
					27,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABbCwAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKaW1wb3J0IHNxbGl0ZTMKZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZXRpbWUKCmZyb20gc2l0cmVwYzIuZG9tLmRvbV9pbmdlc3QgaW1wb3J0IGRvbV9pbmdlc3QKZnJvbSBzaXRyZXBjMi5kb20uZG9tX2RlZHVwZSBpbXBvcnQgZG9tX2RlZHVwZQpmcm9tIHNpdHJlcGMyLmRvbS5kb21fc2NvcGluZyBpbXBvcnQgc2NvcGVfZG9tX2xvY2F0aW9ucwpmcm9tIHNpdHJlcGMyLmRvbS5kb21fdHJlZV9idWlsZGVyIGltcG9ydCBidWlsZF9kb21fdHJlZQpmcm9tIHNpdHJlcGMyLmRvbS5kb21fY29udGV4dF9sb2FkZXIgaW1wb3J0IGxvYWRfbHNzX2NvbnRleHRfaGludHMKZnJvbSBzaXRyZXBjMi5kb20uZG9tX2NvbnRleHRfbWF0ZXJpYWxpemVyIGltcG9ydCBtYXRlcmlhbGl6ZV9kb21fY29udGV4dAoKCmRlZiBidWlsZF9kb21fZm9yX2ZpcnN0X3JldmlldygKICAgICosCiAgICBjb25uOiBzcWxpdGUzLkNvbm5lY3Rpb24sCiAgICBpbmdlc3RfcG9zdF9pZDogaW50LAogICAgbHNzX3J1bl9pZDogaW50LAopOgogICAgIiIiCiAgICBCdWlsZCAob3IgbG9hZCkgYSBET00gc25hcHNob3QgYW5kIHJldHVybiBhIGh5ZHJhdGVkIERPTSB0cmVlCiAgICBzdWl0YWJsZSBmb3IgRklSU1QgUkVWSUVXIChHVUkgLyBDTEkpLgoKICAgIFByb3BlcnRpZXM6CiAgICAgIOKAoiBJZGVtcG90ZW50CiAgICAgIOKAoiBMU1MtZnJvemVuIGNvbXBsaWFudAogICAgICDigKIgVUktc2FmZQogICAgICDigKIgTm9uLWxlYWt5CiAgICAiIiIKCiAgICBjdXIgPSBjb25uLmN1cnNvcigpCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBDaGVjayBmb3IgZXhpc3RpbmcgQ1JFQVRFRCBzbmFwc2hvdAogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGN1ci5leGVjdXRlKAogICAgICAgICIiIgogICAgICAgIFNFTEVDVCBkcy5pZAogICAgICAgIEZST00gZG9tX3NuYXBzaG90IGRzCiAgICAgICAgSk9JTiBkb21fcG9zdCBkcCBPTiBkcC5pZCA9IGRzLmRvbV9wb3N0X2lkCiAgICAgICAgV0hFUkUgZHAuaW5nZXN0X3Bvc3RfaWQgPSA/CiAgICAgICAgICBBTkQgZHAubHNzX3J1bl9pZCA9ID8KICAgICAgICAgIEFORCBkcy5saWZlY3ljbGVfc3RhZ2VfaWQgPSAxCiAgICAgICAgIiIiLAogICAgICAgIChpbmdlc3RfcG9zdF9pZCwgbHNzX3J1bl9pZCksCiAgICApCgogICAgcm93ID0gY3VyLmZldGNob25lKCkKCiAgICBpZiByb3cgaXMgbm90IE5vbmU6CiAgICAgICAgZG9tX3NuYXBzaG90X2lkID0gcm93WzBdCgogICAgICAgIHRyZWUgPSBidWlsZF9kb21fdHJlZSgKICAgICAgICAgICAgY29ubj1jb25uLAogICAgICAgICAgICBkb21fc25hcHNob3RfaWQ9ZG9tX3NuYXBzaG90X2lkLAogICAgICAgICkKCiAgICAgICAgcmV0dXJuIHRyZWUsIGRvbV9zbmFwc2hvdF9pZAoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICMgTm8gc25hcHNob3Qg4oaSIGluZ2VzdAogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGRvbV9zbmFwc2hvdF9pZCA9IGRvbV9pbmdlc3QoCiAgICAgICAgY29ubj1jb25uLAogICAgICAgIGluZ2VzdF9wb3N0X2lkPWluZ2VzdF9wb3N0X2lkLAogICAgICAgIGxzc19ydW5faWQ9bHNzX3J1bl9pZCwKICAgICAgICBjcmVhdGVkX2F0PWRhdGV0aW1lLnV0Y25vdygpLAogICAgKQoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICMgTG9hZCBhdXRob3JpdGF0aXZlIGNvbnRleHQgaGludHMgKElOVEVSTkFMKQogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGNvbnRleHRfaGludHMgPSBsb2FkX2xzc19jb250ZXh0X2hpbnRzKAogICAgICAgIGNvbm49Y29ubiwKICAgICAgICBsc3NfcnVuX2lkPWxzc19ydW5faWQsCiAgICApCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBTdHJ1Y3R1cmFsIGRlZHVwZSAoc25hcHNob3Qtc2NvcGVkKQogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgICMgRGVkdXBsaWNhdGlvbgogICAgZG9tX2RlZHVwZSgKICAgICAgICBkb21fY29ubj1jb25uLAogICAgICAgICNkb21fc25hcHNob3RfaWQ9ZG9tX3NuYXBzaG90X2lkLAogICAgICAgIGNvbnRleHRfaGludHM9Y29udGV4dF9oaW50cywKICAgICkKCiAgICAjIEdhemV0dGVlciBzY29waW5nCiAgICBzY29wZV9kb21fbG9jYXRpb25zKAogICAgICAgIGRvbV9jb25uPWNvbm4sCiAgICAgICAgZG9tX3NuYXBzaG90X2lkPWRvbV9zbmFwc2hvdF9pZCwKICAgICAgICBjb250ZXh0X2hpbnRzPWNvbnRleHRfaGludHMsCiAgICApCgogICAgIyBORVc6IG1hdGVyaWFsaXplIGNvbnRleHQgbWV0YWRhdGEKICAgIG1hdGVyaWFsaXplX2RvbV9jb250ZXh0KAogICAgICAgIGRvbV9jb25uPWNvbm4sCiAgICAgICAgZG9tX3NuYXBzaG90X2lkPWRvbV9zbmFwc2hvdF9pZCwKICAgICAgICBjb250ZXh0X2hpbnRzPWNvbnRleHRfaGludHMsCiAgICApCgogICAgIyBIeWRyYXRlIERPTSB0cmVlCiAgICB0cmVlID0gYnVpbGRfZG9tX3RyZWUoCiAgICAgICAgY29ubj1jb25uLAogICAgICAgIGRvbV9zbmFwc2hvdF9pZD1kb21fc25hcHNob3RfaWQsCiAgICApCgoKICAgIHJldHVybiB0cmVlLCBkb21fc25hcHNob3RfaWQKAAAAAAAAAABRCwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAArgEAAAAAAACuAQAAAAAAAAAAAAAAAPC/"
				],
				[
					34,
					1,
					"paste",
					null,
					"AQAAAG0KAAAAAAAAfAoAAAAAAAAPAAAAZG9tX3NuYXBzaG90X2lk",
					"AQAAAAAAAAABAAAAfAoAAAAAAABtCgAAAAAAAAAAAAAAAPC/"
				],
				[
					37,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABbCwAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKaW1wb3J0IHNxbGl0ZTMKZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZXRpbWUKCmZyb20gc2l0cmVwYzIuZG9tLmRvbV9pbmdlc3QgaW1wb3J0IGRvbV9pbmdlc3QKZnJvbSBzaXRyZXBjMi5kb20uZG9tX2RlZHVwZSBpbXBvcnQgZG9tX2RlZHVwZQpmcm9tIHNpdHJlcGMyLmRvbS5kb21fc2NvcGluZyBpbXBvcnQgc2NvcGVfZG9tX2xvY2F0aW9ucwpmcm9tIHNpdHJlcGMyLmRvbS5kb21fdHJlZV9idWlsZGVyIGltcG9ydCBidWlsZF9kb21fdHJlZQpmcm9tIHNpdHJlcGMyLmRvbS5kb21fY29udGV4dF9sb2FkZXIgaW1wb3J0IGxvYWRfbHNzX2NvbnRleHRfaGludHMKZnJvbSBzaXRyZXBjMi5kb20uZG9tX2NvbnRleHRfbWF0ZXJpYWxpemVyIGltcG9ydCBtYXRlcmlhbGl6ZV9kb21fY29udGV4dAoKCmRlZiBidWlsZF9kb21fZm9yX2ZpcnN0X3JldmlldygKICAgICosCiAgICBjb25uOiBzcWxpdGUzLkNvbm5lY3Rpb24sCiAgICBpbmdlc3RfcG9zdF9pZDogaW50LAogICAgbHNzX3J1bl9pZDogaW50LAopOgogICAgIiIiCiAgICBCdWlsZCAob3IgbG9hZCkgYSBET00gc25hcHNob3QgYW5kIHJldHVybiBhIGh5ZHJhdGVkIERPTSB0cmVlCiAgICBzdWl0YWJsZSBmb3IgRklSU1QgUkVWSUVXIChHVUkgLyBDTEkpLgoKICAgIFByb3BlcnRpZXM6CiAgICAgIOKAoiBJZGVtcG90ZW50CiAgICAgIOKAoiBMU1MtZnJvemVuIGNvbXBsaWFudAogICAgICDigKIgVUktc2FmZQogICAgICDigKIgTm9uLWxlYWt5CiAgICAiIiIKCiAgICBjdXIgPSBjb25uLmN1cnNvcigpCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBDaGVjayBmb3IgZXhpc3RpbmcgQ1JFQVRFRCBzbmFwc2hvdAogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGN1ci5leGVjdXRlKAogICAgICAgICIiIgogICAgICAgIFNFTEVDVCBkcy5pZAogICAgICAgIEZST00gZG9tX3NuYXBzaG90IGRzCiAgICAgICAgSk9JTiBkb21fcG9zdCBkcCBPTiBkcC5pZCA9IGRzLmRvbV9wb3N0X2lkCiAgICAgICAgV0hFUkUgZHAuaW5nZXN0X3Bvc3RfaWQgPSA/CiAgICAgICAgICBBTkQgZHAubHNzX3J1bl9pZCA9ID8KICAgICAgICAgIEFORCBkcy5saWZlY3ljbGVfc3RhZ2VfaWQgPSAxCiAgICAgICAgIiIiLAogICAgICAgIChpbmdlc3RfcG9zdF9pZCwgbHNzX3J1bl9pZCksCiAgICApCgogICAgcm93ID0gY3VyLmZldGNob25lKCkKCiAgICBpZiByb3cgaXMgbm90IE5vbmU6CiAgICAgICAgZG9tX3NuYXBzaG90X2lkID0gcm93WzBdCgogICAgICAgIHRyZWUgPSBidWlsZF9kb21fdHJlZSgKICAgICAgICAgICAgY29ubj1jb25uLAogICAgICAgICAgICBkb21fc25hcHNob3RfaWQ9ZG9tX3NuYXBzaG90X2lkLAogICAgICAgICkKCiAgICAgICAgcmV0dXJuIHRyZWUsIGRvbV9zbmFwc2hvdF9pZAoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICMgTm8gc25hcHNob3Qg4oaSIGluZ2VzdAogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGRvbV9zbmFwc2hvdF9pZCA9IGRvbV9pbmdlc3QoCiAgICAgICAgY29ubj1jb25uLAogICAgICAgIGluZ2VzdF9wb3N0X2lkPWluZ2VzdF9wb3N0X2lkLAogICAgICAgIGxzc19ydW5faWQ9bHNzX3J1bl9pZCwKICAgICAgICBjcmVhdGVkX2F0PWRhdGV0aW1lLnV0Y25vdygpLAogICAgKQoKICAgICMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICMgTG9hZCBhdXRob3JpdGF0aXZlIGNvbnRleHQgaGludHMgKElOVEVSTkFMKQogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGNvbnRleHRfaGludHMgPSBsb2FkX2xzc19jb250ZXh0X2hpbnRzKAogICAgICAgIGNvbm49Y29ubiwKICAgICAgICBsc3NfcnVuX2lkPWxzc19ydW5faWQsCiAgICApCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBTdHJ1Y3R1cmFsIGRlZHVwZSAoc25hcHNob3Qtc2NvcGVkKQogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgICMgRGVkdXBsaWNhdGlvbgogICAgZG9tX2RlZHVwZSgKICAgICAgICBkb21fY29ubj1jb25uLAogICAgICAgICNkb21fc25hcHNob3RfaWQ9ZG9tX3NuYXBzaG90X2lkLAogICAgICAgIGNvbnRleHRfaGludHM9Y29udGV4dF9oaW50cywKICAgICkKCiAgICAjIEdhemV0dGVlciBzY29waW5nCiAgICBzY29wZV9kb21fbG9jYXRpb25zKAogICAgICAgIGRvbV9jb25uPWNvbm4sCiAgICAgICAgZG9tX3NuYXBzaG90X2lkPWRvbV9zbmFwc2hvdF9pZCwKICAgICAgICBjb250ZXh0X2hpbnRzPWNvbnRleHRfaGludHMsCiAgICApCgogICAgIyBORVc6IG1hdGVyaWFsaXplIGNvbnRleHQgbWV0YWRhdGEKICAgIG1hdGVyaWFsaXplX2RvbV9jb250ZXh0KAogICAgICAgIGRvbV9jb25uPWNvbm4sCiAgICAgICAgZG9tX3NuYXBzaG90X2lkPWRvbV9zbmFwc2hvdF9pZCwKICAgICAgICBjb250ZXh0X2hpbnRzPWNvbnRleHRfaGludHMsCiAgICApCgogICAgIyBIeWRyYXRlIERPTSB0cmVlCiAgICB0cmVlID0gYnVpbGRfZG9tX3RyZWUoCiAgICAgICAgY29ubj1jb25uLAogICAgICAgIGRvbV9zbmFwc2hvdF9pZD1kb21fc25hcHNob3RfaWQsCiAgICApCgoKICAgIHJldHVybiB0cmVlLCBkb21fc25hcHNob3RfaWQKAAAAAAAAAABRCwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAAQoAAAAAAAABCgAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "src/sitrepc2/dom/dom_context_materializer.py",
			"settings":
			{
				"buffer_size": 2418,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					7,
					1,
					"left_delete",
					null,
					"AQAAABEGAAAAAAAAEQYAAAAAAAABAAAAYw",
					"AQAAAAAAAAABAAAAEgYAAAAAAAASBgAAAAAAAAAAAAAAAPC/"
				],
				[
					10,
					1,
					"left_delete",
					null,
					"AQAAALQAAAAAAAAAtAAAAAAAAAABAAAAXw",
					"AQAAAAAAAAABAAAAtQAAAAAAAAC1AAAAAAAAAAAAAAAAAPC/"
				],
				[
					11,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABXCQAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKaW1wb3J0IHNxbGl0ZTMKZnJvbSB0eXBpbmcgaW1wb3J0IEl0ZXJhYmxlLCBEaWN0LCBTZXQKCmZyb20gc2l0cmVwYzIubHNzLmxzc19zY29waW5nIGltcG9ydCBMU1NDb250ZXh0SGludApmcm9tIHNpdHJlcGMyLmRvbS5kb21fc2NvcGluZyBpbXBvcnQgY29sbGVjdF9jb250ZXh0X2NoYWluCgoKZGVmIG1hdGVyaWFsaXplX2RvbV9jb250ZXh0KAogICAgKiwKICAgIGRvbV9jb25uOiBzcWxpdGUzLkNvbm5lY3Rpb24sCiAgICBkb21fc25hcHNob3RfaWQ6IGludCwKICAgIGNvbnRleHRfaGludHM6IEl0ZXJhYmxlW0xTU0NvbnRleHRIaW50XSwKKSAtPiBOb25lOgogICAgIiIiCiAgICBNYXRlcmlhbGl6ZSBlZmZlY3RpdmUgY29udGV4dCBwZXIgRE9NIG5vZGUgaW50byBkb21fY29udGV4dC4KCiAgICBSdWxlczoKICAgICAg4oCiIFNuYXBzaG90LXNjb3BlZAogICAgICDigKIgRG9taW5hbmNlLXJlc29sdmVkIChMT0NBVElPTiDihpIgU0VSSUVTIOKGkiBFVkVOVCDihpIgU0VDVElPTiDihpIgUE9TVCkKICAgICAg4oCiIE5vIGluZmVyZW5jZQogICAgICDigKIgTm8gc3ludGhlc2lzCiAgICAgIOKAoiBJZGVtcG90ZW50IHBlciBzbmFwc2hvdAogICAgIiIiCgogICAgY3VyID0gZG9tX2Nvbm4uY3Vyc29yKCkKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBHdWFyZDogZG8gbm90IGRvdWJsZS1tYXRlcmlhbGl6ZQogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBjdXIuZXhlY3V0ZSgKICAgICAgICAiIiIKICAgICAgICBTRUxFQ1QgMQogICAgICAgIEZST00gZG9tX2NvbnRleHQKICAgICAgICBXSEVSRSBkb21fc25hcHNob3RfaWQgPSA/CiAgICAgICAgTElNSVQgMQogICAgICAgICIiIiwKICAgICAgICAoZG9tX3NuYXBzaG90X2lkLCksCiAgICApCgogICAgaWYgY3VyLmZldGNob25lKCkgaXMgbm90IE5vbmU6CiAgICAgICAgcmV0dXJuCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICMgSXRlcmF0ZSBhbGwgRE9NIG5vZGVzIGluIHNuYXBzaG90CiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGN1ci5leGVjdXRlKAogICAgICAgICIiIgogICAgICAgIFNFTEVDVCBkbi5pZAogICAgICAgIEZST00gZG9tX25vZGUgZG4KICAgICAgICBKT0lOIGRvbV9ub2RlX3N0YXRlIHN0CiAgICAgICAgICBPTiBzdC5kb21fbm9kZV9pZCA9IGRuLmlkCiAgICAgICAgIEFORCBzdC5kb21fc25hcHNob3RfaWQgPSA/CiAgICAgICAgIiIiLAogICAgICAgIChkb21fc25hcHNob3RfaWQsKSwKICAgICkKCiAgICBub2RlX2lkcyA9IFtyb3dbMF0gZm9yIHJvdyBpbiBjdXIuZmV0Y2hhbGwoKV0KCiAgICBmb3Igbm9kZV9pZCBpbiBub2RlX2lkczoKICAgICAgICBjdHhfbWFwOiBEaWN0W3N0ciwgU2V0W2ludF1dID0gX29sbGVjdF9jb250ZXh0X2NoYWluKAogICAgICAgICAgICBub2RlX2lkPW5vZGVfaWQsCiAgICAgICAgICAgIGRvbV9jb25uPWRvbV9jb25uLAogICAgICAgICAgICBjb250ZXh0X2hpbnRzPWNvbnRleHRfaGludHMsCiAgICAgICAgKQoKICAgICAgICBmb3IgY3R4X2tpbmQsIHZhbHVlcyBpbiBjdHhfbWFwLml0ZW1zKCk6CiAgICAgICAgICAgIGZvciB2YWx1ZSBpbiB2YWx1ZXM6CiAgICAgICAgICAgICAgICBjdXIuZXhlY3V0ZSgKICAgICAgICAgICAgICAgICAgICAiIiIKICAgICAgICAgICAgICAgICAgICBJTlNFUlQgSU5UTyBkb21fY29udGV4dCAoCiAgICAgICAgICAgICAgICAgICAgICAgIGRvbV9zbmFwc2hvdF9pZCwKICAgICAgICAgICAgICAgICAgICAgICAgZG9tX25vZGVfaWQsCiAgICAgICAgICAgICAgICAgICAgICAgIGN0eF9raW5kLAogICAgICAgICAgICAgICAgICAgICAgICBjdHhfdmFsdWUsCiAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJyaWRkZW4KICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgVkFMVUVTICg/LCA/LCA/LCA/LCBGQUxTRSkKICAgICAgICAgICAgICAgICAgICAiIiIsCiAgICAgICAgICAgICAgICAgICAgKAogICAgICAgICAgICAgICAgICAgICAgICBkb21fc25hcHNob3RfaWQsCiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVfaWQsCiAgICAgICAgICAgICAgICAgICAgICAgIGN0eF9raW5kLAogICAgICAgICAgICAgICAgICAgICAgICBzdHIodmFsdWUpLAogICAgICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICApCgogICAgZG9tX2Nvbm4uY29tbWl0KCkKAAAAAAAAAABFCQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAtAAAAAAAAAC0AAAAAAAAAAAAAAAAAPC/"
				],
				[
					14,
					1,
					"left_delete",
					null,
					"AQAAAA8GAAAAAAAADwYAAAAAAAABAAAAXw",
					"AQAAAAAAAAABAAAAEAYAAAAAAAAQBgAAAAAAAAAAAAAAAPC/"
				],
				[
					15,
					1,
					"insert",
					{
						"characters": "c"
					},
					"AQAAAA8GAAAAAAAAEAYAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAADwYAAAAAAAAPBgAAAAAAAAAAAAAAAPC/"
				],
				[
					20,
					1,
					"insert",
					{
						"characters": "\ndom_"
					},
					"BwAAACUGAAAAAAAALgYAAAAAAAAAAAAAJgYAAAAAAAAmBgAAAAAAAAgAAAAgICAgICAgICYGAAAAAAAAMgYAAAAAAAAAAAAAMgYAAAAAAAAzBgAAAAAAAAAAAAAzBgAAAAAAADQGAAAAAAAAAAAAADQGAAAAAAAANQYAAAAAAAAAAAAANQYAAAAAAAA2BgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAJQYAAAAAAAAlBgAAAAAAAAAAAAAAAPC/"
				],
				[
					21,
					1,
					"insert_completion",
					{
						"completion": "dom_snapshot_id",
						"format": "text",
						"keep_prefix": false,
						"must_insert": false,
						"trigger": "dom_snapshot_id"
					},
					"AgAAADIGAAAAAAAAMgYAAAAAAAAEAAAAZG9tXzIGAAAAAAAAQQYAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAANgYAAAAAAAA2BgAAAAAAAAAAAAAAAPC/"
				],
				[
					22,
					1,
					"insert",
					{
						"characters": "=dom"
					},
					"BAAAAEEGAAAAAAAAQgYAAAAAAAAAAAAAQgYAAAAAAABDBgAAAAAAAAAAAABDBgAAAAAAAEQGAAAAAAAAAAAAAEQGAAAAAAAARQYAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAQQYAAAAAAABBBgAAAAAAAAAAAAAAAPC/"
				],
				[
					23,
					1,
					"insert_completion",
					{
						"completion": "dom_snapshot_id",
						"format": "text",
						"keep_prefix": false,
						"must_insert": false,
						"trigger": "dom_snapshot_id"
					},
					"AgAAAEIGAAAAAAAAQgYAAAAAAAADAAAAZG9tQgYAAAAAAABRBgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAARQYAAAAAAABFBgAAAAAAAAAAAAAAAPC/"
				],
				[
					24,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAAFEGAAAAAAAAUgYAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAUQYAAAAAAABRBgAAAAAAAAAAAAAAAPC/"
				],
				[
					25,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACECQAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKaW1wb3J0IHNxbGl0ZTMKZnJvbSB0eXBpbmcgaW1wb3J0IEl0ZXJhYmxlLCBEaWN0LCBTZXQKCmZyb20gc2l0cmVwYzIubHNzLmxzc19zY29waW5nIGltcG9ydCBMU1NDb250ZXh0SGludApmcm9tIHNpdHJlcGMyLmRvbS5kb21fc2NvcGluZyBpbXBvcnQgY29sbGVjdF9jb250ZXh0X2NoYWluCgoKZGVmIG1hdGVyaWFsaXplX2RvbV9jb250ZXh0KAogICAgKiwKICAgIGRvbV9jb25uOiBzcWxpdGUzLkNvbm5lY3Rpb24sCiAgICBkb21fc25hcHNob3RfaWQ6IGludCwKICAgIGNvbnRleHRfaGludHM6IEl0ZXJhYmxlW0xTU0NvbnRleHRIaW50XSwKKSAtPiBOb25lOgogICAgIiIiCiAgICBNYXRlcmlhbGl6ZSBlZmZlY3RpdmUgY29udGV4dCBwZXIgRE9NIG5vZGUgaW50byBkb21fY29udGV4dC4KCiAgICBSdWxlczoKICAgICAg4oCiIFNuYXBzaG90LXNjb3BlZAogICAgICDigKIgRG9taW5hbmNlLXJlc29sdmVkIChMT0NBVElPTiDihpIgU0VSSUVTIOKGkiBFVkVOVCDihpIgU0VDVElPTiDihpIgUE9TVCkKICAgICAg4oCiIE5vIGluZmVyZW5jZQogICAgICDigKIgTm8gc3ludGhlc2lzCiAgICAgIOKAoiBJZGVtcG90ZW50IHBlciBzbmFwc2hvdAogICAgIiIiCgogICAgY3VyID0gZG9tX2Nvbm4uY3Vyc29yKCkKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIyBHdWFyZDogZG8gbm90IGRvdWJsZS1tYXRlcmlhbGl6ZQogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICBjdXIuZXhlY3V0ZSgKICAgICAgICAiIiIKICAgICAgICBTRUxFQ1QgMQogICAgICAgIEZST00gZG9tX2NvbnRleHQKICAgICAgICBXSEVSRSBkb21fc25hcHNob3RfaWQgPSA/CiAgICAgICAgTElNSVQgMQogICAgICAgICIiIiwKICAgICAgICAoZG9tX3NuYXBzaG90X2lkLCksCiAgICApCgogICAgaWYgY3VyLmZldGNob25lKCkgaXMgbm90IE5vbmU6CiAgICAgICAgcmV0dXJuCgogICAgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICMgSXRlcmF0ZSBhbGwgRE9NIG5vZGVzIGluIHNuYXBzaG90CiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIGN1ci5leGVjdXRlKAogICAgICAgICIiIgogICAgICAgIFNFTEVDVCBkbi5pZAogICAgICAgIEZST00gZG9tX25vZGUgZG4KICAgICAgICBKT0lOIGRvbV9ub2RlX3N0YXRlIHN0CiAgICAgICAgICBPTiBzdC5kb21fbm9kZV9pZCA9IGRuLmlkCiAgICAgICAgIEFORCBzdC5kb21fc25hcHNob3RfaWQgPSA/CiAgICAgICAgIiIiLAogICAgICAgIChkb21fc25hcHNob3RfaWQsKSwKICAgICkKCiAgICBub2RlX2lkcyA9IFtyb3dbMF0gZm9yIHJvdyBpbiBjdXIuZmV0Y2hhbGwoKV0KCiAgICBmb3Igbm9kZV9pZCBpbiBub2RlX2lkczoKICAgICAgICBjdHhfbWFwOiBEaWN0W3N0ciwgU2V0W2ludF1dID0gY29sbGVjdF9jb250ZXh0X2NoYWluKAogICAgICAgICAgICBkb21fc25hcHNob3RfaWQ9ZG9tX3NuYXBzaG90X2lkLAogICAgICAgICAgICBub2RlX2lkPW5vZGVfaWQsCiAgICAgICAgICAgIGRvbV9jb25uPWRvbV9jb25uLAogICAgICAgICAgICBjb250ZXh0X2hpbnRzPWNvbnRleHRfaGludHMsCiAgICAgICAgKQoKICAgICAgICBmb3IgY3R4X2tpbmQsIHZhbHVlcyBpbiBjdHhfbWFwLml0ZW1zKCk6CiAgICAgICAgICAgIGZvciB2YWx1ZSBpbiB2YWx1ZXM6CiAgICAgICAgICAgICAgICBjdXIuZXhlY3V0ZSgKICAgICAgICAgICAgICAgICAgICAiIiIKICAgICAgICAgICAgICAgICAgICBJTlNFUlQgSU5UTyBkb21fY29udGV4dCAoCiAgICAgICAgICAgICAgICAgICAgICAgIGRvbV9zbmFwc2hvdF9pZCwKICAgICAgICAgICAgICAgICAgICAgICAgZG9tX25vZGVfaWQsCiAgICAgICAgICAgICAgICAgICAgICAgIGN0eF9raW5kLAogICAgICAgICAgICAgICAgICAgICAgICBjdHhfdmFsdWUsCiAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJyaWRkZW4KICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgVkFMVUVTICg/LCA/LCA/LCA/LCBGQUxTRSkKICAgICAgICAgICAgICAgICAgICAiIiIsCiAgICAgICAgICAgICAgICAgICAgKAogICAgICAgICAgICAgICAgICAgICAgICBkb21fc25hcHNob3RfaWQsCiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVfaWQsCiAgICAgICAgICAgICAgICAgICAgICAgIGN0eF9raW5kLAogICAgICAgICAgICAgICAgICAgICAgICBzdHIodmFsdWUpLAogICAgICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICApCgogICAgZG9tX2Nvbm4uY29tbWl0KCkKAAAAAAAAAAByCQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAUgYAAAAAAABSBgAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "src/sitrepc2/dom/dom_scoping.py",
			"settings":
			{
				"buffer_size": 7328,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					5,
					1,
					"paste",
					null,
					"AQAAAAAAAAAAAAAAoRwAAAAAAABZGgAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKaW1wb3J0IHNxbGl0ZTMKZnJvbSB0eXBpbmcgaW1wb3J0IERpY3QsIEl0ZXJhYmxlLCBMaXN0LCBTZXQKCmZyb20gc2l0cmVwYzIubHNzLmxzc19zY29waW5nIGltcG9ydCBMU1NDb250ZXh0SGludApmcm9tIHNpdHJlcGMyLmNvbmZpZy5wYXRocyBpbXBvcnQgZ2F6ZXR0ZWVyX3BhdGgKCgojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQojIENvbnRleHQgZG9taW5hbmNlCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgpET01fQ09OVEVYVF9PUkRFUiA9ICgiTE9DQVRJT04iLCAiU0VSSUVTIiwgIkVWRU5UIiwgIlNFQ1RJT04iLCAiUE9TVCIpCgoKZGVmIF9jb2xsZWN0X2NvbnRleHRfY2hhaW4oCiAgICAqLAogICAgZG9tX3NuYXBzaG90X2lkOiBpbnQsCiAgICBub2RlX2lkOiBpbnQsCiAgICBkb21fY29ubjogc3FsaXRlMy5Db25uZWN0aW9uLAogICAgY29udGV4dF9oaW50czogSXRlcmFibGVbTFNTQ29udGV4dEhpbnRdLAopIC0+IERpY3Rbc3RyLCBTZXRbaW50XV06CiAgICAiIiIKICAgIFJlc29sdmUgZWZmZWN0aXZlIGNvbnRleHQgZm9yIGEgRE9NIG5vZGUgYnkgZG9taW5hbmNlIG9yZGVyLgogICAgU25hcHNob3QtbG9jYWwgYW5kIGRldGVybWluaXN0aWMuCiAgICAiIiIKCiAgICBjdXIgPSBkb21fY29ubi5jdXJzb3IoKQoKICAgICMgV2FsayBhbmNlc3RvcnMgYnV0IHJlc3RyaWN0IHRvIG5vZGVzIGJlbG9uZ2luZyB0byB0aGUgc2FtZSBkb21fcG9zdAogICAgY3VyLmV4ZWN1dGUoCiAgICAgICAgIiIiCiAgICAgICAgV0lUSCBSRUNVUlNJVkUgYW5jZXN0b3JzKGlkLCBub2RlX3R5cGUsIHBhcmVudF9pZCkgQVMgKAogICAgICAgICAgICBTRUxFQ1QgZG4uaWQsIGRuLm5vZGVfdHlwZSwgZG4ucGFyZW50X2lkCiAgICAgICAgICAgIEZST00gZG9tX25vZGUgZG4KICAgICAgICAgICAgSk9JTiBkb21fbm9kZV9zdGF0ZSBzdAogICAgICAgICAgICAgIE9OIHN0LmRvbV9ub2RlX2lkID0gZG4uaWQKICAgICAgICAgICAgIEFORCBzdC5kb21fc25hcHNob3RfaWQgPSA/CiAgICAgICAgICAgIFdIRVJFIGRuLmlkID0gPwoKICAgICAgICAgICAgVU5JT04gQUxMCgogICAgICAgICAgICBTRUxFQ1QgcGFyZW50LmlkLCBwYXJlbnQubm9kZV90eXBlLCBwYXJlbnQucGFyZW50X2lkCiAgICAgICAgICAgIEZST00gZG9tX25vZGUgcGFyZW50CiAgICAgICAgICAgIEpPSU4gYW5jZXN0b3JzIGEgT04gcGFyZW50LmlkID0gYS5wYXJlbnRfaWQKICAgICAgICApCiAgICAgICAgU0VMRUNUIGlkLCBub2RlX3R5cGUKICAgICAgICBGUk9NIGFuY2VzdG9ycwogICAgICAgICIiIiwKICAgICAgICAoZG9tX3NuYXBzaG90X2lkLCBub2RlX2lkKSwKICAgICkKCiAgICBub2RlcyA9IGN1ci5mZXRjaGFsbCgpCiAgICBub2RlX2lkc19ieV90eXBlID0ge250OiBuaWQgZm9yIG5pZCwgbnQgaW4gbm9kZXN9CgogICAgcmVzb2x2ZWQ6IERpY3Rbc3RyLCBTZXRbaW50XV0gPSB7fQoKICAgIGZvciBzY29wZSBpbiBET01fQ09OVEVYVF9PUkRFUjoKICAgICAgICBmb3IgaGludCBpbiBjb250ZXh0X2hpbnRzOgogICAgICAgICAgICBpZiBoaW50LnNjb3BlICE9IHNjb3BlOgogICAgICAgICAgICAgICAgY29udGludWUKCiAgICAgICAgICAgICMgVGFyZ2V0IHNjb3Bpbmc6IGVpdGhlciBnbG9iYWwgb3IgZXhhY3Qgbm9kZSBtYXRjaAogICAgICAgICAgICB0YXJnZXRfb2sgPSAoCiAgICAgICAgICAgICAgICBoaW50LnRhcmdldF9pZCBpcyBOb25lCiAgICAgICAgICAgICAgICBvciBub2RlX2lkc19ieV90eXBlLmdldChzY29wZSkgPT0gaGludC50YXJnZXRfaWQKICAgICAgICAgICAgKQoKICAgICAgICAgICAgaWYgbm90IHRhcmdldF9vazoKICAgICAgICAgICAgICAgIGNvbnRpbnVlCgogICAgICAgICAgICByZXNvbHZlZC5zZXRkZWZhdWx0KGhpbnQuY3R4X2tpbmQsIHNldCgpKS5hZGQoaGludC50YXJnZXRfaWQpCgogICAgcmV0dXJuIHJlc29sdmVkCgoKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KIyBHYXpldHRlZXIgZmlsdGVyaW5nCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgpkZWYgX2ZpbHRlcl9sb2NhdGlvbl9jYW5kaWRhdGVzKAogICAgKiwKICAgIGxvY2F0aW9uX3RleHQ6IHN0ciwKICAgIGNvbnRleHQ6IERpY3Rbc3RyLCBTZXRbaW50XV0sCiAgICBnYXpfY29ubjogc3FsaXRlMy5Db25uZWN0aW9uLAopIC0+IExpc3RbaW50XToKICAgICIiIgogICAgRmlsdGVyIGdhemV0dGVlciBsb2NhdGlvbiBjYW5kaWRhdGVzIHVzaW5nIFJFR0lPTiAvIEdST1VQIGNvbnRleHQuCiAgICAiIiIKCiAgICBjdXIgPSBnYXpfY29ubi5jdXJzb3IoKQogICAgbm9ybSA9IGxvY2F0aW9uX3RleHQuc3RyaXAoKS5sb3dlcigpCgogICAgIyBBbGlhcyBtYXRjaAogICAgY3VyLmV4ZWN1dGUoCiAgICAgICAgIiIiCiAgICAgICAgU0VMRUNUIGxvY2F0aW9uX2lkCiAgICAgICAgRlJPTSBsb2NhdGlvbl9hbGlhc2VzCiAgICAgICAgV0hFUkUgbm9ybWFsaXplZCA9ID8KICAgICAgICAiIiIsCiAgICAgICAgKG5vcm0sKSwKICAgICkKCiAgICBjYW5kaWRhdGVzID0ge3Jvd1swXSBmb3Igcm93IGluIGN1ci5mZXRjaGFsbCgpfQogICAgaWYgbm90IGNhbmRpZGF0ZXM6CiAgICAgICAgcmV0dXJuIFtdCgogICAgIyBSRUdJT04gY29uc3RyYWludAogICAgaWYgIlJFR0lPTiIgaW4gY29udGV4dCBhbmQgY29udGV4dFsiUkVHSU9OIl06CiAgICAgICAgcmVnaW9uX2lkcyA9IGNvbnRleHRbIlJFR0lPTiJdCiAgICAgICAgY3VyLmV4ZWN1dGUoCiAgICAgICAgICAgIGYiIiIKICAgICAgICAgICAgU0VMRUNUIGxvY2F0aW9uX2lkCiAgICAgICAgICAgIEZST00gbG9jYXRpb25fcmVnaW9ucwogICAgICAgICAgICBXSEVSRSByZWdpb25faWQgSU4gKHsiLCIuam9pbigiPyIgKiBsZW4ocmVnaW9uX2lkcykpfSkKICAgICAgICAgICAgIiIiLAogICAgICAgICAgICB0dXBsZShyZWdpb25faWRzKSwKICAgICAgICApCiAgICAgICAgY2FuZGlkYXRlcyAmPSB7cm93WzBdIGZvciByb3cgaW4gY3VyLmZldGNoYWxsKCl9CgogICAgIyBHUk9VUCBjb25zdHJhaW50CiAgICBpZiAiR1JPVVAiIGluIGNvbnRleHQgYW5kIGNvbnRleHRbIkdST1VQIl06CiAgICAgICAgZ3JvdXBfaWRzID0gY29udGV4dFsiR1JPVVAiXQogICAgICAgIGN1ci5leGVjdXRlKAogICAgICAgICAgICBmIiIiCiAgICAgICAgICAgIFNFTEVDVCBsb2NhdGlvbl9pZAogICAgICAgICAgICBGUk9NIGxvY2F0aW9uX2dyb3VwcwogICAgICAgICAgICBXSEVSRSBncm91cF9pZCBJTiAoeyIsIi5qb2luKCI/IiAqIGxlbihncm91cF9pZHMpKX0pCiAgICAgICAgICAgICIiIiwKICAgICAgICAgICAgdHVwbGUoZ3JvdXBfaWRzKSwKICAgICAgICApCiAgICAgICAgY2FuZGlkYXRlcyAmPSB7cm93WzBdIGZvciByb3cgaW4gY3VyLmZldGNoYWxsKCl9CgogICAgcmV0dXJuIHNvcnRlZChjYW5kaWRhdGVzKQoKCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiMgUHVibGljIEFQSQojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKZGVmIHNjb3BlX2RvbV9sb2NhdGlvbnMoCiAgICAqLAogICAgZG9tX2Nvbm46IHNxbGl0ZTMuQ29ubmVjdGlvbiwKICAgIGRvbV9zbmFwc2hvdF9pZDogaW50LAogICAgY29udGV4dF9oaW50czogSXRlcmFibGVbTFNTQ29udGV4dEhpbnRdLAopIC0+IE5vbmU6CiAgICAiIiIKICAgIEF0dGFjaCBmaWx0ZXJlZCBMb2NhdGlvbkNhbmRpZGF0ZXMgdG8gRE9NIExPQ0FUSU9OIG5vZGVzLgoKICAgIFNuYXBzaG90LWxvY2FsIGFuZCBpZGVtcG90ZW50LgogICAgIiIiCgogICAgZ2F6X2Nvbm4gPSBzcWxpdGUzLmNvbm5lY3QoZ2F6ZXR0ZWVyX3BhdGgoKSkKICAgIGRvbV9jdXIgPSBkb21fY29ubi5jdXJzb3IoKQogICAgZ2F6X2N1ciA9IGdhel9jb25uLmN1cnNvcigpCgogICAgIyBPbmx5IG5vbi1kZWR1cGVkIExPQ0FUSU9OIG5vZGVzIGluIHRoaXMgc25hcHNob3QKICAgIGRvbV9jdXIuZXhlY3V0ZSgKICAgICAgICAiIiIKICAgICAgICBTRUxFQ1QgZG4uaWQsIGRwLnRleHQKICAgICAgICBGUk9NIGRvbV9ub2RlIGRuCiAgICAgICAgSk9JTiBkb21fbm9kZV9zdGF0ZSBzdAogICAgICAgICAgT04gc3QuZG9tX25vZGVfaWQgPSBkbi5pZAogICAgICAgICBBTkQgc3QuZG9tX3NuYXBzaG90X2lkID0gPwogICAgICAgIEpPSU4gZG9tX25vZGVfcHJvdmVuYW5jZSBkcAogICAgICAgICAgT04gZHAuZG9tX25vZGVfaWQgPSBkbi5pZAogICAgICAgIFdIRVJFIGRuLm5vZGVfdHlwZSA9ICdMT0NBVElPTicKICAgICAgICAgIEFORCBzdC5kZWR1cGVkID0gRkFMU0UKICAgICAgICAiIiIsCiAgICAgICAgKGRvbV9zbmFwc2hvdF9pZCwpLAogICAgKQoKICAgIGZvciBkb21fbG9jX2lkLCBsb2NhdGlvbl90ZXh0IGluIGRvbV9jdXIuZmV0Y2hhbGwoKToKICAgICAgICBjb250ZXh0ID0gX2NvbGxlY3RfY29udGV4dF9jaGFpbigKICAgICAgICAgICAgZG9tX3NuYXBzaG90X2lkPWRvbV9zbmFwc2hvdF9pZCwKICAgICAgICAgICAgbm9kZV9pZD1kb21fbG9jX2lkLAogICAgICAgICAgICBkb21fY29ubj1kb21fY29ubiwKICAgICAgICAgICAgY29udGV4dF9oaW50cz1jb250ZXh0X2hpbnRzLAogICAgICAgICkKCiAgICAgICAgY2FuZGlkYXRlX2lkcyA9IF9maWx0ZXJfbG9jYXRpb25fY2FuZGlkYXRlcygKICAgICAgICAgICAgbG9jYXRpb25fdGV4dD1sb2NhdGlvbl90ZXh0LAogICAgICAgICAgICBjb250ZXh0PWNvbnRleHQsCiAgICAgICAgICAgIGdhel9jb25uPWdhel9jb25uLAogICAgICAgICkKCiAgICAgICAgZm9yIGxvY19pZCBpbiBjYW5kaWRhdGVfaWRzOgogICAgICAgICAgICAjIElkZW1wb3RlbmN5IGd1YXJkCiAgICAgICAgICAgIGRvbV9jdXIuZXhlY3V0ZSgKICAgICAgICAgICAgICAgICIiIgogICAgICAgICAgICAgICAgU0VMRUNUIDEKICAgICAgICAgICAgICAgIEZST00gZG9tX2xvY2F0aW9uX2NhbmRpZGF0ZQogICAgICAgICAgICAgICAgV0hFUkUgZG9tX3NuYXBzaG90X2lkID0gPwogICAgICAgICAgICAgICAgICBBTkQgbG9jYXRpb25fbm9kZV9pZCA9ID8KICAgICAgICAgICAgICAgICAgQU5EIGdhemV0dGVlcl9sb2NhdGlvbl9pZCA9ID8KICAgICAgICAgICAgICAgICIiIiwKICAgICAgICAgICAgICAgIChkb21fc25hcHNob3RfaWQsIGRvbV9sb2NfaWQsIGxvY19pZCksCiAgICAgICAgICAgICkKICAgICAgICAgICAgaWYgZG9tX2N1ci5mZXRjaG9uZSgpOgogICAgICAgICAgICAgICAgY29udGludWUKCiAgICAgICAgICAgIGdhel9jdXIuZXhlY3V0ZSgKICAgICAgICAgICAgICAgICIiIgogICAgICAgICAgICAgICAgU0VMRUNUIGxhdCwgbG9uLCBuYW1lLCBwbGFjZSwgd2lraWRhdGEKICAgICAgICAgICAgICAgIEZST00gbG9jYXRpb25zCiAgICAgICAgICAgICAgICBXSEVSRSBsb2NhdGlvbl9pZCA9ID8KICAgICAgICAgICAgICAgICIiIiwKICAgICAgICAgICAgICAgIChsb2NfaWQsKSwKICAgICAgICAgICAgKQogICAgICAgICAgICByb3cgPSBnYXpfY3VyLmZldGNob25lKCkKICAgICAgICAgICAgaWYgcm93IGlzIE5vbmU6CiAgICAgICAgICAgICAgICBjb250aW51ZQoKICAgICAgICAgICAgbGF0LCBsb24sIG5hbWUsIHBsYWNlLCB3aWtpZGF0YSA9IHJvdwoKICAgICAgICAgICAgZG9tX2N1ci5leGVjdXRlKAogICAgICAgICAgICAgICAgIiIiCiAgICAgICAgICAgICAgICBJTlNFUlQgSU5UTyBkb21fbG9jYXRpb25fY2FuZGlkYXRlICgKICAgICAgICAgICAgICAgICAgICBkb21fc25hcHNob3RfaWQsCiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb25fbm9kZV9pZCwKICAgICAgICAgICAgICAgICAgICBnYXpldHRlZXJfbG9jYXRpb25faWQsCiAgICAgICAgICAgICAgICAgICAgbGF0LAogICAgICAgICAgICAgICAgICAgIGxvbiwKICAgICAgICAgICAgICAgICAgICBuYW1lLAogICAgICAgICAgICAgICAgICAgIHBsYWNlLAogICAgICAgICAgICAgICAgICAgIHdpa2lkYXRhLAogICAgICAgICAgICAgICAgICAgIGNvbmZpZGVuY2UsCiAgICAgICAgICAgICAgICAgICAgZGlzdF9mcm9tX2Zyb250LAogICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkLAogICAgICAgICAgICAgICAgICAgIHBlcnNpc3RzCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBWQUxVRVMgKD8sID8sID8sID8sID8sID8sID8sID8sIE5VTEwsIE5VTEwsIEZBTFNFLCBGQUxTRSkKICAgICAgICAgICAgICAgICIiIiwKICAgICAgICAgICAgICAgICgKICAgICAgICAgICAgICAgICAgICBkb21fc25hcHNob3RfaWQsCiAgICAgICAgICAgICAgICAgICAgZG9tX2xvY19pZCwKICAgICAgICAgICAgICAgICAgICBsb2NfaWQsCiAgICAgICAgICAgICAgICAgICAgbGF0LAogICAgICAgICAgICAgICAgICAgIGxvbiwKICAgICAgICAgICAgICAgICAgICBuYW1lLAogICAgICAgICAgICAgICAgICAgIHBsYWNlLAogICAgICAgICAgICAgICAgICAgIHdpa2lkYXRhLAogICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgKQoKICAgIGRvbV9jb25uLmNvbW1pdCgpCiAgICBnYXpfY29ubi5jbG9zZSgpCg",
					"AQAAAAAAAAABAAAAAAAAAAAAAABZGgAAAAAAAAAAAAAAAPC/"
				],
				[
					6,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAChHAAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKaW1wb3J0IHNxbGl0ZTMKZnJvbSB0eXBpbmcgaW1wb3J0IERpY3QsIEl0ZXJhYmxlLCBMaXN0LCBTZXQKCmZyb20gc2l0cmVwYzIubHNzLmxzc19zY29waW5nIGltcG9ydCBMU1NDb250ZXh0SGludApmcm9tIHNpdHJlcGMyLmNvbmZpZy5wYXRocyBpbXBvcnQgZ2F6ZXR0ZWVyX3BhdGgKCgojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQojIENvbnRleHQgZG9taW5hbmNlCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgpET01fQ09OVEVYVF9PUkRFUiA9ICgiTE9DQVRJT04iLCAiU0VSSUVTIiwgIkVWRU5UIiwgIlNFQ1RJT04iLCAiUE9TVCIpCgoKZGVmIF9jb2xsZWN0X2NvbnRleHRfY2hhaW4oCiAgICAqLAogICAgZG9tX3NuYXBzaG90X2lkOiBpbnQsCiAgICBub2RlX2lkOiBpbnQsCiAgICBkb21fY29ubjogc3FsaXRlMy5Db25uZWN0aW9uLAogICAgY29udGV4dF9oaW50czogSXRlcmFibGVbTFNTQ29udGV4dEhpbnRdLAopIC0+IERpY3Rbc3RyLCBTZXRbaW50XV06CiAgICAiIiIKICAgIFJlc29sdmUgZWZmZWN0aXZlIGNvbnRleHQgZm9yIGEgRE9NIG5vZGUgYnkgZG9taW5hbmNlIG9yZGVyLgogICAgU25hcHNob3QtbG9jYWwgYW5kIGRldGVybWluaXN0aWMuCiAgICAiIiIKCiAgICBjdXIgPSBkb21fY29ubi5jdXJzb3IoKQoKICAgIGN1ci5leGVjdXRlKAogICAgICAgICIiIgogICAgICAgIFdJVEggUkVDVVJTSVZFIGFuY2VzdG9ycyhpZCwgbm9kZV90eXBlLCBwYXJlbnRfaWQpIEFTICgKICAgICAgICAgICAgU0VMRUNUIGRuLmlkLCBkbi5ub2RlX3R5cGUsIGRuLnBhcmVudF9pZAogICAgICAgICAgICBGUk9NIGRvbV9ub2RlIGRuCiAgICAgICAgICAgIEpPSU4gZG9tX25vZGVfc3RhdGUgc3QKICAgICAgICAgICAgICBPTiBzdC5kb21fbm9kZV9pZCA9IGRuLmlkCiAgICAgICAgICAgICBBTkQgc3QuZG9tX3NuYXBzaG90X2lkID0gPwogICAgICAgICAgICBXSEVSRSBkbi5pZCA9ID8KCiAgICAgICAgICAgIFVOSU9OIEFMTAoKICAgICAgICAgICAgU0VMRUNUIHBhcmVudC5pZCwgcGFyZW50Lm5vZGVfdHlwZSwgcGFyZW50LnBhcmVudF9pZAogICAgICAgICAgICBGUk9NIGRvbV9ub2RlIHBhcmVudAogICAgICAgICAgICBKT0lOIGFuY2VzdG9ycyBhIE9OIHBhcmVudC5pZCA9IGEucGFyZW50X2lkCiAgICAgICAgKQogICAgICAgIFNFTEVDVCBpZCwgbm9kZV90eXBlCiAgICAgICAgRlJPTSBhbmNlc3RvcnMKICAgICAgICAiIiIsCiAgICAgICAgKGRvbV9zbmFwc2hvdF9pZCwgbm9kZV9pZCksCiAgICApCgogICAgbm9kZXMgPSBjdXIuZmV0Y2hhbGwoKQogICAgbm9kZV9pZHNfYnlfdHlwZSA9IHtudDogbmlkIGZvciBuaWQsIG50IGluIG5vZGVzfQoKICAgIHJlc29sdmVkOiBEaWN0W3N0ciwgU2V0W2ludF1dID0ge30KCiAgICBmb3Igc2NvcGUgaW4gRE9NX0NPTlRFWFRfT1JERVI6CiAgICAgICAgZm9yIGhpbnQgaW4gY29udGV4dF9oaW50czoKICAgICAgICAgICAgaWYgaGludC5zY29wZSAhPSBzY29wZToKICAgICAgICAgICAgICAgIGNvbnRpbnVlCgogICAgICAgICAgICB0YXJnZXRfb2sgPSAoCiAgICAgICAgICAgICAgICBoaW50LnRhcmdldF9pZCBpcyBOb25lCiAgICAgICAgICAgICAgICBvciBub2RlX2lkc19ieV90eXBlLmdldChzY29wZSkgPT0gaGludC50YXJnZXRfaWQKICAgICAgICAgICAgKQoKICAgICAgICAgICAgaWYgbm90IHRhcmdldF9vazoKICAgICAgICAgICAgICAgIGNvbnRpbnVlCgogICAgICAgICAgICByZXNvbHZlZC5zZXRkZWZhdWx0KGhpbnQuY3R4X2tpbmQsIHNldCgpKS5hZGQoaGludC50YXJnZXRfaWQpCgogICAgcmV0dXJuIHJlc29sdmVkCgoKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KIyBHYXpldHRlZXIgZmlsdGVyaW5nCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgpkZWYgX2ZpbHRlcl9sb2NhdGlvbl9jYW5kaWRhdGVzKAogICAgKiwKICAgIGxvY2F0aW9uX3RleHQ6IHN0ciwKICAgIGNvbnRleHQ6IERpY3Rbc3RyLCBTZXRbaW50XV0sCiAgICBnYXpfY29ubjogc3FsaXRlMy5Db25uZWN0aW9uLAopIC0+IExpc3RbaW50XToKICAgICIiIgogICAgRmlsdGVyIGdhemV0dGVlciBsb2NhdGlvbiBjYW5kaWRhdGVzIHVzaW5nIFJFR0lPTiAvIEdST1VQIGNvbnRleHQuCiAgICAiIiIKCiAgICBjdXIgPSBnYXpfY29ubi5jdXJzb3IoKQogICAgbm9ybSA9IGxvY2F0aW9uX3RleHQuc3RyaXAoKS5sb3dlcigpCgogICAgY3VyLmV4ZWN1dGUoCiAgICAgICAgIiIiCiAgICAgICAgU0VMRUNUIGxvY2F0aW9uX2lkCiAgICAgICAgRlJPTSBsb2NhdGlvbl9hbGlhc2VzCiAgICAgICAgV0hFUkUgbm9ybWFsaXplZCA9ID8KICAgICAgICAiIiIsCiAgICAgICAgKG5vcm0sKSwKICAgICkKCiAgICBjYW5kaWRhdGVzID0ge3Jvd1swXSBmb3Igcm93IGluIGN1ci5mZXRjaGFsbCgpfQogICAgaWYgbm90IGNhbmRpZGF0ZXM6CiAgICAgICAgcmV0dXJuIFtdCgogICAgaWYgIlJFR0lPTiIgaW4gY29udGV4dCBhbmQgY29udGV4dFsiUkVHSU9OIl06CiAgICAgICAgcmVnaW9uX2lkcyA9IGNvbnRleHRbIlJFR0lPTiJdCiAgICAgICAgY3VyLmV4ZWN1dGUoCiAgICAgICAgICAgIGYiIiIKICAgICAgICAgICAgU0VMRUNUIGxvY2F0aW9uX2lkCiAgICAgICAgICAgIEZST00gbG9jYXRpb25fcmVnaW9ucwogICAgICAgICAgICBXSEVSRSByZWdpb25faWQgSU4gKHsiLCIuam9pbigiPyIgKiBsZW4ocmVnaW9uX2lkcykpfSkKICAgICAgICAgICAgIiIiLAogICAgICAgICAgICB0dXBsZShyZWdpb25faWRzKSwKICAgICAgICApCiAgICAgICAgY2FuZGlkYXRlcyAmPSB7cm93WzBdIGZvciByb3cgaW4gY3VyLmZldGNoYWxsKCl9CgogICAgaWYgIkdST1VQIiBpbiBjb250ZXh0IGFuZCBjb250ZXh0WyJHUk9VUCJdOgogICAgICAgIGdyb3VwX2lkcyA9IGNvbnRleHRbIkdST1VQIl0KICAgICAgICBjdXIuZXhlY3V0ZSgKICAgICAgICAgICAgZiIiIgogICAgICAgICAgICBTRUxFQ1QgbG9jYXRpb25faWQKICAgICAgICAgICAgRlJPTSBsb2NhdGlvbl9ncm91cHMKICAgICAgICAgICAgV0hFUkUgZ3JvdXBfaWQgSU4gKHsiLCIuam9pbigiPyIgKiBsZW4oZ3JvdXBfaWRzKSl9KQogICAgICAgICAgICAiIiIsCiAgICAgICAgICAgIHR1cGxlKGdyb3VwX2lkcyksCiAgICAgICAgKQogICAgICAgIGNhbmRpZGF0ZXMgJj0ge3Jvd1swXSBmb3Igcm93IGluIGN1ci5mZXRjaGFsbCgpfQoKICAgIHJldHVybiBzb3J0ZWQoY2FuZGlkYXRlcykKCgojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQojIFB1YmxpYyBBUEkKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCmRlZiBzY29wZV9kb21fbG9jYXRpb25zKAogICAgKiwKICAgIGRvbV9jb25uOiBzcWxpdGUzLkNvbm5lY3Rpb24sCiAgICBkb21fc25hcHNob3RfaWQ6IGludCwKICAgIGNvbnRleHRfaGludHM6IEl0ZXJhYmxlW0xTU0NvbnRleHRIaW50XSwKKSAtPiBOb25lOgogICAgIiIiCiAgICBBdHRhY2ggZmlsdGVyZWQgTG9jYXRpb25DYW5kaWRhdGVzIHRvIERPTSBMT0NBVElPTiBub2Rlcy4KICAgIFNuYXBzaG90LWxvY2FsIGFuZCBpZGVtcG90ZW50LgogICAgIiIiCgogICAgZ2F6X2Nvbm4gPSBzcWxpdGUzLmNvbm5lY3QoZ2F6ZXR0ZWVyX3BhdGgoKSkKICAgIGRvbV9jdXIgPSBkb21fY29ubi5jdXJzb3IoKQogICAgZ2F6X2N1ciA9IGdhel9jb25uLmN1cnNvcigpCgogICAgIyBGZXRjaCBMT0NBVElPTiBub2RlcyB3aXRoIHRoZWlyIExTUyBldmVudCBwcm92ZW5hbmNlCiAgICBkb21fY3VyLmV4ZWN1dGUoCiAgICAgICAgIiIiCiAgICAgICAgU0VMRUNUIGRuLmlkLCBkcC5sc3NfZXZlbnRfaWQKICAgICAgICBGUk9NIGRvbV9ub2RlIGRuCiAgICAgICAgSk9JTiBkb21fbm9kZV9zdGF0ZSBzdAogICAgICAgICAgT04gc3QuZG9tX25vZGVfaWQgPSBkbi5pZAogICAgICAgICBBTkQgc3QuZG9tX3NuYXBzaG90X2lkID0gPwogICAgICAgIEpPSU4gZG9tX25vZGVfcHJvdmVuYW5jZSBkcAogICAgICAgICAgT04gZHAuZG9tX25vZGVfaWQgPSBkbi5pZAogICAgICAgIFdIRVJFIGRuLm5vZGVfdHlwZSA9ICdMT0NBVElPTicKICAgICAgICAgIEFORCBzdC5kZWR1cGVkID0gRkFMU0UKICAgICAgICAiIiIsCiAgICAgICAgKGRvbV9zbmFwc2hvdF9pZCwpLAogICAgKQoKICAgIGZvciBkb21fbG9jX2lkLCBsc3NfZXZlbnRfaWQgaW4gZG9tX2N1ci5mZXRjaGFsbCgpOgogICAgICAgIGlmIGxzc19ldmVudF9pZCBpcyBOb25lOgogICAgICAgICAgICBjb250aW51ZQoKICAgICAgICAjIFJldHJpZXZlIGxvY2F0aW9uIHRleHRzIGZyb20gTFNTCiAgICAgICAgZG9tX2N1ci5leGVjdXRlKAogICAgICAgICAgICAiIiIKICAgICAgICAgICAgU0VMRUNUIGxpLnRleHQKICAgICAgICAgICAgRlJPTSBsc3NfbG9jYXRpb25faXRlbXMgbGkKICAgICAgICAgICAgSk9JTiBsc3NfbG9jYXRpb25fc2VyaWVzIGxzCiAgICAgICAgICAgICAgT04gbHMuaWQgPSBsaS5zZXJpZXNfaWQKICAgICAgICAgICAgV0hFUkUgbHMubHNzX2V2ZW50X2lkID0gPwogICAgICAgICAgICBPUkRFUiBCWSBsaS5vcmRpbmFsCiAgICAgICAgICAgICIiIiwKICAgICAgICAgICAgKGxzc19ldmVudF9pZCwpLAogICAgICAgICkKCiAgICAgICAgbG9jYXRpb25fdGV4dHMgPSBbcm93WzBdIGZvciByb3cgaW4gZG9tX2N1ci5mZXRjaGFsbCgpXQoKICAgICAgICBpZiBub3QgbG9jYXRpb25fdGV4dHM6CiAgICAgICAgICAgIGNvbnRpbnVlCgogICAgICAgIGNvbnRleHQgPSBfY29sbGVjdF9jb250ZXh0X2NoYWluKAogICAgICAgICAgICBkb21fc25hcHNob3RfaWQ9ZG9tX3NuYXBzaG90X2lkLAogICAgICAgICAgICBub2RlX2lkPWRvbV9sb2NfaWQsCiAgICAgICAgICAgIGRvbV9jb25uPWRvbV9jb25uLAogICAgICAgICAgICBjb250ZXh0X2hpbnRzPWNvbnRleHRfaGludHMsCiAgICAgICAgKQoKICAgICAgICBmb3IgbG9jYXRpb25fdGV4dCBpbiBsb2NhdGlvbl90ZXh0czoKICAgICAgICAgICAgY2FuZGlkYXRlX2lkcyA9IF9maWx0ZXJfbG9jYXRpb25fY2FuZGlkYXRlcygKICAgICAgICAgICAgICAgIGxvY2F0aW9uX3RleHQ9bG9jYXRpb25fdGV4dCwKICAgICAgICAgICAgICAgIGNvbnRleHQ9Y29udGV4dCwKICAgICAgICAgICAgICAgIGdhel9jb25uPWdhel9jb25uLAogICAgICAgICAgICApCgogICAgICAgICAgICBmb3IgbG9jX2lkIGluIGNhbmRpZGF0ZV9pZHM6CiAgICAgICAgICAgICAgICBkb21fY3VyLmV4ZWN1dGUoCiAgICAgICAgICAgICAgICAgICAgIiIiCiAgICAgICAgICAgICAgICAgICAgU0VMRUNUIDEKICAgICAgICAgICAgICAgICAgICBGUk9NIGRvbV9sb2NhdGlvbl9jYW5kaWRhdGUKICAgICAgICAgICAgICAgICAgICBXSEVSRSBkb21fc25hcHNob3RfaWQgPSA/CiAgICAgICAgICAgICAgICAgICAgICBBTkQgbG9jYXRpb25fbm9kZV9pZCA9ID8KICAgICAgICAgICAgICAgICAgICAgIEFORCBnYXpldHRlZXJfbG9jYXRpb25faWQgPSA/CiAgICAgICAgICAgICAgICAgICAgIiIiLAogICAgICAgICAgICAgICAgICAgIChkb21fc25hcHNob3RfaWQsIGRvbV9sb2NfaWQsIGxvY19pZCksCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBpZiBkb21fY3VyLmZldGNob25lKCk6CiAgICAgICAgICAgICAgICAgICAgY29udGludWUKCiAgICAgICAgICAgICAgICBnYXpfY3VyLmV4ZWN1dGUoCiAgICAgICAgICAgICAgICAgICAgIiIiCiAgICAgICAgICAgICAgICAgICAgU0VMRUNUIGxhdCwgbG9uLCBuYW1lLCBwbGFjZSwgd2lraWRhdGEKICAgICAgICAgICAgICAgICAgICBGUk9NIGxvY2F0aW9ucwogICAgICAgICAgICAgICAgICAgIFdIRVJFIGxvY2F0aW9uX2lkID0gPwogICAgICAgICAgICAgICAgICAgICIiIiwKICAgICAgICAgICAgICAgICAgICAobG9jX2lkLCksCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICByb3cgPSBnYXpfY3VyLmZldGNob25lKCkKICAgICAgICAgICAgICAgIGlmIHJvdyBpcyBOb25lOgogICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlCgogICAgICAgICAgICAgICAgbGF0LCBsb24sIG5hbWUsIHBsYWNlLCB3aWtpZGF0YSA9IHJvdwoKICAgICAgICAgICAgICAgIGRvbV9jdXIuZXhlY3V0ZSgKICAgICAgICAgICAgICAgICAgICAiIiIKICAgICAgICAgICAgICAgICAgICBJTlNFUlQgSU5UTyBkb21fbG9jYXRpb25fY2FuZGlkYXRlICgKICAgICAgICAgICAgICAgICAgICAgICAgZG9tX3NuYXBzaG90X2lkLAogICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbl9ub2RlX2lkLAogICAgICAgICAgICAgICAgICAgICAgICBnYXpldHRlZXJfbG9jYXRpb25faWQsCiAgICAgICAgICAgICAgICAgICAgICAgIGxhdCwKICAgICAgICAgICAgICAgICAgICAgICAgbG9uLAogICAgICAgICAgICAgICAgICAgICAgICBuYW1lLAogICAgICAgICAgICAgICAgICAgICAgICBwbGFjZSwKICAgICAgICAgICAgICAgICAgICAgICAgd2lraWRhdGEsCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZGVuY2UsCiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3RfZnJvbV9mcm9udCwKICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQsCiAgICAgICAgICAgICAgICAgICAgICAgIHBlcnNpc3RzCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgIFZBTFVFUyAoPywgPywgPywgPywgPywgPywgPywgPywgTlVMTCwgTlVMTCwgRkFMU0UsIEZBTFNFKQogICAgICAgICAgICAgICAgICAgICIiIiwKICAgICAgICAgICAgICAgICAgICAoCiAgICAgICAgICAgICAgICAgICAgICAgIGRvbV9zbmFwc2hvdF9pZCwKICAgICAgICAgICAgICAgICAgICAgICAgZG9tX2xvY19pZCwKICAgICAgICAgICAgICAgICAgICAgICAgbG9jX2lkLAogICAgICAgICAgICAgICAgICAgICAgICBsYXQsCiAgICAgICAgICAgICAgICAgICAgICAgIGxvbiwKICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2UsCiAgICAgICAgICAgICAgICAgICAgICAgIHdpa2lkYXRhLAogICAgICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICApCgogICAgZG9tX2Nvbm4uY29tbWl0KCkKICAgIGdhel9jb25uLmNsb3NlKCkKAAAAAAAAAAChHAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAoRwAAAAAAAChHAAAAAAAAAAAAAAAAPC/"
				],
				[
					10,
					1,
					"left_delete",
					null,
					"AQAAAKgBAAAAAAAAqAEAAAAAAAABAAAAXw",
					"AQAAAAAAAAABAAAAqQEAAAAAAACpAQAAAAAAAAAAAAAAAPC/"
				],
				[
					11,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACgHAAAZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKaW1wb3J0IHNxbGl0ZTMKZnJvbSB0eXBpbmcgaW1wb3J0IERpY3QsIEl0ZXJhYmxlLCBMaXN0LCBTZXQKCmZyb20gc2l0cmVwYzIubHNzLmxzc19zY29waW5nIGltcG9ydCBMU1NDb250ZXh0SGludApmcm9tIHNpdHJlcGMyLmNvbmZpZy5wYXRocyBpbXBvcnQgZ2F6ZXR0ZWVyX3BhdGgKCgojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQojIENvbnRleHQgZG9taW5hbmNlCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgpET01fQ09OVEVYVF9PUkRFUiA9ICgiTE9DQVRJT04iLCAiU0VSSUVTIiwgIkVWRU5UIiwgIlNFQ1RJT04iLCAiUE9TVCIpCgoKZGVmIGNvbGxlY3RfY29udGV4dF9jaGFpbigKICAgICosCiAgICBkb21fc25hcHNob3RfaWQ6IGludCwKICAgIG5vZGVfaWQ6IGludCwKICAgIGRvbV9jb25uOiBzcWxpdGUzLkNvbm5lY3Rpb24sCiAgICBjb250ZXh0X2hpbnRzOiBJdGVyYWJsZVtMU1NDb250ZXh0SGludF0sCikgLT4gRGljdFtzdHIsIFNldFtpbnRdXToKICAgICIiIgogICAgUmVzb2x2ZSBlZmZlY3RpdmUgY29udGV4dCBmb3IgYSBET00gbm9kZSBieSBkb21pbmFuY2Ugb3JkZXIuCiAgICBTbmFwc2hvdC1sb2NhbCBhbmQgZGV0ZXJtaW5pc3RpYy4KICAgICIiIgoKICAgIGN1ciA9IGRvbV9jb25uLmN1cnNvcigpCgogICAgY3VyLmV4ZWN1dGUoCiAgICAgICAgIiIiCiAgICAgICAgV0lUSCBSRUNVUlNJVkUgYW5jZXN0b3JzKGlkLCBub2RlX3R5cGUsIHBhcmVudF9pZCkgQVMgKAogICAgICAgICAgICBTRUxFQ1QgZG4uaWQsIGRuLm5vZGVfdHlwZSwgZG4ucGFyZW50X2lkCiAgICAgICAgICAgIEZST00gZG9tX25vZGUgZG4KICAgICAgICAgICAgSk9JTiBkb21fbm9kZV9zdGF0ZSBzdAogICAgICAgICAgICAgIE9OIHN0LmRvbV9ub2RlX2lkID0gZG4uaWQKICAgICAgICAgICAgIEFORCBzdC5kb21fc25hcHNob3RfaWQgPSA/CiAgICAgICAgICAgIFdIRVJFIGRuLmlkID0gPwoKICAgICAgICAgICAgVU5JT04gQUxMCgogICAgICAgICAgICBTRUxFQ1QgcGFyZW50LmlkLCBwYXJlbnQubm9kZV90eXBlLCBwYXJlbnQucGFyZW50X2lkCiAgICAgICAgICAgIEZST00gZG9tX25vZGUgcGFyZW50CiAgICAgICAgICAgIEpPSU4gYW5jZXN0b3JzIGEgT04gcGFyZW50LmlkID0gYS5wYXJlbnRfaWQKICAgICAgICApCiAgICAgICAgU0VMRUNUIGlkLCBub2RlX3R5cGUKICAgICAgICBGUk9NIGFuY2VzdG9ycwogICAgICAgICIiIiwKICAgICAgICAoZG9tX3NuYXBzaG90X2lkLCBub2RlX2lkKSwKICAgICkKCiAgICBub2RlcyA9IGN1ci5mZXRjaGFsbCgpCiAgICBub2RlX2lkc19ieV90eXBlID0ge250OiBuaWQgZm9yIG5pZCwgbnQgaW4gbm9kZXN9CgogICAgcmVzb2x2ZWQ6IERpY3Rbc3RyLCBTZXRbaW50XV0gPSB7fQoKICAgIGZvciBzY29wZSBpbiBET01fQ09OVEVYVF9PUkRFUjoKICAgICAgICBmb3IgaGludCBpbiBjb250ZXh0X2hpbnRzOgogICAgICAgICAgICBpZiBoaW50LnNjb3BlICE9IHNjb3BlOgogICAgICAgICAgICAgICAgY29udGludWUKCiAgICAgICAgICAgIHRhcmdldF9vayA9ICgKICAgICAgICAgICAgICAgIGhpbnQudGFyZ2V0X2lkIGlzIE5vbmUKICAgICAgICAgICAgICAgIG9yIG5vZGVfaWRzX2J5X3R5cGUuZ2V0KHNjb3BlKSA9PSBoaW50LnRhcmdldF9pZAogICAgICAgICAgICApCgogICAgICAgICAgICBpZiBub3QgdGFyZ2V0X29rOgogICAgICAgICAgICAgICAgY29udGludWUKCiAgICAgICAgICAgIHJlc29sdmVkLnNldGRlZmF1bHQoaGludC5jdHhfa2luZCwgc2V0KCkpLmFkZChoaW50LnRhcmdldF9pZCkKCiAgICByZXR1cm4gcmVzb2x2ZWQKCgojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQojIEdhemV0dGVlciBmaWx0ZXJpbmcKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCmRlZiBfZmlsdGVyX2xvY2F0aW9uX2NhbmRpZGF0ZXMoCiAgICAqLAogICAgbG9jYXRpb25fdGV4dDogc3RyLAogICAgY29udGV4dDogRGljdFtzdHIsIFNldFtpbnRdXSwKICAgIGdhel9jb25uOiBzcWxpdGUzLkNvbm5lY3Rpb24sCikgLT4gTGlzdFtpbnRdOgogICAgIiIiCiAgICBGaWx0ZXIgZ2F6ZXR0ZWVyIGxvY2F0aW9uIGNhbmRpZGF0ZXMgdXNpbmcgUkVHSU9OIC8gR1JPVVAgY29udGV4dC4KICAgICIiIgoKICAgIGN1ciA9IGdhel9jb25uLmN1cnNvcigpCiAgICBub3JtID0gbG9jYXRpb25fdGV4dC5zdHJpcCgpLmxvd2VyKCkKCiAgICBjdXIuZXhlY3V0ZSgKICAgICAgICAiIiIKICAgICAgICBTRUxFQ1QgbG9jYXRpb25faWQKICAgICAgICBGUk9NIGxvY2F0aW9uX2FsaWFzZXMKICAgICAgICBXSEVSRSBub3JtYWxpemVkID0gPwogICAgICAgICIiIiwKICAgICAgICAobm9ybSwpLAogICAgKQoKICAgIGNhbmRpZGF0ZXMgPSB7cm93WzBdIGZvciByb3cgaW4gY3VyLmZldGNoYWxsKCl9CiAgICBpZiBub3QgY2FuZGlkYXRlczoKICAgICAgICByZXR1cm4gW10KCiAgICBpZiAiUkVHSU9OIiBpbiBjb250ZXh0IGFuZCBjb250ZXh0WyJSRUdJT04iXToKICAgICAgICByZWdpb25faWRzID0gY29udGV4dFsiUkVHSU9OIl0KICAgICAgICBjdXIuZXhlY3V0ZSgKICAgICAgICAgICAgZiIiIgogICAgICAgICAgICBTRUxFQ1QgbG9jYXRpb25faWQKICAgICAgICAgICAgRlJPTSBsb2NhdGlvbl9yZWdpb25zCiAgICAgICAgICAgIFdIRVJFIHJlZ2lvbl9pZCBJTiAoeyIsIi5qb2luKCI/IiAqIGxlbihyZWdpb25faWRzKSl9KQogICAgICAgICAgICAiIiIsCiAgICAgICAgICAgIHR1cGxlKHJlZ2lvbl9pZHMpLAogICAgICAgICkKICAgICAgICBjYW5kaWRhdGVzICY9IHtyb3dbMF0gZm9yIHJvdyBpbiBjdXIuZmV0Y2hhbGwoKX0KCiAgICBpZiAiR1JPVVAiIGluIGNvbnRleHQgYW5kIGNvbnRleHRbIkdST1VQIl06CiAgICAgICAgZ3JvdXBfaWRzID0gY29udGV4dFsiR1JPVVAiXQogICAgICAgIGN1ci5leGVjdXRlKAogICAgICAgICAgICBmIiIiCiAgICAgICAgICAgIFNFTEVDVCBsb2NhdGlvbl9pZAogICAgICAgICAgICBGUk9NIGxvY2F0aW9uX2dyb3VwcwogICAgICAgICAgICBXSEVSRSBncm91cF9pZCBJTiAoeyIsIi5qb2luKCI/IiAqIGxlbihncm91cF9pZHMpKX0pCiAgICAgICAgICAgICIiIiwKICAgICAgICAgICAgdHVwbGUoZ3JvdXBfaWRzKSwKICAgICAgICApCiAgICAgICAgY2FuZGlkYXRlcyAmPSB7cm93WzBdIGZvciByb3cgaW4gY3VyLmZldGNoYWxsKCl9CgogICAgcmV0dXJuIHNvcnRlZChjYW5kaWRhdGVzKQoKCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiMgUHVibGljIEFQSQojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKZGVmIHNjb3BlX2RvbV9sb2NhdGlvbnMoCiAgICAqLAogICAgZG9tX2Nvbm46IHNxbGl0ZTMuQ29ubmVjdGlvbiwKICAgIGRvbV9zbmFwc2hvdF9pZDogaW50LAogICAgY29udGV4dF9oaW50czogSXRlcmFibGVbTFNTQ29udGV4dEhpbnRdLAopIC0+IE5vbmU6CiAgICAiIiIKICAgIEF0dGFjaCBmaWx0ZXJlZCBMb2NhdGlvbkNhbmRpZGF0ZXMgdG8gRE9NIExPQ0FUSU9OIG5vZGVzLgogICAgU25hcHNob3QtbG9jYWwgYW5kIGlkZW1wb3RlbnQuCiAgICAiIiIKCiAgICBnYXpfY29ubiA9IHNxbGl0ZTMuY29ubmVjdChnYXpldHRlZXJfcGF0aCgpKQogICAgZG9tX2N1ciA9IGRvbV9jb25uLmN1cnNvcigpCiAgICBnYXpfY3VyID0gZ2F6X2Nvbm4uY3Vyc29yKCkKCiAgICAjIEZldGNoIExPQ0FUSU9OIG5vZGVzIHdpdGggdGhlaXIgTFNTIGV2ZW50IHByb3ZlbmFuY2UKICAgIGRvbV9jdXIuZXhlY3V0ZSgKICAgICAgICAiIiIKICAgICAgICBTRUxFQ1QgZG4uaWQsIGRwLmxzc19ldmVudF9pZAogICAgICAgIEZST00gZG9tX25vZGUgZG4KICAgICAgICBKT0lOIGRvbV9ub2RlX3N0YXRlIHN0CiAgICAgICAgICBPTiBzdC5kb21fbm9kZV9pZCA9IGRuLmlkCiAgICAgICAgIEFORCBzdC5kb21fc25hcHNob3RfaWQgPSA/CiAgICAgICAgSk9JTiBkb21fbm9kZV9wcm92ZW5hbmNlIGRwCiAgICAgICAgICBPTiBkcC5kb21fbm9kZV9pZCA9IGRuLmlkCiAgICAgICAgV0hFUkUgZG4ubm9kZV90eXBlID0gJ0xPQ0FUSU9OJwogICAgICAgICAgQU5EIHN0LmRlZHVwZWQgPSBGQUxTRQogICAgICAgICIiIiwKICAgICAgICAoZG9tX3NuYXBzaG90X2lkLCksCiAgICApCgogICAgZm9yIGRvbV9sb2NfaWQsIGxzc19ldmVudF9pZCBpbiBkb21fY3VyLmZldGNoYWxsKCk6CiAgICAgICAgaWYgbHNzX2V2ZW50X2lkIGlzIE5vbmU6CiAgICAgICAgICAgIGNvbnRpbnVlCgogICAgICAgICMgUmV0cmlldmUgbG9jYXRpb24gdGV4dHMgZnJvbSBMU1MKICAgICAgICBkb21fY3VyLmV4ZWN1dGUoCiAgICAgICAgICAgICIiIgogICAgICAgICAgICBTRUxFQ1QgbGkudGV4dAogICAgICAgICAgICBGUk9NIGxzc19sb2NhdGlvbl9pdGVtcyBsaQogICAgICAgICAgICBKT0lOIGxzc19sb2NhdGlvbl9zZXJpZXMgbHMKICAgICAgICAgICAgICBPTiBscy5pZCA9IGxpLnNlcmllc19pZAogICAgICAgICAgICBXSEVSRSBscy5sc3NfZXZlbnRfaWQgPSA/CiAgICAgICAgICAgIE9SREVSIEJZIGxpLm9yZGluYWwKICAgICAgICAgICAgIiIiLAogICAgICAgICAgICAobHNzX2V2ZW50X2lkLCksCiAgICAgICAgKQoKICAgICAgICBsb2NhdGlvbl90ZXh0cyA9IFtyb3dbMF0gZm9yIHJvdyBpbiBkb21fY3VyLmZldGNoYWxsKCldCgogICAgICAgIGlmIG5vdCBsb2NhdGlvbl90ZXh0czoKICAgICAgICAgICAgY29udGludWUKCiAgICAgICAgY29udGV4dCA9IF9jb2xsZWN0X2NvbnRleHRfY2hhaW4oCiAgICAgICAgICAgIGRvbV9zbmFwc2hvdF9pZD1kb21fc25hcHNob3RfaWQsCiAgICAgICAgICAgIG5vZGVfaWQ9ZG9tX2xvY19pZCwKICAgICAgICAgICAgZG9tX2Nvbm49ZG9tX2Nvbm4sCiAgICAgICAgICAgIGNvbnRleHRfaGludHM9Y29udGV4dF9oaW50cywKICAgICAgICApCgogICAgICAgIGZvciBsb2NhdGlvbl90ZXh0IGluIGxvY2F0aW9uX3RleHRzOgogICAgICAgICAgICBjYW5kaWRhdGVfaWRzID0gX2ZpbHRlcl9sb2NhdGlvbl9jYW5kaWRhdGVzKAogICAgICAgICAgICAgICAgbG9jYXRpb25fdGV4dD1sb2NhdGlvbl90ZXh0LAogICAgICAgICAgICAgICAgY29udGV4dD1jb250ZXh0LAogICAgICAgICAgICAgICAgZ2F6X2Nvbm49Z2F6X2Nvbm4sCiAgICAgICAgICAgICkKCiAgICAgICAgICAgIGZvciBsb2NfaWQgaW4gY2FuZGlkYXRlX2lkczoKICAgICAgICAgICAgICAgIGRvbV9jdXIuZXhlY3V0ZSgKICAgICAgICAgICAgICAgICAgICAiIiIKICAgICAgICAgICAgICAgICAgICBTRUxFQ1QgMQogICAgICAgICAgICAgICAgICAgIEZST00gZG9tX2xvY2F0aW9uX2NhbmRpZGF0ZQogICAgICAgICAgICAgICAgICAgIFdIRVJFIGRvbV9zbmFwc2hvdF9pZCA9ID8KICAgICAgICAgICAgICAgICAgICAgIEFORCBsb2NhdGlvbl9ub2RlX2lkID0gPwogICAgICAgICAgICAgICAgICAgICAgQU5EIGdhemV0dGVlcl9sb2NhdGlvbl9pZCA9ID8KICAgICAgICAgICAgICAgICAgICAiIiIsCiAgICAgICAgICAgICAgICAgICAgKGRvbV9zbmFwc2hvdF9pZCwgZG9tX2xvY19pZCwgbG9jX2lkKSwKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIGlmIGRvbV9jdXIuZmV0Y2hvbmUoKToKICAgICAgICAgICAgICAgICAgICBjb250aW51ZQoKICAgICAgICAgICAgICAgIGdhel9jdXIuZXhlY3V0ZSgKICAgICAgICAgICAgICAgICAgICAiIiIKICAgICAgICAgICAgICAgICAgICBTRUxFQ1QgbGF0LCBsb24sIG5hbWUsIHBsYWNlLCB3aWtpZGF0YQogICAgICAgICAgICAgICAgICAgIEZST00gbG9jYXRpb25zCiAgICAgICAgICAgICAgICAgICAgV0hFUkUgbG9jYXRpb25faWQgPSA/CiAgICAgICAgICAgICAgICAgICAgIiIiLAogICAgICAgICAgICAgICAgICAgIChsb2NfaWQsKSwKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIHJvdyA9IGdhel9jdXIuZmV0Y2hvbmUoKQogICAgICAgICAgICAgICAgaWYgcm93IGlzIE5vbmU6CiAgICAgICAgICAgICAgICAgICAgY29udGludWUKCiAgICAgICAgICAgICAgICBsYXQsIGxvbiwgbmFtZSwgcGxhY2UsIHdpa2lkYXRhID0gcm93CgogICAgICAgICAgICAgICAgZG9tX2N1ci5leGVjdXRlKAogICAgICAgICAgICAgICAgICAgICIiIgogICAgICAgICAgICAgICAgICAgIElOU0VSVCBJTlRPIGRvbV9sb2NhdGlvbl9jYW5kaWRhdGUgKAogICAgICAgICAgICAgICAgICAgICAgICBkb21fc25hcHNob3RfaWQsCiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uX25vZGVfaWQsCiAgICAgICAgICAgICAgICAgICAgICAgIGdhemV0dGVlcl9sb2NhdGlvbl9pZCwKICAgICAgICAgICAgICAgICAgICAgICAgbGF0LAogICAgICAgICAgICAgICAgICAgICAgICBsb24sCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlLAogICAgICAgICAgICAgICAgICAgICAgICB3aWtpZGF0YSwKICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlkZW5jZSwKICAgICAgICAgICAgICAgICAgICAgICAgZGlzdF9mcm9tX2Zyb250LAogICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZCwKICAgICAgICAgICAgICAgICAgICAgICAgcGVyc2lzdHMKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgVkFMVUVTICg/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCBOVUxMLCBOVUxMLCBGQUxTRSwgRkFMU0UpCiAgICAgICAgICAgICAgICAgICAgIiIiLAogICAgICAgICAgICAgICAgICAgICgKICAgICAgICAgICAgICAgICAgICAgICAgZG9tX3NuYXBzaG90X2lkLAogICAgICAgICAgICAgICAgICAgICAgICBkb21fbG9jX2lkLAogICAgICAgICAgICAgICAgICAgICAgICBsb2NfaWQsCiAgICAgICAgICAgICAgICAgICAgICAgIGxhdCwKICAgICAgICAgICAgICAgICAgICAgICAgbG9uLAogICAgICAgICAgICAgICAgICAgICAgICBuYW1lLAogICAgICAgICAgICAgICAgICAgICAgICBwbGFjZSwKICAgICAgICAgICAgICAgICAgICAgICAgd2lraWRhdGEsCiAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICkKCiAgICBkb21fY29ubi5jb21taXQoKQogICAgZ2F6X2Nvbm4uY2xvc2UoKQoAAAAAAAAAAKAcAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAqAEAAAAAAACoAQAAAAAAAAAAAAAAAPC/"
				]
			]
		}
	],
	"build_system": "",
	"build_system_choices":
	[
	],
	"build_varint": "",
	"command_palette":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
		],
		"width": 0.0
	},
	"console":
	{
		"height": 0.0,
		"history":
		[
		]
	},
	"distraction_free":
	{
		"menu_visible": true,
		"show_minimap": false,
		"show_open_files": false,
		"show_tabs": false,
		"side_bar_visible": false,
		"status_bar_visible": false
	},
	"expanded_folders":
	[
		"/Volumes/bladerunner/Projects/sitrepc2",
		"/Volumes/bladerunner/Projects/sitrepc2/.sitrepc2",
		"/Volumes/bladerunner/Projects/sitrepc2/src",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/dom",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/ingest",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/review",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/lss",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/schema",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/schema/gazetteer",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/schema/records"
	],
	"file_history":
	[
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/review/dom_tree_model.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/review/review_workspace.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/dom/dom_ingest.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/dom/dom_dedupe.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/ingest/source_controller.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/review/dom_detail_panel.p",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/dom/dom_first_review.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/dom/dom_tree_builder.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/dom/dom_scoping.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/ingest/ingest_workspace.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/dom/dom_persist_tree.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/dom/dom_snapshot.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/dom/dom_commit.py",
		"/Volumes/bladerunner/Projects/sitrepc2/docs/DOM_PERSISTENCE.md",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/dom/dom_context_loader.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/main_window.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/review/lss_run_list_model.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/schema/records/dom.sql",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/dom/dom_context_materializer.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/review/lss_run_model.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/dom/nodes.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/review/dom_review.py",
		"/Users/bladerunner/Downloads/latin.kml",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/review/controller.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/ingest/controller.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/lss/pipeline.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/cli/extract_cmd.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/ingest/fetch_log_model.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/reference/seed_sources.jsonl",
		"/Volumes/bladerunner/Projects/sitrepc2/pyproject.toml",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/app.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/docrule/main_window.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/docrule/ui/ingest_record_picker_dialog.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/docrule/ui/gazetteer_alias_panel.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/cli/fetch_cmd.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/cli/lss_cmd.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/dom/dom_location_enrich.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/dom/dom_context_attach.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/dom/dom_enrichment.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/dom/dom_builder.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/lss/phrases.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/lss/lss_scoping.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/ui/model_validator_dialog.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/ui/gazetteer_alias_panel.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/lss/events.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/ingest/telegram.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/schema/records/lss.sql",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/lss/typedefs.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/lss/extract_lss.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/dbeditc2/main_window.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/schema/gazetteer/gazetteer.sql",
		"/Volumes/bladerunner/Projects/sitrepc2/src/dbeditc2/widgets/loc_form.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/dbeditc2/location_ws.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/dbeditc2/widgets/loc_search_panel.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/dbeditc2/gazetteer_ws.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/spatial/frontline.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/dom/dom_filtering.py",
		"/Users/bladerunner/Projects/telex/test_ingest.norm.txt",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/dom/dom_loader.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/cli/dom_cmd.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/cli/app.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/cli/dom_cmd",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/dom/candidate_confidence.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/dom/dom_persistence.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/config/paths.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/cli/init_cmd.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/reference/loc_polylines.geojson",
		"/Volumes/bladerunner/Projects/sitrepc2/src/dbeditc2/services/gazetteer_read.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/dbeditc2/services/gazetteer_search.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/dbeditc2/widgets/search_panel.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/dbeditc2/controller/editor_controller.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/dbeditc2/widgets/navigation_tree.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/dbeditc2/services/gazetteer_alias_browser.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/dbeditc2/app.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/dbeditc2/lexicon_ws.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/dbeditc2/widgets/details/empty_state_view.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/dbeditc2/models.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/dbeditc2/enums.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/dbeditc2/widgets/app_toolbar.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/dbeditc2/services/lexicon_read.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/dbeditc2/widgets/details/gazetteer_details_view.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/dbeditc2/widgets/details/lexicon_phrase_builder_view.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/docruleredit/models/entity_ruler.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/dbeditc2/widgets/entry_list_view.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/dbeditc2/widgets/entry_details_stack.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/dbeditc2/widgets/main_window.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/lss/persist.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/schema/lexicon/lexicon.sql",
		"/Users/bladerunner/Projects/telex/telex.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/viewer/document_html_viewer.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/ui/highlight_toolbar.py",
		"/Users/bladerunner/Projects/telex/seed_sources.jsonl",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/ui/ingest_record_picker_dialog.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/ui/document_summary_panel.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gazetteer/alias_service.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/ui/attribute_inspector.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/cli/source_cmd.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/ingest/translate.py",
		"/Users/bladerunner/Projects/mod-mymap/data/spatial/op_groups.geojson",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/ingest/facebook.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/ingest/twitter.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/ingest/http.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/docruleredit/nlp/pipeline.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/controller/document_controller.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/aliasedit.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/docruleredit/main_window.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/docruleredit/ui/entity_ruler_panel.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/reference/seed_lexicon.json",
		"/Volumes/bladerunner/Projects/sitrepc2/src/docruleredit/app.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/docruleredit/controller/document_controller.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/docruleredit/io/ruler_io.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/docruleredit/ui/highlight_toolbar.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/docruleredit/ui/document_summary_panel.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/docruleredit/ui/attribute_inspector.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/docruleredit/ui/menus.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/docruleredit/viewer/document_viewer.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/docruleredit/io/csv_loader.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/docruleredit/io/json_loader.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/docruleredit/io/text_loader.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/docruleredit/ruler_io.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/docruleredit/entity_ruler.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/docruleredit/document_controller.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/docruleredit/pipeline.py",
		"/Users/bladerunner/Projects/sitrepc2.bak/src/sitrepc2/frontline/loc_amk.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gazetteer/osm_ingest.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gazetteer/__init__.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/ingest/loaders.py",
		"/Volumes/bladerunner/Projects/sitrepc2/src/sitrepc2/gui/ingest/ingest_controller.py"
	],
	"find":
	{
		"height": 38.0
	},
	"find_in_files":
	{
		"height": 119.0,
		"where_history":
		[
			"/Volumes/bladerunner/Projects/sitrepc2",
			"<open folders>"
		]
	},
	"find_state":
	{
		"case_sensitive": true,
		"find_history":
		[
			"_collect_context_chain",
			"materialize",
			"_load_sources",
			"class FetchResult",
			"conn",
			"recompute_commit_eligibility",
			"advance_dom_snapshot",
			"self.commit_button",
			"contextualize",
			"records_path",
			"columnCount",
			"IngestController",
			"model",
			"_run_next_extract",
			"on_extract",
			"on_source_selection",
			"STATE_COLOR",
			"PostState",
			"_remove_sources",
			"self.ed_kind",
			"remove_sources",
			"set_active",
			"sources",
			"remove_from_sources",
			"def _remove_sources",
			"_remove_sources",
			"_populate_ro",
			"def _populate",
			"self._pending",
			"self._pending_alias_text",
			"set_current_label",
			"selectedText",
			"selectedTextChanged",
			"CONTEXT",
			"attached = ",
			"\")\"",
			"persist_role",
			"persist",
			"role",
			"PhraseMatch",
			"extracted_word",
			"role_kind",
			"iter_content_words",
			"word_matches(",
			"WordMatch",
			"osm",
			"btn",
			"width",
			"min_width",
			"self.setEnable",
			"selected",
			"select",
			"(?, ?, ?, ?, ?, ?)",
			"osm",
			"osm_id",
			"get(\"",
			"select",
			"int(",
			"in",
			"int(",
			"set_view_mode",
			"_gazetteer_ws",
			"def _load_groups",
			"iter_content_words",
			"iter_words",
			"summary",
			"text",
			"LOCATION",
			"nearest_loc",
			"dist_from_loc",
			"distance_from_loc",
			"collect",
			"keep_non",
			"if keep_",
			"json",
			"lexicon.json",
			"lexicon.db",
			"osm_id",
			"def _alias_input",
			"def alias_input",
			"alias_input",
			"set_entity",
			"build_lss_events",
			"def build",
			"extract_callback",
			"role_candidate",
			"role_",
			"overlap",
			"word matches",
			"word_matches",
			"compute",
			"build_",
			"phrases",
			"from phrases",
			"like = ",
			"strip",
			"strip()",
			"text =",
			"root",
			"current_root",
			"copied",
			"war_lexicon.json",
			"war_lexicon.jsonl",
			"menu",
			"meta",
			"osmium.",
			"on_open_dom",
			"def load_posts",
			"def _load_sources",
			"on_extract_clicked",
			"extract_button",
			"print",
			"if not _matches",
			"#if not _matches_phrase_filter(text_orig):\n    #continue",
			"if not _matches_phrase_filter(text_orig):\n    continue",
			"if not _pass",
			"if not",
			"load_dotenv",
			"direction",
			"id ",
			"direction",
			"region_osm",
			", ",
			"region",
			"from sitrepc2.nlp.",
			"search",
			"decode",
			"Chervona Sloboda"
		],
		"highlight": true,
		"in_selection": false,
		"preserve_case": false,
		"regex": false,
		"replace_history":
		[
			"phrase_matches(",
			"PhraseMatch",
			"_location_ws",
			"dist_from_front",
			"distance_from_front",
			",",
			"from sitrepc2.lss",
			"region",
			"register_search_phrases",
			"events",
			"Event",
			"Location",
			"EventMatch",
			"WordMatch",
			"GAZ_GROUPS",
			"",
			"Location",
			"EventMatch",
			"LocaleCandidate",
			"List"
		],
		"reverse": false,
		"scrollbar_highlights": true,
		"show_context": true,
		"use_buffer2": false,
		"use_gitignore": true,
		"whole_word": false,
		"wrap": true
	},
	"groups":
	[
		{
			"sheets":
			[
				{
					"buffer": 0,
					"file": "src/sitrepc2/gui/ingest/ingest_workspace.py",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 17495,
						"regions":
						{
						},
						"selection":
						[
							[
								12566,
								12566
							]
						],
						"settings":
						{
							"incomplete_sync": null,
							"remote_loading": false,
							"synced": false,
							"syntax": "Packages/Python/Python.sublime-syntax",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 5004.0,
						"zoom_level": 1.0
					},
					"stack_index": 5,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 1,
					"file": "src/sitrepc2/schema/records/dom.sql",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 6713,
						"regions":
						{
						},
						"selection":
						[
							[
								6713,
								6713
							]
						],
						"settings":
						{
							"incomplete_sync": null,
							"remote_loading": false,
							"synced": false,
							"syntax": "Packages/SQL/SQL.sublime-syntax",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 2780.0,
						"zoom_level": 1.0
					},
					"stack_index": 4,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 2,
					"file": "src/sitrepc2/dom/dom_dedupe.py",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 4887,
						"regions":
						{
						},
						"selection":
						[
							[
								4887,
								4887
							]
						],
						"settings":
						{
							"incomplete_sync": null,
							"remote_loading": false,
							"synced": false,
							"syntax": "Packages/Python/Python.sublime-syntax",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 1897.0,
						"zoom_level": 1.0
					},
					"stack_index": 3,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 3,
					"file": "src/sitrepc2/dom/dom_first_review.py",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 2897,
						"regions":
						{
						},
						"selection":
						[
							[
								2561,
								2561
							]
						],
						"settings":
						{
							"incomplete_sync": null,
							"remote_loading": false,
							"synced": false,
							"syntax": "Packages/Python/Python.sublime-syntax",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 585.0,
						"zoom_level": 1.0
					},
					"stack_index": 2,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 4,
					"file": "src/sitrepc2/dom/dom_context_materializer.py",
					"selected": true,
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 2418,
						"regions":
						{
						},
						"selection":
						[
							[
								1618,
								1618
							]
						],
						"settings":
						{
							"incomplete_sync": null,
							"remote_loading": false,
							"synced": false,
							"syntax": "Packages/Python/Python.sublime-syntax",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 591.0,
						"zoom_level": 1.0
					},
					"stack_index": 1,
					"stack_multiselect": true,
					"type": "text"
				},
				{
					"buffer": 5,
					"file": "src/sitrepc2/dom/dom_scoping.py",
					"selected": true,
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 7328,
						"regions":
						{
						},
						"selection":
						[
							[
								424,
								424
							]
						],
						"settings":
						{
							"incomplete_sync": null,
							"remote_loading": false,
							"synced": false,
							"syntax": "Packages/Python/Python.sublime-syntax",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 0,
					"stack_multiselect": false,
					"type": "text"
				}
			]
		}
	],
	"incremental_find":
	{
		"height": 23.0
	},
	"input":
	{
		"height": 44.0
	},
	"layout":
	{
		"cells":
		[
			[
				0,
				0,
				1,
				1
			]
		],
		"cols":
		[
			0.0,
			1.0
		],
		"rows":
		[
			0.0,
			1.0
		]
	},
	"menu_visible": true,
	"output.SFTP":
	{
		"height": 0.0,
		"history":
		[
		]
	},
	"output.find_results":
	{
		"height": 160.0,
		"history":
		[
		]
	},
	"pinned_build_system": "",
	"project": "sitrepc2.sublime-project",
	"replace":
	{
		"height": 42.0
	},
	"save_all_on_build": true,
	"select_file":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
			[
				"",
				"utils/units/unit_str.py"
			]
		],
		"width": 0.0
	},
	"select_project":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
		],
		"width": 0.0
	},
	"select_symbol":
	{
		"height": 255.0,
		"last_filter": "",
		"selected_items":
		[
		],
		"width": 592.0
	},
	"selected_group": 0,
	"settings":
	{
	},
	"show_minimap": false,
	"show_open_files": true,
	"show_tabs": true,
	"side_bar_visible": true,
	"side_bar_width": 205.0,
	"status_bar_visible": true,
	"template_settings":
	{
	}
}
